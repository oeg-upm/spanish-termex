{
    "id": "C-49",
    "original_text": "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers. In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time. Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting. We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol. We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage. Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1. INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6]. Delay-tolerant networks provide service despite long link delays or frequent link breaks. Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2]. Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes. For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes. Mobile opportunistic networks have received increasing interest from researchers. In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14]. We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits. Opportunistic networking is one promising approach for those children to exchange information. One fundamental problem in opportunistic networks is how to route messages from their source to their destination. Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception. In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11]. Some devices can form a small mobile ad-hoc network when the nodes move close to each other. But a node may frequently be isolated from other nodes. Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks. Indeed, there may never exist an end-to-end path between two given devices. In this paper, we study protocols for routing messages between wireless networking devices carried by people. We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination. Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people). Each message is destined for a specific person and thus for a specific node carried by that person. Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message. We do not consider multicast or geocast in this paper. Many routing protocols have been proposed in the literature. Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model. Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols. Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9]. Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces. Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set. Su et al. [22] simulated a set of routing 35 protocols in a small experimental network. Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes). Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation. Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation. Our messagegeneration model, however, was synthetic. To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users. Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22]. We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2. ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination). Any node may generate messages for any other node, and may carry messages destined for other nodes. In this paper, we consider only messages that are unicast (single destination). DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy. Two extremes are the direct-delivery protocol and the epidemic protocol. The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication. The latter uses transfer probability 1 for all nodes and unlimited replication. Both these protocols have their advantages and disadvantages. All other protocols are between the two extremes. First, we define the notion of contact between two nodes. Then we describe five existing protocols before presenting our own proposal. A contact is defined as a period of time during which two nodes have the opportunity to communicate. Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes. A node may be in contact with several other nodes at the same time. The contact history of a node is a sequence of contacts with other nodes. Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j. We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message. In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network. The source node sends a copy of the message to every node that it meets. The nodes that receive a copy of the message also send a copy of the message to every node that they meet. Eventually, a copy of the message arrives at the destination of the message. This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly. Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited. At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops. After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message. An optimization to reduce the communication cost is to transfer index messages before transferring any data message. The index messages contain IDs of messages that a node currently holds. Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact. We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies. The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node. When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network. Lindgren et al. [16] chose 0.75, as did we in our evaluation. When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update. The PRoPHET protocol exchanges index messages as well as delivery probabilities. When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination. They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links. The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor. Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3. TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future. But our method differs in that we estimate the contact probability within a period of time. For example, what is the contact probability in the next hour? Neither PRoPHET nor Link-State considers time in this way. One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time. However, this approach does not capture the frequency of contacts. For example, one node may have a long contact with another node, followed by a long non-contact period. A third node may have a short contact with the first node, followed by a short non-contact period. Using the above estimation approach, both examples would have similar contact probability. In the second example, however, the two nodes have more frequent contacts. We design a method to capture the contact frequency of mobile nodes. For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure. We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time. We number each of the n periods from 0 to n − 1, then check each period. If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0. The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history. The above probability is the direct contact probability of two nodes. We are also interested in the probability that we may be able to pass a message through a sequence of k nodes. We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node. We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages). If the destination of a message is the receiver itself, the message is delivered. Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination. If the probability is less than the threshold, the receiver discards the message. Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination. Therefore, meta-data exchange is necessary. When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold. After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message. If it has, it sends a copy of the message. When a node receives a message, if the destination of the message is the receiver itself, the message is delivered. Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination. Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j. Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes. Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i. Other matrix entries are updated through exchange with other nodes when they meet. When two nodes i and j meet, they first exchange their contact probability matrices. Node i compares its own contact matrix with node js matrix. If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix. After the exchange, the two nodes will have identical contact probability matrices. Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6). If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j. All the above effort serves to determine the transfer probability when two nodes meet. The replication decision is orthogonal to the transfer decision. In our implementation, we always replicate. Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4. EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College. Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13]. Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point. We treat each unique MAC address as a node. For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12]. Our data are not contacts in a mobile ad-hoc network. We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point. Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms. This assumption may not be accurate,2 but it is a good first approximation. In our simulation, we imagine the same clients and same mobility in a network with no access points. Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility. We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users. Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal. Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery. We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds. Furthermore, connection establishment also takes time, such as DHCP. In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP. To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision. The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16]. The message probability was the probability of generating messages, as described in Section 4.3. The default transmission bandwidth was 11 Mb/s. When one node tried to transmit a message, it first checked whether any nearby node was transmitting. If it was, the node backed off a random number of slots. Each slot was 1 millisecond, and the maximum number of backoff slots was 30. The size of messages was uniformly distributed between 80 bytes and 1024 bytes. The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding. The time to live (TTL) was the maximum duration that a message may exist before expiring. The storage capacity was the maximum space that a node can use for storing messages. For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01. The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols. Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time. When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period. This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts. Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days. The plot shows a clear diurnal activity pattern. The activities reached lowest around 5am and peaked between 4pm and 5pm. We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too. Messages expire after a TTL. We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale). The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot. Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.) Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale). Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation. The delivery ratio of epidemic routing was the best. The three prediction-based approaches had low delivery ratio, compared to epidemic routing. Although our method was slightly better than the other two, the advantage was marginal. The high delivery ratio of epidemic routing came with a price: excessive transmissions. Figure 3 shows the number of message data transmissions. The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols. Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered. Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2. Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs. Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact. The direct-delivery and random protocols had no meta-data transmissions. In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale). Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network. Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols. Recall that the directdelivery and random protocols did not replicate, thus had no data duplications. Figure 6 shows both the median and mean delivery delays. All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs. With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays. The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL. The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network. Indeed, the figures show only the delay time for delivered messages. For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements. For longer TTLs, more messages were delivered even for the directdelivery protocol. The statistics of longer TTLs for comparison are more meaningful than those of short TTLs. Since our message generation rate was low, the storage usage was also low in our simulation. Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale). Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node. The epidemic routing had the most storage usage. The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols. We studied the impact of different parameters of our predictionbased routing protocol. Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT. Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.) A higher probability threshold limited the transfer probability, so fewer messages were delivered. It also required fewer transmissions as shown in Figure 9. With a larger prediction window, we got a higher contact probability. Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5. RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature. We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing. LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol. Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location. A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position. Our protocol does not require knowledge of the nodes locations, and learns their contact patterns. Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space. Location information of nodes is required to construct mobility patterns. Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks. They use a Kalman filter to compute the probability that a node delivers messages. This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes. When two nodes are in the same connected cloud, DSDV [19] routing is used. Network coding also draws much interest from DTN research. Erasure-coding [10, 24] explores coding algorithms to reduce message replicas. The source node replicates a message m times, then uses a coding scheme to encode them in one big message. After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes. If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6. SUMMARY We propose a prediction-based routing protocol for opportunistic networks. We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols. Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication. Direct delivery is suitable for devices that require an extremely low power consumption. The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes. Epidemic routing delivered the most messages. The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide. None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption. The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing. They also had fewer data duplications than epidemic routing. All the prediction-based routing protocols that we have evaluated had similar performance. Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage. There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results. Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability. We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages. In some applications, context information (such as location) may be available for the peers. One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message. Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location. Research on routing in opportunistic networks is still in its early stage. Many other issues of opportunistic networks, such as security and privacy, are mainly left open. We anticipate studying these issues in future work. 7. ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College. It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance. Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8. REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine. MaxProp: routing for vehicle-based 41 disruption-tolerant networks. In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss. Delay-tolerant networking: An approach to interplanetary Internet. IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies. A survey of mobility models for ad-hoc network research. Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson. People-centric urban sensing. In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott. Impact of human mobility on the design of opportunistic forwarding algorithms. In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall. A delay-tolerant network architecture for challenged internets. In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov. The changing usage of a mature campus-wide wireless network. In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot. Pocket switched networks and human mobility in conference environments. In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan. Model T: an empirical model for user registration patterns in a campus wireless LAN. In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall. Using redundancy to cope with failures in a delay tolerant network. In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein. Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet. In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien. Analysis of a campus-wide wireless network. Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov. CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang. Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks. In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan. Evaluating mobility pattern space routing for DTNs. In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen. Probabilistic routing in intermittently connected networks. In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo. Adaptive routing for intermittently connected mobile ad-hoc networks. In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC. One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat. Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers. Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing. In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He. Evaluating next-cell predictors with extensive Wi-Fi mobility data. IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara. An empirical evaluation of the student-net delay tolerant network. In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker. Epidemic routing for partially-connected ad-hoc networks. Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall. Erasure-coding based routing for opportunistic networks. In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu. DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering. In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42",
    "original_translation": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42",
    "original_sentences": [
        "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
        "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
        "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
        "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
        "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
        "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
        "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
        "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
        "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
        "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
        "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
        "Mobile opportunistic networks have received increasing interest from researchers.",
        "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
        "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
        "Opportunistic networking is one promising approach for those children to exchange information.",
        "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
        "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
        "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
        "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
        "But a node may frequently be isolated from other nodes.",
        "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
        "Indeed, there may never exist an end-to-end path between two given devices.",
        "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
        "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
        "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
        "Each message is destined for a specific person and thus for a specific node carried by that person.",
        "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
        "We do not consider multicast or geocast in this paper.",
        "Many routing protocols have been proposed in the literature.",
        "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
        "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
        "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
        "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
        "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
        "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
        "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
        "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
        "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
        "Our messagegeneration model, however, was synthetic.",
        "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
        "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
        "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
        "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
        "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
        "In this paper, we consider only messages that are unicast (single destination).",
        "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
        "Two extremes are the direct-delivery protocol and the epidemic protocol.",
        "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
        "The latter uses transfer probability 1 for all nodes and unlimited replication.",
        "Both these protocols have their advantages and disadvantages.",
        "All other protocols are between the two extremes.",
        "First, we define the notion of contact between two nodes.",
        "Then we describe five existing protocols before presenting our own proposal.",
        "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
        "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
        "A node may be in contact with several other nodes at the same time.",
        "The contact history of a node is a sequence of contacts with other nodes.",
        "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
        "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
        "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
        "The source node sends a copy of the message to every node that it meets.",
        "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
        "Eventually, a copy of the message arrives at the destination of the message.",
        "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
        "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
        "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
        "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
        "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
        "The index messages contain IDs of messages that a node currently holds.",
        "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
        "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
        "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
        "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
        "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
        "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
        "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
        "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
        "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
        "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
        "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
        "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
        "But our method differs in that we estimate the contact probability within a period of time.",
        "For example, what is the contact probability in the next hour?",
        "Neither PRoPHET nor Link-State considers time in this way.",
        "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
        "However, this approach does not capture the frequency of contacts.",
        "For example, one node may have a long contact with another node, followed by a long non-contact period.",
        "A third node may have a short contact with the first node, followed by a short non-contact period.",
        "Using the above estimation approach, both examples would have similar contact probability.",
        "In the second example, however, the two nodes have more frequent contacts.",
        "We design a method to capture the contact frequency of mobile nodes.",
        "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
        "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
        "We number each of the n periods from 0 to n − 1, then check each period.",
        "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
        "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
        "The above probability is the direct contact probability of two nodes.",
        "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
        "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
        "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
        "If the destination of a message is the receiver itself, the message is delivered.",
        "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
        "If the probability is less than the threshold, the receiver discards the message.",
        "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
        "Therefore, meta-data exchange is necessary.",
        "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
        "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
        "If it has, it sends a copy of the message.",
        "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
        "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
        "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
        "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
        "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
        "Other matrix entries are updated through exchange with other nodes when they meet.",
        "When two nodes i and j meet, they first exchange their contact probability matrices.",
        "Node i compares its own contact matrix with node js matrix.",
        "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
        "After the exchange, the two nodes will have identical contact probability matrices.",
        "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
        "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
        "All the above effort serves to determine the transfer probability when two nodes meet.",
        "The replication decision is orthogonal to the transfer decision.",
        "In our implementation, we always replicate.",
        "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
        "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
        "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
        "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
        "We treat each unique MAC address as a node.",
        "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
        "Our data are not contacts in a mobile ad-hoc network.",
        "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
        "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
        "This assumption may not be accurate,2 but it is a good first approximation.",
        "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
        "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
        "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
        "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
        "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
        "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
        "Furthermore, connection establishment also takes time, such as DHCP.",
        "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
        "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
        "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
        "The message probability was the probability of generating messages, as described in Section 4.3.",
        "The default transmission bandwidth was 11 Mb/s.",
        "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
        "If it was, the node backed off a random number of slots.",
        "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
        "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
        "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
        "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
        "The storage capacity was the maximum space that a node can use for storing messages.",
        "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
        "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
        "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
        "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
        "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
        "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
        "The plot shows a clear diurnal activity pattern.",
        "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
        "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
        "Messages expire after a TTL.",
        "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
        "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
        "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
        "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
        "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
        "The delivery ratio of epidemic routing was the best.",
        "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
        "Although our method was slightly better than the other two, the advantage was marginal.",
        "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
        "Figure 3 shows the number of message data transmissions.",
        "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
        "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
        "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
        "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
        "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
        "The direct-delivery and random protocols had no meta-data transmissions.",
        "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
        "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
        "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
        "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
        "Figure 6 shows both the median and mean delivery delays.",
        "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
        "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
        "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
        "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
        "Indeed, the figures show only the delay time for delivered messages.",
        "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
        "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
        "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
        "Since our message generation rate was low, the storage usage was also low in our simulation.",
        "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
        "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
        "The epidemic routing had the most storage usage.",
        "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
        "We studied the impact of different parameters of our predictionbased routing protocol.",
        "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
        "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
        "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
        "It also required fewer transmissions as shown in Figure 9.",
        "With a larger prediction window, we got a higher contact probability.",
        "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
        "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
        "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
        "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
        "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
        "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
        "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
        "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
        "Location information of nodes is required to construct mobility patterns.",
        "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
        "They use a Kalman filter to compute the probability that a node delivers messages.",
        "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
        "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
        "Network coding also draws much interest from DTN research.",
        "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
        "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
        "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
        "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
        "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
        "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
        "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
        "Direct delivery is suitable for devices that require an extremely low power consumption.",
        "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
        "Epidemic routing delivered the most messages.",
        "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
        "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
        "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
        "They also had fewer data duplications than epidemic routing.",
        "All the prediction-based routing protocols that we have evaluated had similar performance.",
        "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
        "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
        "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
        "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
        "In some applications, context information (such as location) may be available for the peers.",
        "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
        "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
        "Research on routing in opportunistic networks is still in its early stage.",
        "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
        "We anticipate studying these issues in future work. 7.",
        "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
        "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
        "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
        "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
        "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
        "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
        "Delay-tolerant networking: An approach to interplanetary Internet.",
        "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
        "A survey of mobility models for ad-hoc network research.",
        "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
        "People-centric urban sensing.",
        "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
        "Impact of human mobility on the design of opportunistic forwarding algorithms.",
        "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
        "A delay-tolerant network architecture for challenged internets.",
        "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
        "The changing usage of a mature campus-wide wireless network.",
        "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
        "Pocket switched networks and human mobility in conference environments.",
        "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
        "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
        "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
        "Using redundancy to cope with failures in a delay tolerant network.",
        "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
        "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
        "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
        "Analysis of a campus-wide wireless network.",
        "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
        "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
        "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
        "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
        "Evaluating mobility pattern space routing for DTNs.",
        "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
        "Probabilistic routing in intermittently connected networks.",
        "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
        "Adaptive routing for intermittently connected mobile ad-hoc networks.",
        "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
        "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
        "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
        "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
        "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
        "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
        "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
        "An empirical evaluation of the student-net delay tolerant network.",
        "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
        "Epidemic routing for partially-connected ad-hoc networks.",
        "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
        "Erasure-coding based routing for opportunistic networks.",
        "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
        "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
        "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
    ],
    "translated_text_sentences": [
        "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos.",
        "En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento.",
        "Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas.",
        "Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto.",
        "Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos.",
        "Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1.",
        "Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6].",
        "Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces.",
        "Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2].",
        "Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos.",
        "Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos.",
        "Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores.",
        "En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14].",
        "Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura.",
        "La red oportunista es un enfoque prometedor para que esos niños intercambien información.",
        "Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino.",
        "Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción.",
        "En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11].",
        "Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí.",
        "Pero un nodo puede estar frecuentemente aislado de otros nodos.",
        "Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas.",
        "De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados.",
        "En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas.",
        "Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino.",
        "Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas).",
        "Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona.",
        "Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje.",
        "No consideramos la multidifusión ni la geodifusión en este documento.",
        "Se han propuesto muchos protocolos de enrutamiento en la literatura.",
        "Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas.",
        "Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento.",
        "Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9].",
        "Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas.",
        "Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista.",
        "Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental.",
        "Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos).",
        "Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación.",
        "En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación.",
        "Nuestro modelo de generación de mensajes, sin embargo, era sintético.",
        "Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios.",
        "Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22].",
        "También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2.",
        "PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino).",
        "Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos.",
        "En este documento, consideramos solo mensajes que son unicast (un solo destino).",
        "Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia?",
        "Dos extremos son el protocolo de entrega directa y el protocolo epidémico.",
        "El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación.",
        "El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada.",
        "Ambos protocolos tienen sus ventajas y desventajas.",
        "Todos los demás protocolos se encuentran entre los dos extremos.",
        "Primero, definimos la noción de contacto entre dos nodos.",
        "Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta.",
        "Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse.",
        "Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos.",
        "Un nodo puede estar en contacto con varios otros nodos al mismo tiempo.",
        "La historia de contactos de un nodo es una secuencia de contactos con otros nodos.",
        "El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j.",
        "Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje.",
        "En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red.",
        "El nodo fuente envía una copia del mensaje a cada nodo que encuentra.",
        "Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran.",
        "Finalmente, una copia del mensaje llega al destino del mensaje.",
        "Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo.",
        "Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada.",
        "Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos.",
        "Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje.",
        "Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos.",
        "Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente.",
        "Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto.",
        "Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias.",
        "El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo.",
        "Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada.",
        "Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación.",
        "Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización.",
        "El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega.",
        "Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino.",
        "Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces.",
        "La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento.",
        "Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo.",
        "PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro.",
        "Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo.",
        "Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora?",
        "Ni PRoPHET ni Link-State consideran el tiempo de esta manera.",
        "Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total.",
        "Sin embargo, este enfoque no captura la frecuencia de los contactos.",
        "Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto.",
        "Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto.",
        "Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar.",
        "En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes.",
        "Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles.",
        "Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento.",
        "Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual.",
        "Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período.",
        "Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0.",
        "La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido.",
        "La probabilidad anterior es la probabilidad de contacto directo entre dos nodos.",
        "También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos.",
        "Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión.",
        "Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice).",
        "Si el destino de un mensaje es el receptor mismo, el mensaje se entrega.",
        "De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino.",
        "Si la probabilidad es menor que el umbral, el receptor descarta el mensaje.",
        "Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje.",
        "Por lo tanto, el intercambio de metadatos es necesario.",
        "Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral.",
        "Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos.",
        "Si lo tiene, envía una copia del mensaje.",
        "Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado.",
        "De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje.",
        "Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j.",
        "Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos.",
        "Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i.",
        "Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran.",
        "Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto.",
        "El nodo i compara su propia matriz de contactos con la matriz del nodo j.",
        "Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz.",
        "Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas.",
        "A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6).",
        "Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j.",
        "Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran.",
        "La decisión de replicación es ortogonal a la decisión de transferencia.",
        "En nuestra implementación, siempre replicamos.",
        "Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4.",
        "RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College.",
        "El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001.",
        "Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso.",
        "Tratamos cada dirección MAC única como un nodo.",
        "Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12].",
        "Nuestros datos no son contactos en una red ad-hoc móvil.",
        "Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso.",
        "Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista.",
        "Esta suposición puede que no sea precisa, pero es una buena primera aproximación.",
        "En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso.",
        "Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios.",
        "Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios.",
        "Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal.",
        "Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos.",
        "Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos.",
        "Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP.",
        "En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP).",
        "Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones.",
        "La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16].",
        "La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3.",
        "El ancho de banda de transmisión predeterminado era de 11 Mb/s.",
        "Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo.",
        "Si lo era, el nodo retrocedía un número aleatorio de ranuras.",
        "Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30.",
        "El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes.",
        "El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse.",
        "El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar.",
        "La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes.",
        "Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01.",
        "El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior.",
        "Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual.",
        "Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período.",
        "Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos.",
        "La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días.",
        "El gráfico muestra un patrón de actividad diurna claro.",
        "Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm.",
        "Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también.",
        "Los mensajes caducan después de un TTL.",
        "No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica).",
        "Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico.",
        "La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET).",
        "Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica).",
        "Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes.",
        "La tasa de entrega del enrutamiento epidémico fue la mejor.",
        "Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico.",
        "Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal.",
        "La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas.",
        "La Figura 3 muestra el número de transmisiones de datos de mensajes.",
        "El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones.",
        "Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados.",
        "Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2.",
        "La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos.",
        "Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto.",
        "Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos.",
        "Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica).",
        "Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red.",
        "La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones.",
        "Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos.",
        "La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas.",
        "Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos.",
        "Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos.",
        "La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora.",
        "Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red.",
        "De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados.",
        "Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media.",
        "Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa.",
        "Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos.",
        "Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación.",
        "La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica).",
        "Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo.",
        "El enrutamiento epidémico tuvo el mayor uso de almacenamiento.",
        "El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones.",
        "Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones.",
        "Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT.",
        "La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos).",
        "Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes.",
        "También requirió menos transmisiones como se muestra en la Figura 9.",
        "Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta.",
        "Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11.",
        "TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura.",
        "No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno.",
        "LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación.",
        "Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida.",
        "Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición.",
        "Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto.",
        "Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad.",
        "Se requiere información de la ubicación de los nodos para construir patrones de movilidad.",
        "Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas.",
        "Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes.",
        "Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos.",
        "Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19].",
        "La codificación de red también despierta mucho interés en la investigación de DTN.",
        "La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes.",
        "El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande.",
        "Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados.",
        "Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6.",
        "RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas.",
        "Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes.",
        "Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos.",
        "La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo.",
        "El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad.",
        "El enrutamiento epidémico entregó la mayoría de los mensajes.",
        "Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar.",
        "Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto.",
        "Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico.",
        "También tenían menos duplicaciones de datos que el enrutamiento epidémico.",
        "Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar.",
        "Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento.",
        "Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos.",
        "De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia.",
        "Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast.",
        "En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares.",
        "También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje.",
        "La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada.",
        "La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana.",
        "Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos.",
        "Anticipamos estudiar estos temas en trabajos futuros.",
        "AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College.",
        "Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial.",
        "Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador.",
        "REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine.",
        "MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos.",
        "En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss.",
        "Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria.",
        "Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies.",
        "Una encuesta de modelos de movilidad para la investigación de redes ad-hoc.",
        "Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson.",
        "Detección urbana centrada en las personas.",
        "En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott.",
        "Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista.",
        "En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall.",
        "Una arquitectura de red tolerante a retrasos para internet con limitaciones.",
        "En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov.",
        "El cambio en el uso de una red inalámbrica madura en todo el campus.",
        "En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot.",
        "Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias.",
        "En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan.",
        "Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus.",
        "En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall.",
        "Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos.",
        "En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein.",
        "Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet.",
        "En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien.",
        "Análisis de una red inalámbrica en todo el campus.",
        "Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov.",
        "Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang.",
        "Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares.",
        "En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan.",
        "Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs.",
        "En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen.",
        "Enrutamiento probabilístico en redes intermitentemente conectadas.",
        "En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo.",
        "Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas.",
        "En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC.",
        "Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat.",
        "Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles.",
        "Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc.",
        "En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He.",
        "Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi.",
        "IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara.",
        "Una evaluación empírica de la red tolerante a retrasos Student-Net.",
        "En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker.",
        "Enrutamiento epidémico para redes ad-hoc parcialmente conectadas.",
        "Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall.",
        "Enrutamiento basado en codificación de borrado para redes oportunísticas.",
        "En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu.",
        "DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua.",
        "En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42"
    ],
    "error_count": 2,
    "keys": {
        "routing protocol": {
            "translated_key": "protocolo de enrutamiento",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed <br>routing protocol</br>.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the <br>routing protocol</br> performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based <br>routing protocol</br>, and compare it to the above in our evaluation. 2.",
                "<br>routing protocol</br> A <br>routing protocol</br> is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic <br>routing protocol</br> The epidemic <br>routing protocol</br> [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic <br>routing protocol</br> using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our <br>routing protocol</br> We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic <br>routing protocol</br> also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic <br>routing protocol</br> should be the fastest <br>routing protocol</br> since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased <br>routing protocol</br>.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network <br>routing protocol</br>.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive <br>routing protocol</br> for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based <br>routing protocol</br> for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed <br>routing protocol</br>.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the <br>routing protocol</br> performance in a small network (20-30 nodes).",
                "We also propose a new prediction-based <br>routing protocol</br>, and compare it to the above in our evaluation. 2.",
                "<br>routing protocol</br> A <br>routing protocol</br> is designed for forwarding messages from one node (source) to another node (destination).",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic <br>routing protocol</br> The epidemic <br>routing protocol</br> [23] floods messages into the network."
            ],
            "translated_annotated_samples": [
                "Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio <br>protocolo de enrutamiento</br> propuesto.",
                "Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del <br>protocolo de enrutamiento</br> en una red pequeña (20-30 nodos).",
                "También proponemos un nuevo <br>protocolo de enrutamiento</br> basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2.",
                "PROTOCOLO DE ENRUTAMIENTO Un <br>protocolo de enrutamiento</br> está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino).",
                "En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El <br>protocolo de enrutamiento</br> epidémico [23] difunde mensajes en la red."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio <br>protocolo de enrutamiento</br> propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del <br>protocolo de enrutamiento</br> en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo <br>protocolo de enrutamiento</br> basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un <br>protocolo de enrutamiento</br> está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El <br>protocolo de enrutamiento</br> epidémico [23] difunde mensajes en la red. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "contact trace": {
            "translated_key": "rastro de contactos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the <br>contact trace</br>, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the <br>contact trace</br> up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the <br>contact trace</br>, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the <br>contact trace</br> up to the current time."
            ],
            "translated_annotated_samples": [
                "El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el <br>rastro de contactos</br>, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior.",
                "Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el <br>rastro de contactos</br> hasta el tiempo actual."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el <br>rastro de contactos</br>, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el <br>rastro de contactos</br> hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "delay-tolerant network": {
            "translated_key": "red tolerante a retrasos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of <br>delay-tolerant network</br> (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based <br>delay-tolerant network</br> routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A <br>delay-tolerant network</br> architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "INTRODUCTION Mobile opportunistic networks are one kind of <br>delay-tolerant network</br> (DTN) [6].",
                "LeBrun et al. [14] propose a location-based <br>delay-tolerant network</br> routing protocol.",
                "A <br>delay-tolerant network</br> architecture for challenged internets."
            ],
            "translated_annotated_samples": [
                "Las redes móviles oportunísticas son un tipo de <br>red tolerante a retrasos</br> (DTN, por sus siglas en inglés) [6].",
                "LeBrun et al. [14] proponen un protocolo de enrutamiento de <br>red tolerante a retrasos</br> basado en la ubicación.",
                "Una arquitectura de <br>red tolerante a retrasos</br> para internet con limitaciones."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de <br>red tolerante a retrasos</br> (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de <br>red tolerante a retrasos</br> basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de <br>red tolerante a retrasos</br> para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "mobile opportunistic network": {
            "translated_key": "red oportunista móvil",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale <br>mobile opportunistic network</br>, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale <br>mobile opportunistic network</br>, using realistic contact traces derived from real traces of a production network with more than 5, 000 users."
            ],
            "translated_annotated_samples": [
                "Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una <br>red oportunista móvil</br> a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una <br>red oportunista móvil</br> a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "frequent link break": {
            "translated_key": "cortes de enlaces",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or <br>frequent link break</br>s.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and <br>frequent link break</br>s caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Delay-tolerant networks provide service despite long link delays or <br>frequent link break</br>s.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and <br>frequent link break</br>s caused by power-offs and the mobility of the nodes."
            ],
            "translated_annotated_samples": [
                "Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes <br>cortes de enlaces</br>.",
                "Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y <br>cortes frecuentes</br> en las conexiones causados por apagados de energía y la movilidad de los nodos."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes <br>cortes de enlaces</br>. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y <br>cortes frecuentes</br> en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    "cortes de enlaces",
                    "cortes frecuentes"
                ]
            ]
        },
        "end-to-end path": {
            "translated_key": "camino de extremo a extremo",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an <br>end-to-end path</br> between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Indeed, there may never exist an <br>end-to-end path</br> between two given devices."
            ],
            "translated_annotated_samples": [
                "De hecho, puede que nunca exista un <br>camino de extremo a extremo</br> entre dos dispositivos dados."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un <br>camino de extremo a extremo</br> entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "random mobility model": {
            "translated_key": "modelos de movilidad aleatoria",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using <br>random mobility model</br>s in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Realising the limitations of using <br>random mobility model</br>s in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces."
            ],
            "translated_annotated_samples": [
                "Reconociendo las limitaciones de utilizar <br>modelos de movilidad aleatoria</br> en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar <br>modelos de movilidad aleatoria</br> en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "realistic mobility trace": {
            "translated_key": "trazas de movilidad realistas",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with <br>realistic mobility trace</br>s.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with <br>realistic mobility trace</br>s."
            ],
            "translated_annotated_samples": [
                "Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con <br>trazas de movilidad realistas</br>."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con <br>trazas de movilidad realistas</br>. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "unicast": {
            "translated_key": "unicast",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are <br>unicast</br> (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in <br>unicast</br> messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "In this paper, we consider only messages that are <br>unicast</br> (single destination).",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in <br>unicast</br> messages."
            ],
            "translated_annotated_samples": [
                "En este documento, consideramos solo mensajes que son <br>unicast</br> (un solo destino).",
                "Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en <br>mensajes unicast</br>."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son <br>unicast</br> (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en <br>mensajes unicast</br>. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    "unicast",
                    "mensajes unicast"
                ]
            ]
        },
        "transfer probability": {
            "translated_key": "probabilidad de transferencia",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their <br>transfer probability</br> and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses <br>transfer probability</br> 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a <br>transfer probability</br> between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the <br>transfer probability</br> when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the <br>transfer probability</br>, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its <br>transfer probability</br>.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "DTN routing protocols could be described in part by their <br>transfer probability</br> and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "The latter uses <br>transfer probability</br> 1 for all nodes and unlimited replication.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a <br>transfer probability</br> between 0 and 1 to forward messages at each contact.",
                "All the above effort serves to determine the <br>transfer probability</br> when two nodes meet.",
                "A higher probability threshold limited the <br>transfer probability</br>, so fewer messages were delivered."
            ],
            "translated_annotated_samples": [
                "Los protocolos de enrutamiento DTN podrían describirse en parte por su <br>probabilidad de transferencia y probabilidad de replicación</br>; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia?",
                "El último utiliza una <br>probabilidad de transferencia</br> de 1 para todos los nodos y replicación ilimitada.",
                "Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una <br>probabilidad de transferencia</br> entre 0 y 1 para reenviar mensajes en cada contacto.",
                "Todo el esfuerzo anterior sirve para determinar la <br>probabilidad de transferencia</br> cuando dos nodos se encuentran.",
                "Un umbral de probabilidad más alto limitó la <br>probabilidad de transferencia</br>, por lo que se entregaron menos mensajes."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su <br>probabilidad de transferencia y probabilidad de replicación</br>; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una <br>probabilidad de transferencia</br> de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una <br>probabilidad de transferencia</br> entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la <br>probabilidad de transferencia</br> cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la <br>probabilidad de transferencia</br>, por lo que se entregaron menos mensajes. ",
            "candidates": [],
            "error": [
                [
                    "probabilidad de transferencia y probabilidad de replicación",
                    "probabilidad de transferencia",
                    "probabilidad de transferencia",
                    "probabilidad de transferencia",
                    "probabilidad de transferencia"
                ]
            ]
        },
        "direct-delivery protocol": {
            "translated_key": "protocolo de entrega directa",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the <br>direct-delivery protocol</br> and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Two extremes are the <br>direct-delivery protocol</br> and the epidemic protocol."
            ],
            "translated_annotated_samples": [
                "Dos extremos son el <br>protocolo de entrega directa</br> y el protocolo epidémico."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el <br>protocolo de entrega directa</br> y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "epidemic protocol": {
            "translated_key": "protocolo epidémico",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the <br>epidemic protocol</br>.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because <br>epidemic protocol</br> transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Two extremes are the direct-delivery protocol and the <br>epidemic protocol</br>.",
                "Because <br>epidemic protocol</br> transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact."
            ],
            "translated_annotated_samples": [
                "Dos extremos son el protocolo de entrega directa y el <br>protocolo epidémico</br>.",
                "Debido a que el <br>protocolo de epidemia</br> transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el <br>protocolo epidémico</br>. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el <br>protocolo de epidemia</br> transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    "protocolo epidémico",
                    "protocolo de epidemia"
                ]
            ]
        },
        "replication strategy": {
            "translated_key": "estrategia de replicación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple <br>replication strategy</br> that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "We use a simple <br>replication strategy</br> that allows only the source node to make replicas, and limits the replication to a specific number of copies."
            ],
            "translated_annotated_samples": [
                "Utilizamos una <br>estrategia de replicación</br> simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una <br>estrategia de replicación</br> simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "history of past encounter and transitivity": {
            "translated_key": "historia de encuentros pasados y transitividad",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "past encounter and transitivity history": {
            "translated_key": "encuentro pasado e historial de transitividad",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "prophet": {
            "translated_key": "PRoPHET",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, <br>prophet</br>, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, <br>prophet</br> [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 <br>prophet</br> Protocol <br>prophet</br> [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The <br>prophet</br> protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither <br>prophet</br> nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although <br>prophet</br> [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, <br>prophet</br>, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 <br>prophet</br>) initial probability p0 0.75 (<br>prophet</br>) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state <br>prophet</br> epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and <br>prophet</br> represents <br>prophet</br>.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the <br>prophet</br> transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state <br>prophet</br> epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state <br>prophet</br> epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state <br>prophet</br> epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state <br>prophet</br> epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state <br>prophet</br> epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, <br>prophet</br>, and Link-State, as well as our own proposed routing protocol.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, <br>prophet</br> [16] and Link-State [22].",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 <br>prophet</br> Protocol <br>prophet</br> [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "The <br>prophet</br> protocol exchanges index messages as well as delivery probabilities.",
                "Neither <br>prophet</br> nor Link-State considers time in this way."
            ],
            "translated_annotated_samples": [
                "Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, <br>PRoPHET</br> y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto.",
                "Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, <br>PRoPHET</br> [16] y Link-State [22].",
                "El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El <br>Protocolo PRoPHET</br> 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo.",
                "El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega.",
                "Ni PRoPHET ni Link-State consideran el tiempo de esta manera."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, <br>PRoPHET</br> y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, <br>PRoPHET</br> [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El <br>Protocolo PRoPHET</br> 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. ",
            "candidates": [],
            "error": [
                [
                    "PRoPHET",
                    "PRoPHET",
                    "Protocolo PRoPHET"
                ]
            ]
        },
        "opportunistic network": {
            "translated_key": "redes oportunísticas",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic <br>opportunistic network</br> setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile <br>opportunistic network</br>, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other <br>opportunistic network</br> routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic <br>opportunistic network</br> setting.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile <br>opportunistic network</br>, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other <br>opportunistic network</br> routing protocols have been proposed in the literature."
            ],
            "translated_annotated_samples": [
                "Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de <br>redes oportunísticas</br>.",
                "Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una <br>red oportunista móvil</br> a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios.",
                "TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de <br>redes oportunísticas</br> en la literatura."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de <br>redes oportunísticas</br>. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una <br>red oportunista móvil</br> a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de <br>redes oportunísticas</br> en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    "redes oportunísticas",
                    "red oportunista móvil",
                    "redes oportunísticas"
                ]
            ]
        },
        "route": {
            "translated_key": "dirigir",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use simulation and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to <br>route</br> messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our simulation.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our simulation, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our simulation, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our simulation, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the Simulation Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the simulation across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the simulation across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month simulation.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our simulation.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our simulation, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our simulation results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "One fundamental problem in opportunistic networks is how to <br>route</br> messages from their source to their destination."
            ],
            "translated_annotated_samples": [
                "Uno de los problemas fundamentales en las redes oportunísticas es cómo <br>dirigir</br> los mensajes desde su origen hasta su destino."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos simulación y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo <br>dirigir</br> los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la simulación. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra simulación. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra simulación, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra simulación, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. Dado que nuestro campus cuenta con cobertura completa de WiFi, asumimos que la ubicación de los puntos de acceso tuvo poco impacto en la movilidad de los usuarios. Simulamos un mes completo de datos de traza (noviembre de 2003) tomados de CRAWDAD [13], con 5,142 usuarios. Aunque los protocolos basados en predicciones requieren un historial de contactos previos para estimar la probabilidad de entrega de cada nodo, nuestros resultados preliminares muestran que la mejora en el rendimiento al calentar durante un mes el rastro fue marginal. Por lo tanto, para simplificar, mostramos los resultados de todos los protocolos sin calentamiento previo. 4.2 Simulador Desarrollamos un simulador personalizado. Dado que utilizamos trazas de contacto derivadas de datos reales de movilidad, no necesitamos un modelo de movilidad y omitimos detalles físicos y de capa de enlace para el descubrimiento de nodos. Éramos conscientes de que el tiempo de descubrimiento de vecinos en diferentes tecnologías inalámbricas varía desde menos de un segundo hasta varios segundos. Además, el establecimiento de la conexión también lleva tiempo, como por ejemplo DHCP. En nuestra simulación, asumimos que los nodos podían descubrirse y conectarse instantáneamente cuando estaban asociados al mismo punto de acceso (AP). Para modelar con precisión los costos de comunicación, sin embargo, simulamos algunos comportamientos de la capa MAC, como las colisiones. La configuración predeterminada de la red de nuestro simulador se detalla en la Tabla 1, utilizando los valores recomendados por otros artículos [22, 16]. La probabilidad del mensaje era la probabilidad de generar mensajes, como se describe en la Sección 4.3. El ancho de banda de transmisión predeterminado era de 11 Mb/s. Cuando un nodo intentaba transmitir un mensaje, primero verificaba si algún nodo cercano estaba transmitiendo. Si lo era, el nodo retrocedía un número aleatorio de ranuras. Cada ranura era de 1 milisegundo, y el número máximo de ranuras de espera era 30. El tamaño de los mensajes estaba distribuido uniformemente entre 80 bytes y 1024 bytes. El límite de saltos (HCL) era el número máximo de saltos antes de que un mensaje debiera dejar de reenviarse. El tiempo de vida (TTL) era la duración máxima que un mensaje podía existir antes de expirar. La capacidad de almacenamiento era el espacio máximo que un nodo puede utilizar para almacenar mensajes. Para nuestro método de enrutamiento, utilizamos una ventana de predicción predeterminada ΔT de 10 horas y un umbral de probabilidad de 0.01. El factor de replicación r no estaba limitado por defecto, por lo que la fuente de un mensaje transfería los mensajes a cualquier otro nodo que tuviera una probabilidad de contacto con el destino del mensaje mayor que el umbral de probabilidad. 4.3 Generación de mensajes Después de cada evento de contacto en el rastro de contactos, generamos un mensaje con una probabilidad dada; elegimos un nodo fuente y un des2 Dos nodos pueden no haber podido comunicarse directamente mientras estaban en dos lados opuestos de un punto de acceso, o dos nodos pueden haber podido comunicarse directamente si estaban entre dos puntos de acceso adyacentes. 3 Intentamos utilizar un simulador de red general (ns2), que era extremadamente lento al simular un gran número de nodos móviles (en nuestro caso, más de 5000 nodos), y proporcionaba detalles innecesarios en la modelización de protocolos de red de nivel inferior. Tabla 1: Configuraciones predeterminadas del parámetro de simulación Valor predeterminado probabilidad de mensaje 0.001 ancho de banda 11 Mb/s ranura de transmisión 1 milisegundo máximo de ranuras de retraso 30 tamaño del mensaje 80-1024 bytes límite de recorrido de saltos (HCL) ilimitado tiempo de vida (TTL) ilimitado capacidad de almacenamiento ilimitado ventana de predicción ΔT 10 horas umbral de probabilidad 0.01 longitud del historial de contactos 20 replicación siempre factor de envejecimiento α 0.9 (0.98 PRoPHET) probabilidad inicial p0 0.75 (PRoPHET) impacto de transitividad β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Númerodeocurrencia hora movimientos contactos Figura 1: Movimientos y contactos duración cada hora nodo de destino aleatoriamente utilizando una distribución uniforme entre nodos vistos en el rastro de contactos hasta el tiempo actual. Cuando había más contactos durante un cierto período, había una mayor probabilidad de que se generara un nuevo mensaje en ese período. Esta correlación no es irrazonable, ya que hubo más movimientos durante el día que durante la noche, y por lo tanto, el número de contactos. La Figura 1 muestra las estadísticas de los números de movimientos y los números de contactos durante cada hora del día, sumados en todos los usuarios y todos los días. El gráfico muestra un patrón de actividad diurna claro. Las actividades alcanzaron su punto más bajo alrededor de las 5am y alcanzaron su punto máximo entre las 4pm y las 5pm. Suponemos que en algunas aplicaciones, el tráfico de red presenta patrones similares, es decir, las personas envían más mensajes durante el día también. Los mensajes caducan después de un TTL. No utilizamos métodos proactivos para notificar a los nodos la entrega de mensajes, de modo que los mensajes puedan ser eliminados del almacenamiento. 4.4 Métricas Definimos un conjunto de métricas que utilizamos para evaluar los protocolos de enrutamiento en redes oportunísticas: • ratio de entrega, la proporción entre el número de mensajes entregados y el número total de mensajes generados. • transmisiones de mensajes, el número total de mensajes transmitidos durante la simulación en todos los nodos. • transmisiones de metadatos, el número total de unidades de metadatos transmitidas durante la simulación en todos los nodos. • duplicaciones de mensajes, el número de veces que se produjo una copia de un mensaje, debido a la replicación. • retraso, la duración entre el momento de generación de un mensaje y el momento de entrega del mensaje. • uso de almacenamiento, el máximo y la media del almacenamiento máximo (bytes) utilizado en todos los nodos. 4.5 Resultados Aquí comparamos los resultados de la simulación de los seis protocolos de enrutamiento. 0.001 0.01 0.1 1 ilimitado 100 24 10 1 Ratio de entrega Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 2: Ratio de entrega (escala logarítmica). Los protocolos directo y aleatorio para TTL de una hora tenían ratios de entrega tan bajos que no eran visibles en el gráfico. La Figura 2 muestra la tasa de entrega de todos los protocolos, con diferentes TTLs. (En todos los gráficos del artículo, la predicción representa nuestro método, el estado representa el protocolo de Estado de Enlace y el profeta representa PRoPHET). Aunque teníamos 5,142 usuarios en la red, los protocolos de entrega directa y aleatoria tenían ratios de entrega bajos (nota la escala logarítmica). Incluso para mensajes con una duración ilimitada, solo se entregaron 59 de 2077 mensajes durante esta simulación de un mes. La tasa de entrega del enrutamiento epidémico fue la mejor. Los tres enfoques basados en predicciones tuvieron una baja tasa de entrega, en comparación con el enrutamiento epidémico. Aunque nuestro método fue ligeramente mejor que los otros dos, la ventaja fue marginal. La alta tasa de entrega del enrutamiento epidémico vino con un precio: transmisiones excesivas. La Figura 3 muestra el número de transmisiones de datos de mensajes. El número de transmisiones de mensajes del enrutamiento epidémico fue más de 10 veces mayor que para los protocolos de enrutamiento basados en predicciones. Obviamente, el protocolo de entrega directa tuvo el menor número de transmisiones de mensajes: el número de mensajes entregados. Entre los tres métodos basados en predicciones, PRoPHET transmitió menos mensajes, pero tuvo una tasa de entrega comparable, como se observa en la Figura 2. La Figura 4 muestra que la epidemia y todos los métodos basados en predicciones tuvieron transmisiones de metadatos sustanciales, aunque la enrutación epidémica tuvo relativamente más, con TTL más cortos. Debido a que el protocolo de epidemia transmitía mensajes en cada contacto, a su vez, más nodos tenían mensajes que requerían transmisión de metadatos durante el contacto. Los protocolos de entrega directa y aleatoria no tuvieron transmisiones de metadatos. Además de sus transmisiones de mensajes y transmisiones de metadatos, el protocolo de enrutamiento epidémico también tenía un exceso de mensajes 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodemensajestransmitidos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 3: Transmisiones de mensajes (escala logarítmica) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Númerodetransmisionesdemetadatos Tiempo de vida del mensaje (TTL) (hora) directo aleatorio predicción estado profeta epidémico Figura 4: Transmisiones de metadatos (escala logarítmica). Los protocolos directos y aleatorios no tenían transmisiones de metadatos, duplicaciones, ni réplicas de mensajes distribuidas por la red. La Figura 5 muestra que el enrutamiento epidémico tenía una o dos órdenes más de duplicación que los protocolos basados en predicciones. Recuerde que los protocolos de entrega directa y aleatoria no se replicaron, por lo tanto no hubo duplicaciones de datos. La Figura 6 muestra tanto la mediana como la media de los retrasos en las entregas. Todos los protocolos muestran retrasos de entrega similares tanto en medidas de media como de mediana para TTLs medios, pero difieren para TTLs largos y cortos. Con un TTL de 100 horas, o TTL ilimitado, el enrutamiento epidémico tuvo los retrasos más cortos. La entrega directa tuvo la mayor demora para TTL ilimitado, pero tuvo la menor demora para TTL de una hora. Los resultados parecen ir en contra de nuestra intuición: el protocolo de enrutamiento de epidemias debería ser el protocolo de enrutamiento más rápido ya que distribuye mensajes por toda la red. De hecho, las cifras muestran solo el tiempo de retraso de los mensajes entregados. Para la entrega directa, aleatoria y los protocolos de enrutamiento basados en probabilidad, relativamente pocos mensajes fueron entregados para TTL cortos, por lo que muchos mensajes expiraron antes de poder llegar a su destino; esos mensajes tenían un retraso de entrega infinito y no se incluyeron en las mediciones de la mediana o la media. Para TTLs más largos, se entregaron más mensajes incluso para el protocolo de entrega directa. Las estadísticas de TTLs más largos para comparación son más significativas que las de TTLs cortos. Dado que nuestra tasa de generación de mensajes era baja, el uso de almacenamiento también fue bajo en nuestra simulación. La Figura 7 muestra el volumen máximo y promedio del volumen máximo (en KBytes) de mensajes almacenados 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 ilimitado 100 24 10 1 Duplicaciones de mensajes Número de mensajes Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Figura 5: Duplicaciones de mensajes (escala logarítmica). Los protocolos directo y aleatorio no tuvieron duplicaciones de mensajes. 1 10 100 1000 10000 ilimitado 100 24 10 1 ilimitado 100 24 10 1 Retraso (minutos) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Retraso medio Retraso mediano Figura 6: Retrasos mediano y medio (escala logarítmica) en cada nodo. El enrutamiento epidémico tuvo el mayor uso de almacenamiento. El parámetro de tiempo de vida del mensaje fue el factor principal que afectó el uso de almacenamiento para los protocolos de enrutamiento basados en epidemias y predicciones. Estudiamos el impacto de diferentes parámetros de nuestro protocolo de enrutamiento basado en predicciones. Nuestro protocolo basado en predicciones fue sensible a varios parámetros, como el umbral de probabilidad y la ventana de predicción ΔT. La Figura 8 muestra las tasas de entrega cuando utilizamos diferentes umbrales de probabilidad. (El valor más a la izquierda, 0.01, es el valor utilizado para los otros gráficos). Un umbral de probabilidad más alto limitó la probabilidad de transferencia, por lo que se entregaron menos mensajes. También requirió menos transmisiones como se muestra en la Figura 9. Con una ventana de predicción más amplia, obtuvimos una probabilidad de contacto más alta. Por lo tanto, para el mismo umbral de probabilidad, tuvimos una tasa de entrega ligeramente mayor como se muestra en la Figura 10, y unas cuantas transmisiones más como se muestra en la Figura 11. TRABAJO RELACIONADO Además de los protocolos que evaluamos en nuestra simulación, se han propuesto varios otros protocolos de enrutamiento de redes oportunísticas en la literatura. No implementamos ni evaluamos estos protocolos de enrutamiento, ya que requieren información específica del dominio (información de ubicación) [14, 15], asumen ciertos patrones de movilidad [17], presentan enfoques ortogonales [10, 24] a otros protocolos de enrutamiento. 0.1 1 10 100 1000 10000 ilimitado100 24 10 1 ilimitado100 24 10 1 Uso de almacenamiento (KB) Tiempo de vida del mensaje (TTL) (horas) directo aleatorio predicción estado profeta epidemia Media del máximo Máximo del máximo Figura 7: Uso máximo y medio del almacenamiento en todos los nodos (escala logarítmica). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Proporción de entrega Umbral de probabilidad Figura 8: Impacto del umbral de probabilidad en la proporción de entrega del enrutamiento de contacto oportuno. LeBrun et al. [14] proponen un protocolo de enrutamiento de red tolerante a retrasos basado en la ubicación. Su algoritmo asume que cada nodo conoce su propia posición, y que el destino está estacionario en una ubicación conocida. Un nodo reenvía datos a un vecino solo si el vecino está más cerca del destino que su propia posición. Nuestro protocolo no requiere conocimiento de las ubicaciones de los nodos, y aprende sus patrones de contacto. Leguay et al. [15] utilizan un espacio de alta dimensión para representar un patrón de movilidad, luego enrutan mensajes a nodos que están más cerca del nodo de destino en el espacio del patrón de movilidad. Se requiere información de la ubicación de los nodos para construir patrones de movilidad. Musolesi et al. [17] proponen un protocolo de enrutamiento adaptativo para redes móviles ad-hoc intermitentemente conectadas. Utilizan un filtro de Kalman para calcular la probabilidad de que un nodo entregue mensajes. Este protocolo asume movilidad grupal y conectividad en la nube, es decir, los nodos se mueven en grupo, y entre este grupo de nodos existe una conexión de extremo a extremo simultánea para cada par de nodos. Cuando dos nodos están en la misma nube conectada, se utiliza el enrutamiento DSDV [19]. La codificación de red también despierta mucho interés en la investigación de DTN. La codificación de borrado [10, 24] explora algoritmos de codificación para reducir réplicas de mensajes. El nodo fuente replica un mensaje m veces, luego utiliza un esquema de codificación para codificarlos en un único mensaje grande. Después de que las réplicas son codificadas, la fuente divide el mensaje grande en k bloques del mismo tamaño, y transmite un bloque a cada uno de los primeros k nodos encontrados. Si m de los bloques son recibidos en el destino, el mensaje puede ser restaurado, donde m < k. En un escenario de movilidad distribuida uniformemente, la probabilidad de entrega aumenta porque la probabilidad de que el nodo destino se encuentre con m retransmisores es mayor que la de encontrarse con k retransmisores, dado que m < k. 6. RESUMEN Proponemos un protocolo de enrutamiento basado en predicciones para redes oportunísticas. Evaluamos el rendimiento de nuestro protocolo utilizando trazas de contacto realistas y lo comparamos con cinco protocolos de enrutamiento existentes. Nuestros resultados de simulación muestran que la entrega directa tuvo la menor proporción de entrega, la menor cantidad de transmisiones de datos y ninguna transmisión de metadatos ni duplicación de datos. La entrega directa es adecuada para dispositivos que requieren un consumo de energía extremadamente bajo. El protocolo aleatorio aumentó la probabilidad de entrega para mensajes que de otro modo estarían atascados en algunos nodos de baja movilidad. El enrutamiento epidémico entregó la mayoría de los mensajes. Las transmisiones excesivas y la duplicación de datos, sin embargo, consumen más recursos de los que los dispositivos portátiles pueden proporcionar. Ninguno de estos protocolos (entrega directa, enrutamiento aleatorio y epidémico) son prácticos para la implementación real de redes oportunísticas, ya que o bien tenían una tasa de entrega extremadamente baja o un consumo de recursos extremadamente alto. Los protocolos de enrutamiento basados en predicciones tuvieron una tasa de entrega más de 10 veces mejor que la de la entrega directa y el enrutamiento aleatorio, y menos transmisiones y un menor uso de almacenamiento que el enrutamiento epidémico. También tenían menos duplicaciones de datos que el enrutamiento epidémico. Todos los protocolos de enrutamiento basados en predicciones que hemos evaluado tuvieron un rendimiento similar. Nuestro método tenía una tasa de entrega ligeramente más alta, pero más transmisiones y un mayor uso de almacenamiento. Existen muchos parámetros para los protocolos de enrutamiento basados en predicción, sin embargo, diferentes parámetros pueden producir resultados distintos. De hecho, existe la oportunidad de realizar cierta adaptación; por ejemplo, los mensajes de alta prioridad pueden tener probabilidades más altas de transferencia y replicación para aumentar la posibilidad de entrega y reducir el retraso, o un nodo con contactos poco frecuentes puede optar por aumentar su probabilidad de transferencia. Solo estudiamos el impacto de predecir la probabilidad de contacto de igual a igual para el enrutamiento en mensajes unicast. En algunas aplicaciones, la información de contexto (como la ubicación) puede estar disponible para los pares. También se puede considerar otros modelos de mensajería, por ejemplo, donde los mensajes se envían a una ubicación, de modo que cada nodo en esa ubicación recibirá una copia del mensaje. La predicción de ubicación [21] puede ser utilizada para predecir la movilidad de los nodos y elegir como retransmisores aquellos nodos que se mueven hacia la ubicación destinada. La investigación sobre enrutamiento en redes oportunísticas todavía se encuentra en una etapa temprana. Muchos otros problemas de las redes oportunísticas, como la seguridad y la privacidad, quedan principalmente abiertos. Anticipamos estudiar estos temas en trabajos futuros. AGRADECIMIENTO Esta investigación es un proyecto del Centro de Computación Móvil y el Instituto de Estudios de Tecnología de Seguridad en Dartmouth College. Fue apoyado por DoCoMo Labs USA, el archivo CRAWDAD en Dartmouth College (financiado por el Premio NSF CRI 0454062), el Premio de Infraestructura NSF EIA-9802068 y por el número de subvención 2005-DD-BX-1091 otorgado por la Oficina de Asistencia Judicial. Los puntos de vista u opiniones en este documento son de los autores y no representan la posición oficial o políticas de ningún patrocinador. REFERENCIAS [1] John Burgess, Brian Gallagher, David Jensen y Brian Neil Levine. MaxProp: enrutamiento para redes tolerantes a interrupciones basadas en vehículos. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott y Howard Weiss. Redes tolerantes a retrasos: Un enfoque para Internet interplanetaria. Revista de Comunicaciones de IEEE, 41(6):128-136, junio de 2003. [3] Tracy Camp, Jeff Boleng y Vanessa Davies. Una encuesta de modelos de movilidad para la investigación de redes ad-hoc. Comunicación inalámbrica y computación móvil (WCMC): Edición especial sobre Redes móviles ad-hoc: Investigación, tendencias y aplicaciones, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo y Ronald Peterson. Detección urbana centrada en las personas. En la Conferencia de Internet Inalámbrico de IEEE, agosto de 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass y James Scott. Impacto de la movilidad humana en el diseño de algoritmos de reenvío oportunista. En Actas de la 25ª Conferencia Internacional de la IEEE sobre Comunicaciones de Computadoras (INFOCOM), abril de 2006. [6] Kevin Fall. Una arquitectura de red tolerante a retrasos para internet con limitaciones. En Actas de la Conferencia de 2003 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), agosto de 2003. [7] Tristan Henderson, David Kotz e Ilya Abyzov. El cambio en el uso de una red inalámbrica madura en todo el campus. En Actas de la 10ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 187-201, septiembre de 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft y Christophe Diot. Redes de bolsillo conmutadas y movilidad humana en entornos de conferencias. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 244-251, agosto de 2005. [9] Ravi Jain, Dan Lelescu y Mahadevan Balakrishnan. Modelo T: un modelo empírico para los patrones de registro de usuarios en una LAN inalámbrica del campus. En Actas de la 11ª Conferencia Internacional Anual sobre Computación y Redes Móviles (MobiCom), páginas 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra y Kevin Fall. Utilizando redundancia para hacer frente a fallos en una red tolerante a retrasos. En Actas de la Conferencia de 2005 sobre Aplicaciones, Tecnologías, Arquitecturas y Protocolos para Comunicaciones de Computadoras (SIGCOMM), páginas 109-120, agosto de 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh y Daniel Rubenstein. Computación eficiente en energía para el seguimiento de la vida silvestre: Compensaciones de diseño y primeras experiencias con ZebraNet. En la Décima Conferencia Internacional sobre Soporte Arquitectónico para Lenguajes de Programación y Sistemas Operativos, octubre de 2002. [12] David Kotz y Kobby Essien. Análisis de una red inalámbrica en todo el campus. Redes inalámbricas, 11:115-133, 2005. [13] David Kotz, Tristan Henderson e Ilya Abyzov. Conjunto de datos CRAWDAD dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, diciembre de 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal y Michael Zhang. Reenvío oportunista basado en conocimiento en redes ad-hoc inalámbricas vehiculares. En la Conferencia de Tecnología Vehicular de IEEE, páginas 2289-2293, mayo de 2005. [15] Jeremie Leguay, Timur Friedman y Vania Conan. Evaluando el enrutamiento de espacio de patrones de movilidad para DTNs. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. [16] Anders Lindgren, Avri Doria y Olov Schelen. Enrutamiento probabilístico en redes intermitentemente conectadas. En el taller sobre Garantía de Servicio con Recursos Parciales e Intermitentes (SAPIR), páginas 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes y Cecilia Mascolo. Enrutamiento adaptativo para redes móviles ad hoc intermitentemente conectadas. En el Simposio Internacional de IEEE sobre un Mundo de Redes Móviles, Inalámbricas y Multimedia, páginas 183-189, junio de 2005. Versión extendida. [18] OLPC. Proyecto Una computadora por niño. http://laptop.org. [19] C. E. Perkins y P. Bhagwat. Enrutamiento vectorial de secuencia de destino altamente dinámico (DSDV) para computadoras móviles. Computer Communication Review, páginas 234-244, octubre de 1994. [20] C. E. Perkins y E. M. Royer. enrutamiento vectorial de distancia bajo demanda ad-hoc. En el taller de IEEE sobre Sistemas y Aplicaciones de Computación Móvil, páginas 90-100, febrero de 1999. [21] Libo Song, David Kotz, Ravi Jain y Xiaoning He. Evaluando predictores de la siguiente celda con extensos datos de movilidad de Wi-Fi. IEEE Transactions on Mobile Computing, 5(12):1633-1649, diciembre de 2006. [22] Jing Su, Ashvin Goel y Eyal de Lara. Una evaluación empírica de la red tolerante a retrasos Student-Net. En la Conferencia Internacional sobre Sistemas Móviles y Ubicuos (MobiQuitous), julio de 2006. [23] Amin Vahdat y David Becker. Enrutamiento epidémico para redes ad-hoc parcialmente conectadas. Informe técnico CS-2000-06, Universidad de Duke, julio de 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia y Kevin Fall. Enrutamiento basado en codificación de borrado para redes oportunísticas. En el Taller ACM SIGCOMM sobre Redes Tolerantes a Retrasos, páginas 229-236, agosto de 2005. [25] Yu Wang y Hongyi Wu. DFT-MSN: la red de sensores móviles tolerante a fallos de retardo para la recopilación de información ubicua. En Actas de la 25ª Conferencia Internacional de Comunicaciones de Computadoras de IEEE (INFOCOM), abril de 2006. 42 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "simulation": {
            "translated_key": "simulación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Evaluating Opportunistic Routing Protocols with Large Realistic Contact Traces Libo Song and David F. Kotz Institute for Security Technology Studies (ISTS) Department of Computer Science, Dartmouth College, Hanover, NH, USA 03755 ABSTRACT Traditional mobile ad-hoc network (MANET) routing protocols assume that contemporaneous end-to-end communication paths exist between data senders and receivers.",
                "In some mobile ad-hoc networks with a sparse node population, an end-to-end communication path may break frequently or may not exist at any time.",
                "Many routing protocols have been proposed in the literature to address the problem, but few were evaluated in a realistic opportunistic network setting.",
                "We use <br>simulation</br> and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "We show that the direct delivery and epidemic routing protocols suffer either low delivery ratio or high resource usage, and other protocols make tradeoffs between delivery ratio and resource usage.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: Computer Communication Networks-Distributed Systems General Terms Performance, Design 1.",
                "INTRODUCTION Mobile opportunistic networks are one kind of delay-tolerant network (DTN) [6].",
                "Delay-tolerant networks provide service despite long link delays or frequent link breaks.",
                "Long link delays happen in networks with communication between nodes at a great distance, such as interplanetary networks [2].",
                "Link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.",
                "For us, mobile opportunistic networks are those DTNs with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.",
                "Mobile opportunistic networks have received increasing interest from researchers.",
                "In the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11], pocketswitched networks [8], and transportation networks [1, 14].",
                "We expect to see more opportunistic networks when the one-laptopper-child (OLPC) project [18] starts rolling out inexpensive laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.",
                "Opportunistic networking is one promising approach for those children to exchange information.",
                "One fundamental problem in opportunistic networks is how to route messages from their source to their destination.",
                "Mobile opportunistic networks differ from the Internet in that disconnections are the norm instead of the exception.",
                "In mobile opportunistic networks, communication devices can be carried by people [4], vehicles [1] or animals [11].",
                "Some devices can form a small mobile ad-hoc network when the nodes move close to each other.",
                "But a node may frequently be isolated from other nodes.",
                "Note that traditional Internet routing protocols and ad-hoc routing protocols, such as AODV [20] or DSDV [19], assume that a contemporaneous endto-end path exists, and thus fail in mobile opportunistic networks.",
                "Indeed, there may never exist an end-to-end path between two given devices.",
                "In this paper, we study protocols for routing messages between wireless networking devices carried by people.",
                "We assume that people send messages to other people occasionally, using their devices; when no direct link exists between the source and the destination of the message, other nodes may relay the message to the destination.",
                "Each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple people).",
                "Each message is destined for a specific person and thus for a specific node carried by that person.",
                "Although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.",
                "We do not consider multicast or geocast in this paper.",
                "Many routing protocols have been proposed in the literature.",
                "Few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people mobility model.",
                "Random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.",
                "Although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not reflect peoples mobility patterns [9].",
                "Realising the limitations of using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with realistic mobility traces.",
                "Chaintreau et al. [5] theoretically analyzed the impact of routing algorithms over a model derived from a realistic mobility data set.",
                "Su et al. [22] simulated a set of routing 35 protocols in a small experimental network.",
                "Those studies help researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to <br>simulation</br>.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our <br>simulation</br>.",
                "Our messagegeneration model, however, was synthetic.",
                "To the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.",
                "Using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and random) and two prediction-based routing protocols, PRoPHET [16] and Link-State [22].",
                "We also propose a new prediction-based routing protocol, and compare it to the above in our evaluation. 2.",
                "ROUTING PROTOCOL A routing protocol is designed for forwarding messages from one node (source) to another node (destination).",
                "Any node may generate messages for any other node, and may carry messages destined for other nodes.",
                "In this paper, we consider only messages that are unicast (single destination).",
                "DTN routing protocols could be described in part by their transfer probability and replication probability; that is, when one node meets another node, what is the probability that a message should be transfered and if so, whether the sender should retain its copy.",
                "Two extremes are the direct-delivery protocol and the epidemic protocol.",
                "The former transfers with probability 1 when the node meets the destination, 0 for others, and no replication.",
                "The latter uses transfer probability 1 for all nodes and unlimited replication.",
                "Both these protocols have their advantages and disadvantages.",
                "All other protocols are between the two extremes.",
                "First, we define the notion of contact between two nodes.",
                "Then we describe five existing protocols before presenting our own proposal.",
                "A contact is defined as a period of time during which two nodes have the opportunity to communicate.",
                "Although we are aware that wireless technologies differ, we assume that a node can reliably detect the beginning and end time of a contact with nearby nodes.",
                "A node may be in contact with several other nodes at the same time.",
                "The contact history of a node is a sequence of contacts with other nodes.",
                "Node i has a contact history Hi(j), for each other node j, which denotes the historical contacts between node i and node j.",
                "We record the start and end time for each contact; however, the last contacts in the nodes contact history may not have ended. 2.1 Direct Delivery Protocol In this simple protocol, a message is transmitted only when the source node can directly communicate with the destination node of the message.",
                "In mobile opportunistic networks, however, the probability for the sender to meet the destination may be low, or even zero. 2.2 Epidemic Routing Protocol The epidemic routing protocol [23] floods messages into the network.",
                "The source node sends a copy of the message to every node that it meets.",
                "The nodes that receive a copy of the message also send a copy of the message to every node that they meet.",
                "Eventually, a copy of the message arrives at the destination of the message.",
                "This protocol is simple, but may use significant resources; excessive communication may drain each nodes battery quickly.",
                "Moreover, since each node keeps a copy of each message, storage is not used efficiently, and the capacity of the network is limited.",
                "At a minimum, each node must expire messages after some amount of time or stop forwarding them after a certain number of hops.",
                "After a message expires, the message will not be transmitted and will be deleted from the storage of any node that holds the message.",
                "An optimization to reduce the communication cost is to transfer index messages before transferring any data message.",
                "The index messages contain IDs of messages that a node currently holds.",
                "Thus, by examining the index messages, a node only transfers messages that are not yet contained on the other nodes. 2.3 Random Routing An obvious approach between the above two extremes is to select a transfer probability between 0 and 1 to forward messages at each contact.",
                "We use a simple replication strategy that allows only the source node to make replicas, and limits the replication to a specific number of copies.",
                "The message has some chance of being transferred to a highly mobile node, and thus may have a better chance to reach its destination before the message expires. 2.4 PRoPHET Protocol PRoPHET [16] is a Probabilistic Routing Protocol using History of past Encounters and Transitivity to estimate each nodes delivery probability for each other node.",
                "When node i meets node j, the delivery probability of node i for j is updated by pij = (1 − pij)p0 + pij, (1) where p0 is an initial probability, a design parameter for a given network.",
                "Lindgren et al. [16] chose 0.75, as did we in our evaluation.",
                "When node i does not meet j for some time, the delivery probability decreases by pij = αk pij, (2) where α is the aging factor (α < 1), and k is the number of time units since the last update.",
                "The PRoPHET protocol exchanges index messages as well as delivery probabilities.",
                "When node i receives node js delivery probabilities, node i may compute the transitive delivery probability through j to z with piz = piz + (1 − piz)pijpjzβ, (3) where β is a design parameter for the impact of transitivity; we used β = 0.25 as did Lindgren [16]. 2.5 Link-State Protocol Su et al. [22] use a link-state approach to estimate the weight of each path from the source of a message to the destination.",
                "They use the median inter-contact duration or exponentially aged intercontact duration as the weight on links.",
                "The exponentially aged inter-contact duration of node i and j is computed by wij = αwij + (1 − α)I, (4) where I is the new inter-contact duration and α is the aging factor.",
                "Nodes share their link-state weights when they can communicate with each other, and messages are forwarded to the node that have the path with the lowest link-state weight. 36 3.",
                "TIMELY-CONTACT PROBABILITY We also use historical contact information to estimate the probability of meeting other nodes in the future.",
                "But our method differs in that we estimate the contact probability within a period of time.",
                "For example, what is the contact probability in the next hour?",
                "Neither PRoPHET nor Link-State considers time in this way.",
                "One way to estimate the timely-contact probability is to use the ratio of the total contact duration to the total time.",
                "However, this approach does not capture the frequency of contacts.",
                "For example, one node may have a long contact with another node, followed by a long non-contact period.",
                "A third node may have a short contact with the first node, followed by a short non-contact period.",
                "Using the above estimation approach, both examples would have similar contact probability.",
                "In the second example, however, the two nodes have more frequent contacts.",
                "We design a method to capture the contact frequency of mobile nodes.",
                "For this purpose, we assume that even short contacts are sufficient to exchange messages.1 The probability for node i to meet node j is computed by the following procedure.",
                "We divide the contact history Hi(j) into a sequence of n periods of ΔT starting from the start time (t0) of the first contact in history Hi(j) to the current time.",
                "We number each of the n periods from 0 to n − 1, then check each period.",
                "If node i had any contact with node j during a given period m, which is [t0 + mΔT, t0 + (m + 1)ΔT), we set the contact status Im to be 1; otherwise, the contact status Im is 0.",
                "The probability p (0) ij that node i meets node j in the next ΔT can be estimated as the average of the contact status in prior intervals: p (0) ij = 1 n n−1X m=0 Im. (5) To adapt to the change of contact patterns, and reduce the storage space for contact histories, a node may discard old history contacts; in this situation, the estimate would be based on only the retained history.",
                "The above probability is the direct contact probability of two nodes.",
                "We are also interested in the probability that we may be able to pass a message through a sequence of k nodes.",
                "We define the k-order probability inductively, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) where α is any node other than i or j. 3.1 Our Routing Protocol We first consider the case of a two-hop path, that is, with only one relay node.",
                "We consider two approaches: either the receiving neighbor decides whether to act as a relay, or the source decides which neighbors to use as relay. 3.1.1 Receiver Decision Whenever a node meets other nodes, they exchange all their messages (or as above, index messages).",
                "If the destination of a message is the receiver itself, the message is delivered.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our <br>simulation</br>, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "If the probability is less than the threshold, the receiver discards the message.",
                "Notice that our protocol replicates the message whenever a good-looking relay comes along. 3.1.2 Sender Decision To make decisions, a sender must have the information about its neighbors contact probability with a messages destination.",
                "Therefore, meta-data exchange is necessary.",
                "When two nodes meet, they exchange a meta-message, containing an unordered list of node IDs for which the sender of the metamessage has a contact probability greater than the threshold.",
                "After receiving a meta-message, a node checks whether it has any message that destined to its neighbor, or to a node in the node list of the neighbors meta-message.",
                "If it has, it sends a copy of the message.",
                "When a node receives a message, if the destination of the message is the receiver itself, the message is delivered.",
                "Otherwise, the message is stored in the receivers storage for forwarding to the destination. 3.1.3 Multi-node Relay When we use more than two hops to relay a message, each node needs to know the contact probabilities along all possible paths to the message destination.",
                "Every node keeps a contact probability matrix, in which each cell pij is a contact probability between to nodes i and j.",
                "Each node i computes its own contact probabilities (row i) with other nodes using Equation (5) whenever the node ends a contact with other nodes.",
                "Each row of the contact probability matrix has a version number; the version number for row i is only increased when node i updates the matrix entries in row i.",
                "Other matrix entries are updated through exchange with other nodes when they meet.",
                "When two nodes i and j meet, they first exchange their contact probability matrices.",
                "Node i compares its own contact matrix with node js matrix.",
                "If node js matrix has a row l with a higher version number, then node i replaces its own row l with node js row l. Likewise node j updates its matrix.",
                "After the exchange, the two nodes will have identical contact probability matrices.",
                "Next, if a node has a message to forward, the node estimates its neighboring nodes order-k contact probability to contact the destination of the message using Equation (6).",
                "If p (k) ij is above a threshold, or if j is the destination of the message, node i will send a copy of the message to node j.",
                "All the above effort serves to determine the transfer probability when two nodes meet.",
                "The replication decision is orthogonal to the transfer decision.",
                "In our implementation, we always replicate.",
                "Although PRoPHET [16] and Link-State [22] do no replication, as described, we added replication to those protocols for better comparison to our protocol. 4.",
                "EVALUATION RESULTS We evaluate and compare the results of direct delivery, epidemic, random, PRoPHET, Link-State, and timely-contact routing protocols. 4.1 Mobility traces We use real mobility data collected at Dartmouth College.",
                "Dartmouth College has collected association and disassociation messages from devices on its wireless network wireless users since spring 2001 [13].",
                "Each message records the wireless card MAC address, the time of association/disassociation, and the name of the access point.",
                "We treat each unique MAC address as a node.",
                "For 37 more information about Dartmouths network and the data collection, see previous studies [7, 12].",
                "Our data are not contacts in a mobile ad-hoc network.",
                "We can approximate contact traces by assuming that two users can communicate with each other whenever they are associated with the same access point.",
                "Chaintreau et al. [5] used Dartmouth data traces and made the same assumption to theoretically analyze the impact of human mobility on opportunistic forwarding algorithms.",
                "This assumption may not be accurate,2 but it is a good first approximation.",
                "In our <br>simulation</br>, we imagine the same clients and same mobility in a network with no access points.",
                "Since our campus has full WiFi coverage, we assume that the location of access points had little impact on users mobility.",
                "We simulated one full month of trace data (November 2003) taken from CRAWDAD [13], with 5, 142 users.",
                "Although predictionbased protocols require prior contact history to estimate each nodes delivery probability, our preliminary results show that the performance improvement of warming-up over one month of trace was marginal.",
                "Therefore, for simplicity, we show the results of all protocols without warming-up. 4.2 Simulator We developed a custom simulator.3 Since we used contact traces derived from real mobility data, we did not need a mobility model and omitted physical and link-layer details for node discovery.",
                "We were aware that the time for neighbor discovery in different wireless technologies vary from less than one seconds to several seconds.",
                "Furthermore, connection establishment also takes time, such as DHCP.",
                "In our <br>simulation</br>, we assumed the nodes could discover and connect each other instantly when they were associated with a same AP.",
                "To accurately model communication costs, however, we simulated some MAC-layer behaviors, such as collision.",
                "The default settings of the network of our simulator are listed in Table 1, using the values recommended by other papers [22, 16].",
                "The message probability was the probability of generating messages, as described in Section 4.3.",
                "The default transmission bandwidth was 11 Mb/s.",
                "When one node tried to transmit a message, it first checked whether any nearby node was transmitting.",
                "If it was, the node backed off a random number of slots.",
                "Each slot was 1 millisecond, and the maximum number of backoff slots was 30.",
                "The size of messages was uniformly distributed between 80 bytes and 1024 bytes.",
                "The hop count limit (HCL) was the maximum number of hops before a message should stop forwarding.",
                "The time to live (TTL) was the maximum duration that a message may exist before expiring.",
                "The storage capacity was the maximum space that a node can use for storing messages.",
                "For our routing method, we used a default prediction window ΔT of 10 hours and a probability threshold of 0.01.",
                "The replication factor r was not limited by default, so the source of a message transferred the messages to any other node that had a contact probability with the message destination higher than the probability threshold. 4.3 Message generation After each contact event in the contact trace, we generated a message with a given probability; we choose a source node and a des2 Two nodes may not have been able to directly communicate while they were at two far sides of an access point, or two nodes may have been able to directly communicate if they were between two adjacent access points. 3 We tried to use a general network simulator (ns2), which was extremely slow when simulating a large number of mobile nodes (in our case, more than 5000 nodes), and provided unnecessary detail in modeling lower-level network protocols.",
                "Table 1: Default Settings of the <br>simulation</br> Parameter Default value message probability 0.001 bandwidth 11 Mb/s transmission slot 1 millisecond max backoff slots 30 message size 80-1024 bytes hop count limit (HCL) unlimited time to live (TTL) unlimited storage capacity unlimited prediction window ΔT 10 hours probability threshold 0.01 contact history length 20 replication always aging factor α 0.9 (0.98 PRoPHET) initial probability p0 0.75 (PRoPHET) transitivity impact β 0.25 (PRoPHET) 0 20000 40000 60000 80000 100000 120000 0 5 10 15 20 Numberofoccurrence hour movements contacts Figure 1: Movements and contacts duration each hour tination node randomly using a uniform distribution across nodes seen in the contact trace up to the current time.",
                "When there were more contacts during a certain period, there was a higher likelihood that a new message was generated in that period.",
                "This correlation is not unreasonable, since there were more movements during the day than during the night, and so the number of contacts.",
                "Figure 1 shows the statistics of the numbers of movements and the numbers of contacts during each hour of the day, summed across all users and all days.",
                "The plot shows a clear diurnal activity pattern.",
                "The activities reached lowest around 5am and peaked between 4pm and 5pm.",
                "We assume that in some applications, network traffic exhibits similar patterns, that is, people send more messages during the day, too.",
                "Messages expire after a TTL.",
                "We did not use proactive methods to notify nodes the delivery of messages, so that the messages can be removed from storage. 4.4 Metrics We define a set of metrics that we use in evaluating routing protocols in opportunistic networks: • delivery ratio, the ratio of the number of messages delivered to the number of total messages generated. • message transmissions, the total number of messages transmitted during the <br>simulation</br> across all nodes. 38 • meta-data transmissions, the total number of meta-data units transmitted during the <br>simulation</br> across all nodes. • message duplications, the number of times a message copy occurred, due to replication. • delay, the duration between a messages generation time and the messages delivery time. • storage usage, the max and mean of maximum storage (bytes) used across all nodes. 4.5 Results Here we compare simulation results of the six routing protocols. 0.001 0.01 0.1 1 unlimited 100 24 10 1 Deliveryratio Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 2: Delivery ratio (log scale).",
                "The direct and random protocols for one-hour TTL had delivery ratios that were too low to be visible in the plot.",
                "Figure 2 shows the delivery ratio of all the protocols, with different TTLs. (In all the plots in the paper, prediction stands for our method, state stands for the Link-State protocol, and prophet represents PRoPHET.)",
                "Although we had 5,142 users in the network, the direct-delivery and random protocols had low delivery ratios (note the log scale).",
                "Even for messages with an unlimited lifetime, only 59 out of 2077 messages were delivered during this one-month <br>simulation</br>.",
                "The delivery ratio of epidemic routing was the best.",
                "The three prediction-based approaches had low delivery ratio, compared to epidemic routing.",
                "Although our method was slightly better than the other two, the advantage was marginal.",
                "The high delivery ratio of epidemic routing came with a price: excessive transmissions.",
                "Figure 3 shows the number of message data transmissions.",
                "The number of message transmissions of epidemic routing was more than 10 times higher than for the predictionbased routing protocols.",
                "Obviously, the direct delivery protocol had the lowest number of message transmissions - the number of message delivered.",
                "Among the three prediction-based methods, the PRoPHET transmitted fewer messages, but had comparable delivery-ratio as seen in Figure 2.",
                "Figure 4 shows that epidemic and all prediction-based methods had substantial meta-data transmissions, though epidemic routing had relatively more, with shorter TTLs.",
                "Because epidemic protocol transmitted messages at every contact, in turn, more nodes had messages that required meta-data transmission during contact.",
                "The direct-delivery and random protocols had no meta-data transmissions.",
                "In addition to its message transmissions and meta-data transmissions, the epidemic routing protocol also had excessive message 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessagetransmitted Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 3: Message transmissions (log scale) 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmeta-datatransmissions Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 4: Meta-data transmissions (log scale).",
                "Direct and random protocols had no meta-data transmissions. duplications, spreading replicas of messages over the network.",
                "Figure 5 shows that epidemic routing had one or two orders more duplication than the prediction-based protocols.",
                "Recall that the directdelivery and random protocols did not replicate, thus had no data duplications.",
                "Figure 6 shows both the median and mean delivery delays.",
                "All protocols show similar delivery delays in both mean and median measures for medium TTLs, but differ for long and short TTLs.",
                "With a 100-hour TTL, or unlimited TTL, epidemic routing had the shortest delays.",
                "The direct-delivery had the longest delay for unlimited TTL, but it had the shortest delay for the one-hour TTL.",
                "The results seem contrary to our intuition: the epidemic routing protocol should be the fastest routing protocol since it spreads messages all over the network.",
                "Indeed, the figures show only the delay time for delivered messages.",
                "For direct delivery, random, and the probability-based routing protocols, relatively few messages were delivered for short TTLs, so many messages expired before they could reach their destination; those messages had infinite delivery delay and were not included in the median or mean measurements.",
                "For longer TTLs, more messages were delivered even for the directdelivery protocol.",
                "The statistics of longer TTLs for comparison are more meaningful than those of short TTLs.",
                "Since our message generation rate was low, the storage usage was also low in our <br>simulation</br>.",
                "Figure 7 shows the maximum and average of maximum volume (in KBytes) of messages stored 39 1 10 100 1000 10000 100000 1e+06 1e+07 1e+08 unlimited 100 24 10 1 Numberofmessageduplications Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Figure 5: Message duplications (log scale).",
                "Direct and random protocols had no message duplications. 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Delay(minute) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean delayMedian delay Figure 6: Median and mean delays (log scale). in each node.",
                "The epidemic routing had the most storage usage.",
                "The message time-to-live parameter was the big factor affecting the storage usage for epidemic and prediction-based routing protocols.",
                "We studied the impact of different parameters of our predictionbased routing protocol.",
                "Our prediction-based protocol was sensitive to several parameters, such as the probability threshold and the prediction window ΔT.",
                "Figure 8 shows the delivery ratios when we used different probability thresholds. (The leftmost value 0.01 is the value used for the other plots.)",
                "A higher probability threshold limited the transfer probability, so fewer messages were delivered.",
                "It also required fewer transmissions as shown in Figure 9.",
                "With a larger prediction window, we got a higher contact probability.",
                "Thus, for the same probability threshold, we had a slightly higher delivery ratio as shown in Figure 10, and a few more transmissions as shown in Figure 11. 5.",
                "RELATED WORK In addition to the protocols that we evaluated in our <br>simulation</br>, several other opportunistic network routing protocols have been proposed in the literature.",
                "We did not implement and evaluate these routing protocols, because either they require domain-specific information (location information) [14, 15], assume certain mobility patterns [17], present orthogonal approaches [10, 24] to other routing protocols. 0.1 1 10 100 1000 10000 unlimited100 24 10 1 unlimited100 24 10 1 Storageusage(KB) Message time-to-live (TTL) (hour) direct random prediction state prophet epidemic Mean of maximumMax of maximum Figure 7: Max and mean of maximum storage usage across all nodes (log scale). 0 0.2 0.4 0.6 0.8 1 0 0.2 0.4 0.6 0.8 1 Deliveryratio Probability threshold Figure 8: Probability threshold impact on delivery ratio of timely-contact routing.",
                "LeBrun et al. [14] propose a location-based delay-tolerant network routing protocol.",
                "Their algorithm assumes that every node knows its own position, and the destination is stationary at a known location.",
                "A node forwards data to a neighbor only if the neighbor is closer to the destination than its own position.",
                "Our protocol does not require knowledge of the nodes locations, and learns their contact patterns.",
                "Leguay et al. [15] use a high-dimensional space to represent a mobility pattern, then routes messages to nodes that are closer to the destination node in the mobility pattern space.",
                "Location information of nodes is required to construct mobility patterns.",
                "Musolesi et al. [17] propose an adaptive routing protocol for intermittently connected mobile ad-hoc networks.",
                "They use a Kalman filter to compute the probability that a node delivers messages.",
                "This protocol assumes group mobility and cloud connectivity, that is, nodes move as a group, and among this group of nodes a contemporaneous end-to-end connection exists for every pair of nodes.",
                "When two nodes are in the same connected cloud, DSDV [19] routing is used.",
                "Network coding also draws much interest from DTN research.",
                "Erasure-coding [10, 24] explores coding algorithms to reduce message replicas.",
                "The source node replicates a message m times, then uses a coding scheme to encode them in one big message.",
                "After replicas are encoded, the source divides the big message into k 40 0 0.5 1 1.5 2 2.5 3 3.5 0 0.2 0.4 0.6 0.8 1 Numberofmessagetransmitted(million) Probability threshold Figure 9: Probability threshold impact on message transmission of timely-contact routing. 0 0.2 0.4 0.6 0.8 1 0.01 0.1 1 10 100 Deliveryratio Prediction window (hour) Figure 10: Prediction window impact on delivery ratio of timely-contact routing (semi-log scale). blocks of the same size, and transmits a block to each of the first k encountered nodes.",
                "If m of the blocks are received at the destination, the message can be restored, where m < k. In a uniformly distributed mobility scenario, the delivery probability increases because the probability that the destination node meets m relays is greater than it meets k relays, given m < k. 6.",
                "SUMMARY We propose a prediction-based routing protocol for opportunistic networks.",
                "We evaluate the performance of our protocol using realistic contact traces, and compare to five existing routing protocols.",
                "Our <br>simulation</br> results show that direct delivery had the lowest delivery ratio, the fewest data transmissions, and no meta-data transmission or data duplication.",
                "Direct delivery is suitable for devices that require an extremely low power consumption.",
                "The random protocol increased the chance of delivery for messages otherwise stuck at some low mobility nodes.",
                "Epidemic routing delivered the most messages.",
                "The excessive transmissions, and data duplication, however, consume more resources than portable devices may be able to provide.",
                "None of these protocols (direct-delivery, random and epidemic routing) are practical for real deployment of opportunistic networks, 0 0.5 1 1.5 2 2.5 3 3.5 0.01 0.1 1 10 100 Numberofmessagetransmitted(million) Prediction window (hour) Figure 11: Prediction window impact on message transmission of timely-contact routing (semi-log scale). because they either had an extremely low delivery ratio, or had an extremely high resource consumption.",
                "The prediction-based routing protocols had a delivery ratio more than 10 times better than that for direct-delivery and random routing, and fewer transmissions and less storage usage than epidemic routing.",
                "They also had fewer data duplications than epidemic routing.",
                "All the prediction-based routing protocols that we have evaluated had similar performance.",
                "Our method had a slightly higher delivery ratio, but more transmissions and higher storage usage.",
                "There are many parameters for prediction-based routing protocols, however, and different parameters may produce different results.",
                "Indeed, there is an opportunity for some adaptation; for example, high priority messages may be given higher transfer and replication probabilities to increase the chance of delivery and reduce the delay, or a node with infrequent contact may choose to raise its transfer probability.",
                "We only studied the impact of predicting peer-to-peer contact probability for routing in unicast messages.",
                "In some applications, context information (such as location) may be available for the peers.",
                "One may also consider other messaging models, for example, where messages are sent to a location, such that every node at that location will receive a copy of the message.",
                "Location prediction [21] may be used to predict nodes mobility, and to choose as relays those nodes moving toward the destined location.",
                "Research on routing in opportunistic networks is still in its early stage.",
                "Many other issues of opportunistic networks, such as security and privacy, are mainly left open.",
                "We anticipate studying these issues in future work. 7.",
                "ACKNOWLEDGEMENT This research is a project of the Center for Mobile Computing and the Institute for Security Technology Studies at Dartmouth College.",
                "It was supported by DoCoMo Labs USA, the CRAWDAD archive at Dartmouth College (funded by NSF CRI Award 0454062), NSF Infrastructure Award EIA-9802068, and by Grant number 2005-DD-BX-1091 awarded by the Bureau of Justice Assistance.",
                "Points of view or opinions in this document are those of the authors and do not represent the official position or policies of any sponsor. 8.",
                "REFERENCES [1] John Burgess, Brian Gallagher, David Jensen, and Brian Neil Levine.",
                "MaxProp: routing for vehicle-based 41 disruption-tolerant networks.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [2] Scott Burleigh, Adrian Hooke, Leigh Torgerson, Kevin Fall, Vint Cerf, Bob Durst, Keith Scott, and Howard Weiss.",
                "Delay-tolerant networking: An approach to interplanetary Internet.",
                "IEEE Communications Magazine, 41(6):128-136, June 2003. [3] Tracy Camp, Jeff Boleng, and Vanessa Davies.",
                "A survey of mobility models for ad-hoc network research.",
                "Wireless Communication & Mobile Computing (WCMC): Special issue on Mobile ad-hoc Networking: Research, Trends and Applications, 2(5):483-502, 2002. [4] Andrew Campbell, Shane Eisenman, Nicholas Lane, Emiliano Miluzzo, and Ronald Peterson.",
                "People-centric urban sensing.",
                "In IEEE Wireless Internet Conference, August 2006. [5] Augustin Chaintreau, Pan Hui, Jon Crowcroft, Christophe Diot, Richard Gass, and James Scott.",
                "Impact of human mobility on the design of opportunistic forwarding algorithms.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [6] Kevin Fall.",
                "A delay-tolerant network architecture for challenged internets.",
                "In Proceedings of the 2003 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), August 2003. [7] Tristan Henderson, David Kotz, and Ilya Abyzov.",
                "The changing usage of a mature campus-wide wireless network.",
                "In Proceedings of the 10th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 187-201, September 2004. [8] Pan Hui, Augustin Chaintreau, James Scott, Richard Gass, Jon Crowcroft, and Christophe Diot.",
                "Pocket switched networks and human mobility in conference environments.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 244-251, August 2005. [9] Ravi Jain, Dan Lelescu, and Mahadevan Balakrishnan.",
                "Model T: an empirical model for user registration patterns in a campus wireless LAN.",
                "In Proceedings of the 11th Annual International Conference on Mobile Computing and Networking (MobiCom), pages 170-184, 2005. [10] Sushant Jain, Mike Demmer, Rabin Patra, and Kevin Fall.",
                "Using redundancy to cope with failures in a delay tolerant network.",
                "In Proceedings of the 2005 Conference on Applications, Technologies, Architectures, and Protocols for Computer Communications (SIGCOMM), pages 109-120, August 2005. [11] Philo Juang, Hidekazu Oki, Yong Wang, Margaret Martonosi, Li-Shiuan Peh, and Daniel Rubenstein.",
                "Energy-efficient computing for wildlife tracking: Design tradeoffs and early experiences with ZebraNet.",
                "In the Tenth International Conference on Architectural Support for Programming Languages and Operating Systems, October 2002. [12] David Kotz and Kobby Essien.",
                "Analysis of a campus-wide wireless network.",
                "Wireless Networks, 11:115-133, 2005. [13] David Kotz, Tristan Henderson, and Ilya Abyzov.",
                "CRAWDAD data set dartmouth/campus. http://crawdad.cs.dartmouth.edu/dartmouth/campus, December 2004. [14] Jason LeBrun, Chen-Nee Chuah, Dipak Ghosal, and Michael Zhang.",
                "Knowledge-based opportunistic forwarding in vehicular wireless ad-hoc networks.",
                "In IEEE Vehicular Technology Conference, pages 2289-2293, May 2005. [15] Jeremie Leguay, Timur Friedman, and Vania Conan.",
                "Evaluating mobility pattern space routing for DTNs.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. [16] Anders Lindgren, Avri Doria, and Olov Schelen.",
                "Probabilistic routing in intermittently connected networks.",
                "In Workshop on Service Assurance with Partial and Intermittent Resources (SAPIR), pages 239-254, 2004. [17] Mirco Musolesi, Stephen Hailes, and Cecilia Mascolo.",
                "Adaptive routing for intermittently connected mobile ad-hoc networks.",
                "In IEEE International Symposium on a World of Wireless Mobile and Multimedia Networks, pages 183-189, June 2005. extended version. [18] OLPC.",
                "One laptop per child project. http://laptop.org. [19] C. E. Perkins and P. Bhagwat.",
                "Highly dynamic destination-sequenced distance-vector routing (DSDV) for mobile computers.",
                "Computer Communication Review, pages 234-244, October 1994. [20] C. E. Perkins and E. M. Royer. ad-hoc on-demand distance vector routing.",
                "In IEEE Workshop on Mobile Computing Systems and Applications, pages 90-100, February 1999. [21] Libo Song, David Kotz, Ravi Jain, and Xiaoning He.",
                "Evaluating next-cell predictors with extensive Wi-Fi mobility data.",
                "IEEE Transactions on Mobile Computing, 5(12):1633-1649, December 2006. [22] Jing Su, Ashvin Goel, and Eyal de Lara.",
                "An empirical evaluation of the student-net delay tolerant network.",
                "In International Conference on Mobile and Ubiquitous Systems (MobiQuitous), July 2006. [23] Amin Vahdat and David Becker.",
                "Epidemic routing for partially-connected ad-hoc networks.",
                "Technical Report CS-2000-06, Duke University, July 2000. [24] Yong Wang, Sushant Jain, Margaret Martonosia, and Kevin Fall.",
                "Erasure-coding based routing for opportunistic networks.",
                "In ACM SIGCOMM Workshop on Delay Tolerant Networking, pages 229-236, August 2005. [25] Yu Wang and Hongyi Wu.",
                "DFT-MSN: the delay fault tolerant mobile sensor network for pervasive information gathering.",
                "In Proceedings of the 25th IEEE International Conference on Computer Communications (INFOCOM), April 2006. 42"
            ],
            "original_annotated_samples": [
                "We use <br>simulation</br> and contact traces (derived from logs in a production network) to evaluate and compare five existing protocols: direct-delivery, epidemic, random, PRoPHET, and Link-State, as well as our own proposed routing protocol.",
                "Deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to <br>simulation</br>.",
                "Instead of using a complex mobility model to mimic peoples mobility patterns, we used mobility traces collected in a production wireless network at Dartmouth College to drive our <br>simulation</br>.",
                "Otherwise, if the probability of delivering the message to its destination through this receiver node within ΔT is greater than or equal to a certain threshold, the message is stored in the receivers storage to forward 1 In our <br>simulation</br>, however, we accurately model the communication costs and some short contacts will not succeed in transfer of all messages. to the destination.",
                "In our <br>simulation</br>, we imagine the same clients and same mobility in a network with no access points."
            ],
            "translated_annotated_samples": [
                "Utilizamos <br>simulación</br> y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto.",
                "Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la <br>simulación</br>.",
                "En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra <br>simulación</br>.",
                "De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra <br>simulación</br>, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino.",
                "En nuestra <br>simulación</br>, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso."
            ],
            "translated_text": "Evaluación de protocolos de enrutamiento oportunista con trazas de contacto realistas y extensas. Libo Song y David F. Kotz. Instituto de Estudios de Tecnología de Seguridad (ISTS), Departamento de Ciencias de la Computación, Dartmouth College, Hanover, NH, EE. UU. 03755. RESUMEN Los protocolos de enrutamiento tradicionales de redes móviles ad-hoc (MANET) asumen que existen rutas de comunicación de extremo a extremo contemporáneas entre los emisores y receptores de datos. En algunas redes móviles ad-hoc con una población de nodos dispersa, la ruta de comunicación de extremo a extremo puede romperse con frecuencia o puede no existir en ningún momento. Se han propuesto muchos protocolos de enrutamiento en la literatura para abordar el problema, pero pocos han sido evaluados en un entorno realista de redes oportunísticas. Utilizamos <br>simulación</br> y trazas de contacto (derivadas de registros en una red de producción) para evaluar y comparar cinco protocolos existentes: entrega directa, epidémico, aleatorio, PRoPHET y Estado de Enlace, así como nuestro propio protocolo de enrutamiento propuesto. Mostramos que los protocolos de entrega directa y enrutamiento epidémico sufren de baja tasa de entrega o alto uso de recursos, y otros protocolos hacen concesiones entre la tasa de entrega y el uso de recursos. Categorías y Descriptores de Asignaturas C.2.4 [Organización de Sistemas Informáticos]: Redes de Comunicación de Computadoras-Sistemas Distribuidos Términos Generales Rendimiento, Diseño 1. Las redes móviles oportunísticas son un tipo de red tolerante a retrasos (DTN, por sus siglas en inglés) [6]. Las redes tolerantes a retrasos proporcionan servicio a pesar de largos retrasos en los enlaces o frecuentes cortes de enlaces. Los largos retrasos en la comunicación ocurren en redes con nodos ubicados a gran distancia, como en las redes interplanetarias [2]. Las interrupciones de enlace son causadas por nodos que se mueven fuera de rango, cambios ambientales, interferencia de otros objetos en movimiento, apagones de radio o nodos fallidos. Para nosotros, las redes oportunísticas móviles son aquellas DTNs con una población de nodos dispersa y cortes frecuentes en las conexiones causados por apagados de energía y la movilidad de los nodos. Las redes oportunísticas móviles han recibido un interés creciente por parte de los investigadores. En la literatura, estas redes incluyen redes de sensores móviles [25], redes de seguimiento de animales salvajes [11], redes de conmutación de bolsillo [8] y redes de transporte [1, 14]. Esperamos ver más redes oportunísticas cuando el proyecto de un portátil por niño (OLPC) comience a distribuir laptops económicas con capacidad de conexión inalámbrica para niños en países en desarrollo, donde a menudo no existe infraestructura. La red oportunista es un enfoque prometedor para que esos niños intercambien información. Uno de los problemas fundamentales en las redes oportunísticas es cómo dirigir los mensajes desde su origen hasta su destino. Las redes oportunísticas móviles difieren de Internet en que las desconexiones son la norma en lugar de la excepción. En las redes oportunísticas móviles, los dispositivos de comunicación pueden ser transportados por personas [4], vehículos [1] o animales [11]. Algunos dispositivos pueden formar una pequeña red ad-hoc móvil cuando los nodos se acercan entre sí. Pero un nodo puede estar frecuentemente aislado de otros nodos. Se debe tener en cuenta que los protocolos de enrutamiento tradicionales de Internet y los protocolos de enrutamiento ad-hoc, como AODV [20] o DSDV [19], asumen que existe un camino de extremo a extremo contemporáneo, por lo que fallan en redes móviles oportunísticas. De hecho, puede que nunca exista un camino de extremo a extremo entre dos dispositivos dados. En este documento, estudiamos protocolos para el enrutamiento de mensajes entre dispositivos de redes inalámbricas transportados por personas. Suponemos que las personas envían mensajes a otras personas ocasionalmente, utilizando sus dispositivos; cuando no existe un enlace directo entre la fuente y el destino del mensaje, otros nodos pueden retransmitir el mensaje al destino. Cada dispositivo representa a una persona única (está fuera del alcance de este documento cuando un dispositivo puede ser utilizado por varias personas). Cada mensaje está destinado a una persona específica y, por lo tanto, a un nodo específico llevado por esa persona. Aunque una persona pueda llevar varios dispositivos, asumimos que el remitente sabe cuál es el mejor dispositivo para recibir el mensaje. No consideramos la multidifusión ni la geodifusión en este documento. Se han propuesto muchos protocolos de enrutamiento en la literatura. Pocos de ellos fueron evaluados en entornos de red realistas, o incluso en simulaciones realistas, debido a la falta de un modelo realista de movilidad de personas. Los modelos de movilidad de caminata aleatoria o de punto de destino aleatorio se utilizan frecuentemente para evaluar el rendimiento de esos protocolos de enrutamiento. Aunque estos modelos de movilidad sintéticos han recibido un amplio interés por parte de los investigadores de redes móviles ad hoc [3], no reflejan los patrones de movilidad de las personas [9]. Reconociendo las limitaciones de utilizar modelos de movilidad aleatoria en simulaciones, algunos investigadores han estudiado protocolos de enrutamiento en redes móviles oportunísticas con trazas de movilidad realistas. Chaintreau et al. [5] analizaron teóricamente el impacto de los algoritmos de enrutamiento sobre un modelo derivado de un conjunto de datos de movilidad realista. Su et al. [22] simularon un conjunto de 35 protocolos de enrutamiento en una pequeña red experimental. Esos estudios ayudan a los investigadores a comprender mejor los límites teóricos de las redes oportunísticas y el rendimiento del protocolo de enrutamiento en una red pequeña (20-30 nodos). Desplegar y experimentar redes oportunísticas móviles a gran escala es difícil, por lo que también recurrimos a la <br>simulación</br>. En lugar de utilizar un modelo de movilidad complejo para imitar los patrones de movilidad de las personas, utilizamos trazas de movilidad recopiladas en una red inalámbrica de producción en Dartmouth College para impulsar nuestra <br>simulación</br>. Nuestro modelo de generación de mensajes, sin embargo, era sintético. Hasta donde sabemos, somos los primeros en simular el efecto de los protocolos de enrutamiento en una red oportunista móvil a gran escala, utilizando trazas de contacto realistas derivadas de trazas reales de una red de producción con más de 5,000 usuarios. Usando trazas de contacto realistas, evaluamos el rendimiento de tres protocolos de enrutamiento ingenuos (entrega directa, epidémico y aleatorio) y dos protocolos de enrutamiento basados en predicción, PRoPHET [16] y Link-State [22]. También proponemos un nuevo protocolo de enrutamiento basado en predicciones y lo comparamos con el anterior en nuestra evaluación. 2. PROTOCOLO DE ENRUTAMIENTO Un protocolo de enrutamiento está diseñado para reenviar mensajes desde un nodo (origen) a otro nodo (destino). Cualquier nodo puede generar mensajes para cualquier otro nodo, y puede llevar mensajes destinados a otros nodos. En este documento, consideramos solo mensajes que son unicast (un solo destino). Los protocolos de enrutamiento DTN podrían describirse en parte por su probabilidad de transferencia y probabilidad de replicación; es decir, cuando un nodo se encuentra con otro nodo, ¿cuál es la probabilidad de que un mensaje deba ser transferido y, de ser así, si el remitente debe conservar su copia? Dos extremos son el protocolo de entrega directa y el protocolo epidémico. El antiguo transfiere con probabilidad 1 cuando el nodo se encuentra con el destino, 0 para los demás, y sin replicación. El último utiliza una probabilidad de transferencia de 1 para todos los nodos y replicación ilimitada. Ambos protocolos tienen sus ventajas y desventajas. Todos los demás protocolos se encuentran entre los dos extremos. Primero, definimos la noción de contacto entre dos nodos. Luego describimos cinco protocolos existentes antes de presentar nuestra propia propuesta. Un contacto se define como un período de tiempo durante el cual dos nodos tienen la oportunidad de comunicarse. Aunque somos conscientes de que las tecnologías inalámbricas difieren, asumimos que un nodo puede detectar de manera confiable el inicio y fin de un contacto con nodos cercanos. Un nodo puede estar en contacto con varios otros nodos al mismo tiempo. La historia de contactos de un nodo es una secuencia de contactos con otros nodos. El nodo i tiene un historial de contactos Hi(j), para cada otro nodo j, que denota los contactos históricos entre el nodo i y el nodo j. Registramos la hora de inicio y fin de cada contacto; sin embargo, los últimos contactos en el historial de contactos de los nodos pueden no haber finalizado. 2.1 Protocolo de Entrega Directa En este protocolo simple, un mensaje se transmite solo cuando el nodo fuente puede comunicarse directamente con el nodo destino del mensaje. En las redes móviles oportunísticas, sin embargo, la probabilidad de que el remitente se encuentre con el destino puede ser baja, o incluso cero. Protocolo de enrutamiento epidémico El protocolo de enrutamiento epidémico [23] difunde mensajes en la red. El nodo fuente envía una copia del mensaje a cada nodo que encuentra. Los nodos que reciben una copia del mensaje también envían una copia del mensaje a cada nodo que encuentran. Finalmente, una copia del mensaje llega al destino del mensaje. Este protocolo es simple, pero puede utilizar recursos significativos; una comunicación excesiva puede agotar rápidamente la batería de cada nodo. Además, dado que cada nodo guarda una copia de cada mensaje, el almacenamiento no se utiliza de manera eficiente y la capacidad de la red es limitada. Como mínimo, cada nodo debe expirar los mensajes después de cierto tiempo o dejar de reenviarlos después de un número determinado de saltos. Después de que un mensaje caduque, el mensaje no será transmitido y será eliminado del almacenamiento de cualquier nodo que tenga el mensaje. Una optimización para reducir el costo de comunicación es transferir mensajes de índice antes de transferir cualquier mensaje de datos. Los mensajes de índice contienen los IDs de los mensajes que un nodo tiene actualmente. Por lo tanto, al examinar los mensajes de índice, un nodo solo transfiere mensajes que aún no están contenidos en los otros nodos. 2.3 Enrutamiento Aleatorio Un enfoque obvio entre los dos extremos anteriores es seleccionar una probabilidad de transferencia entre 0 y 1 para reenviar mensajes en cada contacto. Utilizamos una estrategia de replicación simple que permite que solo el nodo fuente haga réplicas y limita la replicación a un número específico de copias. El mensaje tiene alguna posibilidad de ser transferido a un nodo altamente móvil, y por lo tanto puede tener una mejor oportunidad de llegar a su destino antes de que el mensaje expire. El Protocolo PRoPHET 2.4 PRoPHET es un Protocolo de Enrutamiento Probabilístico que utiliza el Historial de Encuentros pasados y la Transitividad para estimar la probabilidad de entrega de cada nodo para cada otro nodo. Cuando el nodo i se encuentra con el nodo j, la probabilidad de entrega del nodo i para j se actualiza mediante pij = (1 − pij)p0 + pij, donde p0 es una probabilidad inicial, un parámetro de diseño para una red dada. Lindgren et al. [16] eligieron 0.75, al igual que nosotros en nuestra evaluación. Cuando el nodo i no se comunica con j durante algún tiempo, la probabilidad de entrega disminuye según pij = αk pij, donde α es el factor de envejecimiento (α < 1), y k es el número de unidades de tiempo desde la última actualización. El protocolo PRoPHET intercambia mensajes de índice así como probabilidades de entrega. Cuando el nodo i recibe las probabilidades de entrega del nodo j, el nodo i puede calcular la probabilidad de entrega transitiva a través de j a z con piz = piz + (1 − piz)pijpjzβ, donde β es un parámetro de diseño para el impacto de la transitividad; utilizamos β = 0.25 como lo hizo Lindgren [16]. Protocolo de Estado de Enlace 2.5 Su et al. [22] utilizan un enfoque de estado de enlace para estimar el peso de cada ruta desde la fuente de un mensaje hasta el destino. Utilizan la duración mediana entre contactos o la duración de contacto envejecida exponencialmente como peso en los enlaces. La duración de interacción exponencialmente envejecida entre los nodos i y j se calcula mediante wij = αwij + (1 − α)I, donde I es la nueva duración de interacción y α es el factor de envejecimiento. Los nodos comparten sus pesos de estado de enlace cuando pueden comunicarse entre sí, y los mensajes se reenvían al nodo que tiene la ruta con el peso de estado de enlace más bajo. PROBABILIDAD DE CONTACTO OPORTUNO También utilizamos la información de contacto histórica para estimar la probabilidad de encontrarse con otros nodos en el futuro. Pero nuestro método difiere en que estimamos la probabilidad de contacto dentro de un período de tiempo. Por ejemplo, ¿cuál es la probabilidad de contacto en la próxima hora? Ni PRoPHET ni Link-State consideran el tiempo de esta manera. Una forma de estimar la probabilidad de contacto oportuno es utilizar la proporción de la duración total del contacto al tiempo total. Sin embargo, este enfoque no captura la frecuencia de los contactos. Por ejemplo, un nodo puede tener un contacto prolongado con otro nodo, seguido de un largo período sin contacto. Un tercer nodo puede tener un breve contacto con el primer nodo, seguido de un breve período sin contacto. Utilizando el enfoque de estimación anterior, ambos ejemplos tendrían una probabilidad de contacto similar. En el segundo ejemplo, sin embargo, los dos nodos tienen contactos más frecuentes. Diseñamos un método para capturar la frecuencia de contacto de los nodos móviles. Para este propósito, asumimos que incluso los contactos breves son suficientes para intercambiar mensajes. La probabilidad de que el nodo i se encuentre con el nodo j se calcula mediante el siguiente procedimiento. Dividimos el historial de contactos Hi(j) en una secuencia de n períodos de ΔT comenzando desde el tiempo de inicio (t0) del primer contacto en el historial Hi(j) hasta el tiempo actual. Numeramos cada uno de los n períodos del 0 al n − 1, luego verificamos cada período. Si el nodo i tuvo algún contacto con el nodo j durante un período dado m, que es [t0 + mΔT, t0 + (m + 1)ΔT), establecemos el estado de contacto Im en 1; de lo contrario, el estado de contacto Im es 0. La probabilidad p (0) ij de que el nodo i se encuentre con el nodo j en el próximo ΔT se puede estimar como el promedio del estado de contacto en intervalos anteriores: p (0) ij = 1 n n−1X m=0 Im. Para adaptarse al cambio de patrones de contacto y reducir el espacio de almacenamiento para historiales de contacto, un nodo puede descartar contactos antiguos; en esta situación, la estimación se basaría solo en el historial retenido. La probabilidad anterior es la probabilidad de contacto directo entre dos nodos. También estamos interesados en la probabilidad de que podamos pasar un mensaje a través de una secuencia de k nodos. Definimos la probabilidad de orden k de forma inductiva, p (k) ij = p (0) ij + X α p (0) iα p (k−1) αj , (6) donde α es cualquier nodo distinto de i o j. 3.1 Nuestro Protocolo de Enrutamiento Primero consideramos el caso de un camino de dos saltos, es decir, con solo un nodo de retransmisión. Consideramos dos enfoques: o bien el vecino receptor decide si actuar como relé, o la fuente decide qué vecinos utilizar como relé. 3.1.1 Decisión del Receptor Cada vez que un nodo se encuentra con otros nodos, intercambian todos sus mensajes (o como se mencionó anteriormente, mensajes de índice). Si el destino de un mensaje es el receptor mismo, el mensaje se entrega. De lo contrario, si la probabilidad de entregar el mensaje a su destino a través de este nodo receptor dentro de ΔT es mayor o igual a un cierto umbral, el mensaje se almacena en el almacenamiento de los receptores para reenviarlo. En nuestra <br>simulación</br>, sin embargo, modelamos con precisión los costos de comunicación y algunos contactos breves no lograrán transferir todos los mensajes al destino. Si la probabilidad es menor que el umbral, el receptor descarta el mensaje. Observa que nuestro protocolo replica el mensaje cada vez que aparece un relé atractivo. 3.1.2 Decisión del remitente Para tomar decisiones, un remitente debe tener la información sobre la probabilidad de contacto de sus vecinos con el destino de un mensaje. Por lo tanto, el intercambio de metadatos es necesario. Cuando dos nodos se encuentran, intercambian un meta-mensaje que contiene una lista desordenada de IDs de nodos para los cuales el remitente del meta-mensaje tiene una probabilidad de contacto mayor que el umbral. Después de recibir un meta-mensaje, un nodo verifica si tiene algún mensaje destinado a su vecino, o a un nodo en la lista de nodos del meta-mensaje de los vecinos. Si lo tiene, envía una copia del mensaje. Cuando un nodo recibe un mensaje, si el destino del mensaje es el receptor mismo, el mensaje es entregado. De lo contrario, el mensaje se almacena en el almacenamiento del receptor para reenviarlo al destino. 3.1.3 Relevador de múltiples nodos Cuando utilizamos más de dos saltos para retransmitir un mensaje, cada nodo necesita conocer las probabilidades de contacto a lo largo de todos los caminos posibles hacia el destino del mensaje. Cada nodo mantiene una matriz de probabilidad de contacto, en la que cada celda pij es una probabilidad de contacto entre los nodos i y j. Cada nodo i calcula sus propias probabilidades de contacto (fila i) con otros nodos utilizando la Ecuación (5) cada vez que el nodo finaliza un contacto con otros nodos. Cada fila de la matriz de probabilidad de contacto tiene un número de versión; el número de versión de la fila i solo se incrementa cuando el nodo i actualiza las entradas de la matriz en la fila i. Otras entradas de la matriz se actualizan mediante intercambio con otros nodos cuando se encuentran. Cuando dos nodos i y j se encuentran, primero intercambian sus matrices de probabilidad de contacto. El nodo i compara su propia matriz de contactos con la matriz del nodo j. Si la matriz de Node.js tiene una fila l con un número de versión más alto, entonces el nodo i reemplaza su propia fila l con la fila l de Node.js. De la misma manera, el nodo j actualiza su matriz. Después del intercambio, los dos nodos tendrán matrices de probabilidad de contacto idénticas. A continuación, si un nodo tiene un mensaje para reenviar, el nodo estima la probabilidad de contacto de orden-k de sus nodos vecinos para contactar al destino del mensaje utilizando la Ecuación (6). Si p(k)ij está por encima de un umbral, o si j es el destino del mensaje, el nodo i enviará una copia del mensaje al nodo j. Todo el esfuerzo anterior sirve para determinar la probabilidad de transferencia cuando dos nodos se encuentran. La decisión de replicación es ortogonal a la decisión de transferencia. En nuestra implementación, siempre replicamos. Aunque PRoPHET [16] y Link-State [22] no realizan replicación, como se describe, agregamos replicación a esos protocolos para una mejor comparación con nuestro protocolo. 4. RESULTADOS DE LA EVALUACIÓN Evaluamos y comparamos los resultados de los protocolos de enrutamiento de entrega directa, epidémico, aleatorio, PRoPHET, estado de enlace y contacto oportuno. 4.1 Rastros de movilidad Utilizamos datos reales de movilidad recopilados en Dartmouth College. El Dartmouth College ha recopilado mensajes de asociación y desasociación de dispositivos en su red inalámbrica de usuarios inalámbricos desde la primavera de 2001. Cada mensaje registra la dirección MAC de la tarjeta inalámbrica, el momento de asociación/desasociación y el nombre del punto de acceso. Tratamos cada dirección MAC única como un nodo. Para obtener más información sobre la red de Dartmouth y la recopilación de datos, consulte estudios anteriores [7, 12]. Nuestros datos no son contactos en una red ad-hoc móvil. Podemos aproximar las trazas de contacto asumiendo que dos usuarios pueden comunicarse entre sí siempre que estén asociados al mismo punto de acceso. Chaintreau et al. [5] utilizaron trazas de datos de Dartmouth y realizaron la misma suposición para analizar teóricamente el impacto de la movilidad humana en los algoritmos de reenvío oportunista. Esta suposición puede que no sea precisa, pero es una buena primera aproximación. En nuestra <br>simulación</br>, imaginamos los mismos clientes y la misma movilidad en una red sin puntos de acceso. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        }
    }
}