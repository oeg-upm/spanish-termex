{
    "id": "C-20",
    "original_text": "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K. Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned. In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner. We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities. We make use of server virtualization technologies to enable the replication and migration of server functions. We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1. INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned. These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications. A relatively minor outage can disrupt and inconvenience a large number of users. Today these services are almost exclusively hosted in data centers. Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment. In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion. Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22]. When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application. In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted. Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access. Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original. While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment. Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics. In this paper we outline a design for live service migration across WANs. Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN. The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system. While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved. Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services. We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2. LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic. Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs). Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications. Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption. For this reason, prior work and current practices have addressed the robustness of individual components. For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level. Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc). Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies. The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient. Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events. As such, our basic approach is to migrate services between data centers across the wide are network (WAN). By necessity, moving or migrating services from one data center to another needs to consider all three of these components. Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques. In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole. We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation. Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks. In this section we briefly describe the technical building blocks that would enable our approach. As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8]. In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another. Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections. Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact. In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to. In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8]. Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22]. However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this. If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8]. Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23]. However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed. This presents a significant challenge for a number of reasons. First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales. The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration. Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems. Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time. Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner. Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified. We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved. Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel. Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed. From a business/usability point of view, such remote replication is driven by two metrics [9]. First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster. Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13]. Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge. The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time. Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority. However, these desirable properties come at a price. First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16]. Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete. An alternative is to use asynchronous replication. However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system. But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems. For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics. Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation. When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step. The final server migration step triggers a simultaneous switch-over to the storage system at the new data center. In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3. WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network. We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN. We utilize different scenarios to demonstrate our approach. In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled. In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts. First, we consider the case where the service has no (or very limited) storage requirements. This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway. Second, we deal with the more general case where the service also requires the migration of data storage to the new data center. Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility. Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B. Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent. The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ). After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers. Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration. Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B. When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network. For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B. For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center. Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B. Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B. However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ . To rectify this situation another networking step is involved. Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ . In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c). Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center. To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly. Asynchronous replication during this initial phase allows for the application to see no performance impact. However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration. When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum. When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center. Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers. When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center. From this point on, both storage and server migration operations are complete and activated in data center B. As above, the network state still needs to be updated to ensure optimal data flow directly to data center B. Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider. Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages. There are multiple considerations that go into managing data center operations to plan and overcome failures through migration. Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event. At the one extreme, one might incur the overhead of completely mirroring the application at the remote site. This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout. The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage. In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state. Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state. An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users. A spectrum of approaches are possible. In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session. More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk. Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site. Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only. Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing. Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state. Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs. Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11]. For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state. To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed. Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel. Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure. The approach can however, easily be extended to make use of a switchover at a router deeper in the network. The amount of state and storage that has to be migrated may vary widely from application to application. There may be many situations where, in principle, the server can be stateless. For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP. In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site. Little or no overhead is incurred under normal operation to enable the migration to a new data center. Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures. As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting. It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures. The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4. RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support. At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15]. Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8]. As indicated earlier, these techniques assume that migration is being done on a LAN. VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19]. Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12]. Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support. In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor. An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11]. The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1]. Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously. In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers. In addition to being in a different application area, our approach differs from the RouterFarm work in two regards. First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network). Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces). Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6]. In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5. CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned. In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner. We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities. We advocated using server virtualization technologies to enable the replication and migration of server functions. We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6. REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie. Ursa minor: versatile cluster-based storage. USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates. Routerfarm: Towards a dynamic, manageable network edge. SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi. Understanding the Message Logging Paradigm for Masking Process Crashes. PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo. Message logging: Pessimistic, optimistic, and causal. In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236. IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield. Xen and the art of virtualization. In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A. Brown and D. A. Patterson. Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson. Snapmirror and snaprestore: Advances in snapshot technology. Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel. Live migration of virtual machines. In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal. Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase. Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration. In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes. Seneca: Remote mirroring done write. USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan. Internet suspend and resume. In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe. The case for semantic aware remote replication. In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins. Fast Transparent Migration for Virtual Machines. In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel. Virtual machine monitors: Current technology and future trends. Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes. Unix disk access patterns. Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen. Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure. In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum. Optimizing the migration of virtual computers. In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda. Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation. In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation. Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang. Seamless live migration of virtual machines over the man/wan. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif. Black-box and gray-box strategies for virtual machine migration. In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267",
    "original_translation": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de voz sobre IP (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y soporte de red. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. CONCLUSIÓN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos. Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie. Ursa minor: almacenamiento basado en clústeres versátil. Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates. Routerfarm: Hacia un borde de red dinámico y manejable. Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi. Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso. Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo. Registro de mensajes: pesimista, optimista y causal. En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236. IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield. Xen y el arte de la virtualización. En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A. Brown y D. A. Patterson. Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson. Snapmirror y snaprestore: Avances en la tecnología de instantáneas. Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel. Migración en vivo de máquinas virtuales. En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal. Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase. Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma. En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes. Seneca: Duplicación remota realizada correctamente. Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan. Internet se suspende y se reanuda. En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe. El caso para la replicación remota consciente de la semántica. En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins. Migración rápida y transparente para máquinas virtuales. En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel. Monitores de máquinas virtuales: Tecnología actual y tendencias futuras. Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes. Patrones de acceso a disco en Unix. Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen. Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios. En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum. Optimizando la migración de computadoras virtuales. En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda. Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución. En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec. Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang. Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif. Estrategias de caja negra y caja gris para la migración de máquinas virtuales. En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267",
    "original_sentences": [
        "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
        "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
        "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
        "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
        "We make use of server virtualization technologies to enable the replication and migration of server functions.",
        "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
        "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
        "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
        "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
        "A relatively minor outage can disrupt and inconvenience a large number of users.",
        "Today these services are almost exclusively hosted in data centers.",
        "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
        "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
        "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
        "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
        "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
        "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
        "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
        "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
        "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
        "In this paper we outline a design for live service migration across WANs.",
        "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
        "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
        "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
        "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
        "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
        "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
        "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
        "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
        "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
        "For this reason, prior work and current practices have addressed the robustness of individual components.",
        "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
        "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
        "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
        "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
        "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
        "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
        "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
        "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
        "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
        "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
        "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
        "In this section we briefly describe the technical building blocks that would enable our approach.",
        "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
        "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
        "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
        "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
        "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
        "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
        "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
        "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
        "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
        "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
        "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
        "This presents a significant challenge for a number of reasons.",
        "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
        "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
        "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
        "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
        "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
        "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
        "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
        "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
        "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
        "From a business/usability point of view, such remote replication is driven by two metrics [9].",
        "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
        "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
        "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
        "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
        "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
        "However, these desirable properties come at a price.",
        "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
        "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
        "An alternative is to use asynchronous replication.",
        "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
        "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
        "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
        "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
        "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
        "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
        "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
        "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
        "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
        "We utilize different scenarios to demonstrate our approach.",
        "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
        "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
        "First, we consider the case where the service has no (or very limited) storage requirements.",
        "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
        "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
        "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
        "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
        "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
        "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
        "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
        "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
        "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
        "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
        "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
        "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
        "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
        "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
        "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
        "To rectify this situation another networking step is involved.",
        "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
        "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
        "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
        "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
        "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
        "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
        "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
        "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
        "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
        "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
        "From this point on, both storage and server migration operations are complete and activated in data center B.",
        "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
        "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
        "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
        "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
        "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
        "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
        "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
        "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
        "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
        "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
        "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
        "A spectrum of approaches are possible.",
        "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
        "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
        "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
        "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
        "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
        "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
        "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
        "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
        "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
        "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
        "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
        "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
        "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
        "The amount of state and storage that has to be migrated may vary widely from application to application.",
        "There may be many situations where, in principle, the server can be stateless.",
        "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
        "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
        "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
        "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
        "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
        "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
        "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
        "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
        "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
        "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
        "As indicated earlier, these techniques assume that migration is being done on a LAN.",
        "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
        "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
        "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
        "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
        "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
        "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
        "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
        "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
        "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
        "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
        "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
        "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
        "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
        "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
        "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
        "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
        "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
        "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
        "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
        "Ursa minor: versatile cluster-based storage.",
        "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
        "Routerfarm: Towards a dynamic, manageable network edge.",
        "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
        "Understanding the Message Logging Paradigm for Masking Process Crashes.",
        "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
        "Message logging: Pessimistic, optimistic, and causal.",
        "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
        "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
        "Xen and the art of virtualization.",
        "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
        "Brown and D. A. Patterson.",
        "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
        "Snapmirror and snaprestore: Advances in snapshot technology.",
        "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
        "Live migration of virtual machines.",
        "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
        "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
        "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
        "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
        "Seneca: Remote mirroring done write.",
        "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
        "Internet suspend and resume.",
        "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
        "The case for semantic aware remote replication.",
        "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
        "Fast Transparent Migration for Virtual Machines.",
        "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
        "Virtual machine monitors: Current technology and future trends.",
        "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
        "Unix disk access patterns.",
        "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
        "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
        "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
        "Optimizing the migration of virtual computers.",
        "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
        "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
        "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
        "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
        "Seamless live migration of virtual machines over the man/wan.",
        "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
        "Black-box and gray-box strategies for virtual machine migration.",
        "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
    ],
    "translated_text_sentences": [
        "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K.",
        "Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas.",
        "En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva.",
        "Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos.",
        "Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor.",
        "Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos.",
        "Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1.",
        "Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas.",
        "Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real.",
        "Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios.",
        "Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos.",
        "Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN).",
        "En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva.",
        "No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22].",
        "Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación.",
        "En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso.",
        "Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento.",
        "Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original.",
        "Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN.",
        "Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio.",
        "En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs.",
        "Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN.",
        "La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos.",
        "Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado.",
        "Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos.",
        "Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2.",
        "MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio.",
        "Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN).",
        "Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones.",
        "Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio.",
        "Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales.",
        "Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red.",
        "Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc).",
        "Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos.",
        "El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes.",
        "Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos.",
        "Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN).",
        "Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes.",
        "Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso.",
        "En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad.",
        "Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo.",
        "En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia.",
        "En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación.",
        "Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8].",
        "En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra.",
        "Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso.",
        "Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas.",
        "Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual.",
        "En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua).",
        "Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22].",
        "Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto.",
        "Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN.",
        "Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23].",
        "Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado.",
        "Esto presenta un desafío significativo por varias razones.",
        "Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual.",
        "El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo.",
        "Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red.",
        "Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado.",
        "Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada.",
        "Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración.",
        "Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados.",
        "Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel.",
        "Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos.",
        "Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9].",
        "El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre.",
        "El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13].",
        "La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan.",
        "La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo.",
        "La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad.",
        "Sin embargo, estas propiedades deseables tienen un costo.",
        "Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16].",
        "Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local.",
        "Una alternativa es utilizar la replicación asíncrona.",
        "Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal.",
        "Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona.",
        "Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración.",
        "Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación.",
        "Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor.",
        "El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos.",
        "De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3.",
        "En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia.",
        "Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN.",
        "Utilizamos diferentes escenarios para demostrar nuestro enfoque.",
        "En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados.",
        "En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes.",
        "Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados).",
        "Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de voz sobre IP (VoIP).",
        "En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos.",
        "Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red.",
        "La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B.",
        "Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente.",
        "El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§).",
        "Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales.",
        "De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración.",
        "Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B.",
        "Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red.",
        "Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B.",
        "Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos.",
        "Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B.",
        "Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B.",
        "Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§.",
        "Para rectificar esta situación se requiere otro paso de networking.",
        "Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥.",
        "De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c).",
        "Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto.",
        "Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto.",
        "La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento.",
        "Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración.",
        "Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona.",
        "Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto.",
        "Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos.",
        "Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto.",
        "A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B.",
        "Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B.",
        "Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios.",
        "Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos.",
        "Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración.",
        "Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento.",
        "En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto.",
        "Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad.",
        "El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción.",
        "En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente.",
        "Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación.",
        "Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios.",
        "Un espectro de enfoques son posibles.",
        "En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión.",
        "Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco.",
        "El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto.",
        "Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control.",
        "Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control.",
        "Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento.",
        "La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados.",
        "La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11].",
        "Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado.",
        "Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red.",
        "Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido.",
        "Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla.",
        "Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red.",
        "La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra.",
        "Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado.",
        "Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP.",
        "En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos.",
        "Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos.",
        "La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente.",
        "A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite.",
        "También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas.",
        "Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4.",
        "TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y soporte de red.",
        "En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15].",
        "La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8].",
        "Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN.",
        "La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19].",
        "El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12].",
        "Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde.",
        "En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor.",
        "Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11].",
        "El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1].",
        "Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona.",
        "En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor.",
        "Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos.",
        "Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red).",
        "Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes).",
        "Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6].",
        "En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5.",
        "CONCLUSIÓN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas.",
        "En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva.",
        "Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos.",
        "Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor.",
        "Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos.",
        "REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie.",
        "Ursa minor: almacenamiento basado en clústeres versátil.",
        "Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates.",
        "Routerfarm: Hacia un borde de red dinámico y manejable.",
        "Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi.",
        "Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso.",
        "Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo.",
        "Registro de mensajes: pesimista, optimista y causal.",
        "En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236.",
        "IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield.",
        "Xen y el arte de la virtualización.",
        "En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A.",
        "Brown y D. A. Patterson.",
        "Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson.",
        "Snapmirror y snaprestore: Avances en la tecnología de instantáneas.",
        "Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel.",
        "Migración en vivo de máquinas virtuales.",
        "En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal.",
        "Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase.",
        "Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma.",
        "En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes.",
        "Seneca: Duplicación remota realizada correctamente.",
        "Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan.",
        "Internet se suspende y se reanuda.",
        "En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe.",
        "El caso para la replicación remota consciente de la semántica.",
        "En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins.",
        "Migración rápida y transparente para máquinas virtuales.",
        "En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel.",
        "Monitores de máquinas virtuales: Tecnología actual y tendencias futuras.",
        "Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes.",
        "Patrones de acceso a disco en Unix.",
        "Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen.",
        "Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios.",
        "En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum.",
        "Optimizando la migración de computadoras virtuales.",
        "En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda.",
        "Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución.",
        "En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec.",
        "Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang.",
        "Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia.",
        "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif.",
        "Estrategias de caja negra y caja gris para la migración de máquinas virtuales.",
        "En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267"
    ],
    "error_count": 0,
    "keys": {
        "internet-based service": {
            "translated_key": "servicios basados en Internet",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for <br>internet-based service</br> providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for <br>internet-based service</br> providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for <br>internet-based service</br> providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for <br>internet-based service</br> providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "INTRODUCTION A significant concern for <br>internet-based service</br> providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "CONCLUSION A significant concern for <br>internet-based service</br> providers is the continued operation and availability of services in the face of outages, whether planned or unplanned."
            ],
            "translated_annotated_samples": [
                "Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de <br>servicios basados en Internet</br> es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas.",
                "Una preocupación significativa para los proveedores de <br>servicios basados en Internet</br> es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas.",
                "CONCLUSIÓN Una preocupación significativa para los proveedores de <br>servicios basados en Internet</br> es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de <br>servicios basados en Internet</br> es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de <br>servicios basados en Internet</br> es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de voz sobre IP (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y soporte de red. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. CONCLUSIÓN Una preocupación significativa para los proveedores de <br>servicios basados en Internet</br> es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos. Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie. Ursa minor: almacenamiento basado en clústeres versátil. Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates. Routerfarm: Hacia un borde de red dinámico y manejable. Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi. Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso. Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo. Registro de mensajes: pesimista, optimista y causal. En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236. IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield. Xen y el arte de la virtualización. En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A. Brown y D. A. Patterson. Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson. Snapmirror y snaprestore: Avances en la tecnología de instantáneas. Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel. Migración en vivo de máquinas virtuales. En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal. Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase. Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma. En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes. Seneca: Duplicación remota realizada correctamente. Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan. Internet se suspende y se reanuda. En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe. El caso para la replicación remota consciente de la semántica. En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins. Migración rápida y transparente para máquinas virtuales. En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel. Monitores de máquinas virtuales: Tecnología actual y tendencias futuras. Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes. Patrones de acceso a disco en Unix. Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen. Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios. En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum. Optimizando la migración de computadoras virtuales. En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda. Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución. En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec. Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang. Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif. Estrategias de caja negra y caja gris para la migración de máquinas virtuales. En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "data center migration": {
            "translated_key": "migración de centros de datos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live <br>data center migration</br> across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to <br>data center migration</br> across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live <br>data center migration</br>, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the <br>data center migration</br> across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE <br>data center migration</br> ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to <br>data center migration</br> across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Live <br>data center migration</br> across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "In this paper we advocate a cooperative, context-aware approach to <br>data center migration</br> across WANs to deal with outages in a non-disruptive manner.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live <br>data center migration</br>, because in general the available technologies are unaware of application/service level semantics.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the <br>data center migration</br> across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "LIVE <br>data center migration</br> ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic."
            ],
            "translated_annotated_samples": [
                "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K.",
                "En este documento abogamos por un enfoque cooperativo y consciente del contexto para la <br>migración de centros de datos</br> a través de WANs para hacer frente a las interrupciones de manera no disruptiva.",
                "Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio.",
                "La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la <br>migración del centro de datos</br> en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos.",
                "MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la <br>migración de centros de datos</br> a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la <br>migración del centro de datos</br> en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. ",
            "candidates": [],
            "error": [
                [
                    "migración de centros de datos",
                    "migración del centro de datos"
                ]
            ]
        },
        "wan": {
            "translated_key": "WAN",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (<br>wan</br>), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a <br>wan</br> environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a <br>wan</br>.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a <br>wan</br> of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (<br>wan</br>).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use <br>wan</br> server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a <br>wan</br> is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays <br>wan</br> networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to <br>wan</br> server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live <br>wan</br> migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For <br>wan</br> live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "<br>wan</br> MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the <br>wan</br>.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a <br>wan</br> This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support <br>wan</br> migration, but with downtimes [18, 12].",
                "Recently live <br>wan</br> migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/<br>wan</br>.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Unfortunately in a wide area environment (<br>wan</br>), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a <br>wan</br> environment.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a <br>wan</br>.",
                "Our main contribution is the design of a framework that will allow the migration across a <br>wan</br> of all subsystems involved with enabling data center services.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (<br>wan</br>)."
            ],
            "translated_annotated_samples": [
                "Desafortunadamente, en un entorno de área amplia (<br>WAN</br>), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original.",
                "Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un <br>entorno de WAN</br>.",
                "Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN.",
                "Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de <br>una WAN</br> de todos los subsistemas involucrados en la habilitación de servicios de centro de datos.",
                "Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la <br>red de área amplia</br> (WAN)."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (<br>WAN</br>), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un <br>entorno de WAN</br>. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de <br>una WAN</br> de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la <br>red de área amplia</br> (WAN). ",
            "candidates": [],
            "error": [
                [
                    "WAN",
                    "entorno de WAN",
                    "una WAN",
                    "red de área amplia"
                ]
            ]
        },
        "lan": {
            "translated_key": "LAN",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (<br>lan</br>) environment.",
                "In the <br>lan</br> environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a <br>lan</br> environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a <br>lan</br> environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared <br>lan</br> environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the <br>lan</br> based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant <br>lan</br> devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a <br>lan</br> environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-<br>lan</br> environment, use of live server migration as a management tool has been limited to the <br>lan</br> environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with <br>lan</br> based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a <br>lan</br>.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (<br>lan</br>) environment.",
                "In the <br>lan</br> environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "When using these technologies in a <br>lan</br> environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "Similarly, in a <br>lan</br> environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "While this is fairly easily achieved in a shared <br>lan</br> environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment."
            ],
            "translated_annotated_samples": [
                "Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (<br>LAN</br>).",
                "En el <br>entorno de LAN</br>, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva.",
                "Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación.",
                "Del mismo modo, en un entorno de <br>red de área local</br> (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento.",
                "Si bien esto se logra fácilmente en un entorno de <br>LAN</br> compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (<br>LAN</br>). En el <br>entorno de LAN</br>, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de <br>red de área local</br> (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de <br>LAN</br> compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. ",
            "candidates": [],
            "error": [
                [
                    "LAN",
                    "entorno de LAN",
                    "red de área local",
                    "LAN"
                ]
            ]
        },
        "virtual server": {
            "translated_key": "servidor virtual",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a <br>virtual server</br>, and the migration services provided by the underlying virtualization framework allows for a <br>virtual server</br> to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the <br>virtual server</br> retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the <br>virtual server</br> to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live <br>virtual server</br> Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a <br>virtual server</br> is being transfered from one physical machine to another.",
                "Since the <br>virtual server</br> is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the <br>virtual server</br> experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the <br>virtual server</br> has to be reachable at the physical server where the <br>virtual server</br> is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the <br>virtual server</br> to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, <br>virtual server</br> migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the <br>virtual server</br> be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the <br>virtual server</br> starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a <br>virtual server</br> VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the <br>virtual server</br> from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the <br>virtual server</br> address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "When using these technologies in a LAN environment, services execute in a <br>virtual server</br>, and the migration services provided by the underlying virtualization framework allows for a <br>virtual server</br> to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the <br>virtual server</br> retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the <br>virtual server</br> to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live <br>virtual server</br> Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a <br>virtual server</br> is being transfered from one physical machine to another."
            ],
            "translated_annotated_samples": [
                "Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un <br>servidor virtual</br>, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un <br>servidor virtual</br> se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación.",
                "En particular, dado que el <br>servidor virtual</br> conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso.",
                "Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el <br>servidor virtual</br> mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original.",
                "Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8].",
                "En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un <br>servidor virtual</br> se está transfiriendo de una máquina física a otra."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un <br>servidor virtual</br>, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un <br>servidor virtual</br> se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el <br>servidor virtual</br> conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el <br>servidor virtual</br> mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un <br>servidor virtual</br> se está transfiriendo de una máquina física a otra. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "storage replication": {
            "translated_key": "replicación de almacenamiento",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic <br>storage replication</br> technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 <br>storage replication</br> Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the <br>storage replication</br> subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, <br>storage replication</br> and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to <br>storage replication</br> to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic <br>storage replication</br> technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic <br>storage replication</br> technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 <br>storage replication</br> Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the <br>storage replication</br> subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, <br>storage replication</br> and network support.",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to <br>storage replication</br> to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5."
            ],
            "translated_annotated_samples": [
                "Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de <br>replicación de almacenamiento</br> inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos.",
                "Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos.",
                "Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de <br>replicación de almacenamiento</br> y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN.",
                "TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, <br>replicación de almacenamiento</br> y soporte de red.",
                "En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a <br>replicación de almacenamiento</br> para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de <br>replicación de almacenamiento</br> inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de <br>replicación de almacenamiento</br> y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de voz sobre IP (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, <br>replicación de almacenamiento</br> y soporte de red. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a <br>replicación de almacenamiento</br> para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "synchronous replication": {
            "translated_key": "replicación síncrona",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ <br>synchronous replication</br>: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "<br>synchronous replication</br> is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, <br>synchronous replication</br> systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, <br>synchronous replication</br> has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than <br>synchronous replication</br> systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to <br>synchronous replication</br> in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to <br>synchronous replication</br> to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to <br>synchronous replication</br>, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and <br>synchronous replication</br>, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Remote replication can be broadly classified into the following two categories: ¡ <br>synchronous replication</br>: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "<br>synchronous replication</br> is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "First, because every data block needs to be replicated remotely, <br>synchronous replication</br> systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, <br>synchronous replication</br> has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than <br>synchronous replication</br> systems."
            ],
            "translated_annotated_samples": [
                "La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan.",
                "La <br>replicación síncrona</br> suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad.",
                "Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de <br>replicación síncrona</br> no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16].",
                "Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la <br>replicación síncrona</br> tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local.",
                "Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de <br>replicación síncrona</br>."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La <br>replicación síncrona</br> suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de <br>replicación síncrona</br> no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la <br>replicación síncrona</br> tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de <br>replicación síncrona</br>. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "asynchronous replication": {
            "translated_key": "replicación asíncrona",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ <br>asynchronous replication</br>: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use <br>asynchronous replication</br>.",
                "However, because the local and remote systems are allowed to diverge, <br>asynchronous replication</br> always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, <br>asynchronous replication</br> systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via <br>asynchronous replication</br> to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, <br>asynchronous replication</br> can be started in anticipation of a migration that is expected to happen shortly.",
                "<br>asynchronous replication</br> during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from <br>asynchronous replication</br> to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use <br>asynchronous replication</br> with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and <br>asynchronous replication</br> concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ <br>asynchronous replication</br>: in this case the local and remote storage systems are allowed to diverge.",
                "An alternative is to use <br>asynchronous replication</br>.",
                "However, because the local and remote systems are allowed to diverge, <br>asynchronous replication</br> always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, <br>asynchronous replication</br> systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via <br>asynchronous replication</br> to benefit from the efficiency of that mode of operation."
            ],
            "translated_annotated_samples": [
                "La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan.",
                "Una alternativa es utilizar la <br>replicación asíncrona</br>.",
                "Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la <br>replicación asíncrona</br> siempre implica cierta pérdida de datos en caso de fallo del sistema principal.",
                "Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de <br>replicación asincrónica</br> pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona.",
                "Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de <br>replicación asincrónica</br> para beneficiarse de la eficiencia de ese modo de operación."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la <br>replicación asíncrona</br>. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la <br>replicación asíncrona</br> siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de <br>replicación asincrónica</br> pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de <br>replicación asincrónica</br> para beneficiarse de la eficiencia de ese modo de operación. ",
            "candidates": [],
            "error": [
                [
                    "replicación asíncrona",
                    "replicación asíncrona",
                    "replicación asincrónica",
                    "replicación asincrónica"
                ]
            ]
        },
        "network support": {
            "translated_key": "soporte de red",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, <br>network support</br> is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and <br>network support</br>.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of <br>network support</br>, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "To make the switch-over seamless, in addition to replicating data and recovering state, <br>network support</br> is needed.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and <br>network support</br>.",
                "In the context of <br>network support</br>, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers."
            ],
            "translated_annotated_samples": [
                "Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita <br>soporte de red</br>.",
                "TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y <br>soporte de red</br>.",
                "En el contexto de <br>soporte de red</br>, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de voz sobre IP (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita <br>soporte de red</br>. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y <br>soporte de red</br>. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de <br>soporte de red</br>, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. CONCLUSIÓN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos. Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie. Ursa minor: almacenamiento basado en clústeres versátil. Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates. Routerfarm: Hacia un borde de red dinámico y manejable. Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi. Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso. Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo. Registro de mensajes: pesimista, optimista y causal. En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236. IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield. Xen y el arte de la virtualización. En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A. Brown y D. A. Patterson. Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson. Snapmirror y snaprestore: Avances en la tecnología de instantáneas. Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel. Migración en vivo de máquinas virtuales. En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal. Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase. Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma. En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes. Seneca: Duplicación remota realizada correctamente. Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan. Internet se suspende y se reanuda. En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe. El caso para la replicación remota consciente de la semántica. En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins. Migración rápida y transparente para máquinas virtuales. En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel. Monitores de máquinas virtuales: Tecnología actual y tendencias futuras. Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes. Patrones de acceso a disco en Unix. Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen. Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios. En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum. Optimizando la migración de computadoras virtuales. En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda. Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución. En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec. Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang. Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif. Estrategias de caja negra y caja gris para la migración de máquinas virtuales. En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "storage": {
            "translated_key": "almacenamiento",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic <br>storage</br> replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, <br>storage</br> requirements are normally met via either network attached <br>storage</br> (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and <br>storage</br> mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk <br>storage</br> system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk <br>storage</br> for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the <br>storage</br> level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and <br>storage</br> subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk <br>storage</br> needs are being met with network attached <br>storage</br> (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) <br>storage</br> including <br>storage</br> area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 <br>storage</br> Replication Requirements Data availability is typically addressed by replicating business data on a local/primary <br>storage</br> system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local <br>storage</br> system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote <br>storage</br> systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote <br>storage</br> systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the <br>storage</br> system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, <br>storage</br> requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the <br>storage</br> replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) <br>storage</br> requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data <br>storage</br> to the new data center.",
                "Without Requiring <br>storage</br> to be Migrated: Without <br>storage</br> to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring <br>storage</br> Migration: When <br>storage</br> has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the <br>storage</br> to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the <br>storage</br> system the requirement to switch to synchronous replication, the <br>storage</br> system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the <br>storage</br> operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both <br>storage</br> and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for <br>storage</br> one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and <br>storage</br> state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of <br>storage</br> is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and <br>storage</br> is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and <br>storage</br> that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take <br>storage</br> snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, <br>storage</br> replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of <br>storage</br>, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to <br>storage</br> replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic <br>storage</br> replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based <br>storage</br>.",
                "USENIX Conference on File and <br>storage</br> Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on <br>storage</br> Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic <br>storage</br> replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Similarly, in a LAN environment, <br>storage</br> requirements are normally met via either network attached <br>storage</br> (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Our design makes use of existing server virtualization technologies and propose network and <br>storage</br> mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk <br>storage</br> system.",
                "Finally, most applications require disk <br>storage</br> for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications."
            ],
            "translated_annotated_samples": [
                "Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de <br>almacenamiento</br> inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos.",
                "Del mismo modo, en un entorno de red de área local (LAN), los requisitos de <br>almacenamiento</br> normalmente se cumplen a través de <br>almacenamiento</br> conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento.",
                "Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y <br>almacenamiento</br> para facilitar la migración a través de una WAN.",
                "La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de <br>almacenamiento</br> de discos.",
                "Finalmente, la mayoría de las aplicaciones requieren <br>almacenamiento</br> en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de <br>almacenamiento</br> inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de <br>almacenamiento</br> normalmente se cumplen a través de <br>almacenamiento</br> conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y <br>almacenamiento</br> para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de <br>almacenamiento</br> de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren <br>almacenamiento</br> en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "voice-over-ip": {
            "translated_key": "voz sobre IP",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a <br>voice-over-ip</br> (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "This might for example be the case with a network element such as a <br>voice-over-ip</br> (VoIP) gateway."
            ],
            "translated_annotated_samples": [
                "Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de <br>voz sobre IP</br> (VoIP)."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de <br>voz sobre IP</br> (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y soporte de red. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. CONCLUSIÓN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos. Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie. Ursa minor: almacenamiento basado en clústeres versátil. Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates. Routerfarm: Hacia un borde de red dinámico y manejable. Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi. Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso. Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo. Registro de mensajes: pesimista, optimista y causal. En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236. IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield. Xen y el arte de la virtualización. En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A. Brown y D. A. Patterson. Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson. Snapmirror y snaprestore: Avances en la tecnología de instantáneas. Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel. Migración en vivo de máquinas virtuales. En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal. Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase. Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma. En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes. Seneca: Duplicación remota realizada correctamente. Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan. Internet se suspende y se reanuda. En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe. El caso para la replicación remota consciente de la semántica. En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins. Migración rápida y transparente para máquinas virtuales. En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel. Monitores de máquinas virtuales: Tecnología actual y tendencias futuras. Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes. Patrones de acceso a disco en Unix. Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen. Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios. En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum. Optimizando la migración de computadoras virtuales. En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda. Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución. En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec. Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang. Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif. Estrategias de caja negra y caja gris para la migración de máquinas virtuales. En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "voip": {
            "translated_key": "VoIP",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial databases, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (<br>voip</br>) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a <br>voip</br> server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like databases do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "This might for example be the case with a network element such as a voice-over-IP (<br>voip</br>) gateway.",
                "In a <br>voip</br> server, for instance, session-based information can be mirrored without mirroring the data flowing through each session."
            ],
            "translated_annotated_samples": [
                "Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de <br>voz sobre IP</br> (VoIP).",
                "En un servidor de <br>VoIP</br>, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como bases de datos financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de <br>voz sobre IP</br> (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de <br>VoIP</br>, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las bases de datos, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y soporte de red. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. CONCLUSIÓN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos. Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie. Ursa minor: almacenamiento basado en clústeres versátil. Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates. Routerfarm: Hacia un borde de red dinámico y manejable. Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi. Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso. Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo. Registro de mensajes: pesimista, optimista y causal. En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236. IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield. Xen y el arte de la virtualización. En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A. Brown y D. A. Patterson. Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson. Snapmirror y snaprestore: Avances en la tecnología de instantáneas. Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel. Migración en vivo de máquinas virtuales. En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal. Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase. Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma. En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes. Seneca: Duplicación remota realizada correctamente. Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan. Internet se suspende y se reanuda. En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe. El caso para la replicación remota consciente de la semántica. En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins. Migración rápida y transparente para máquinas virtuales. En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel. Monitores de máquinas virtuales: Tecnología actual y tendencias futuras. Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes. Patrones de acceso a disco en Unix. Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen. Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios. En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum. Optimizando la migración de computadoras virtuales. En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda. Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución. En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec. Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang. Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif. Estrategias de caja negra y caja gris para la migración de máquinas virtuales. En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267 ",
            "candidates": [],
            "error": [
                [
                    "voz sobre IP",
                    "VoIP"
                ]
            ]
        },
        "database": {
            "translated_key": "bases de datos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Live Data Center Migration across WANs: A Robust Cooperative Context Aware Approach K.K.",
                "Ramakrishnan, Prashant Shenoy   , Jacobus Van der Merwe AT&T Labs-Research /   University of Massachusetts ABSTRACT A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocate a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We specifically seek to achieve high availability of data center services in the face of both planned and unanticipated outages of data center facilities.",
                "We make use of server virtualization technologies to enable the replication and migration of server functions.",
                "We propose new network functions to enable server migration and replication across wide area networks (e.g., the Internet), and finally show the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems General Terms Design, Reliability 1.",
                "INTRODUCTION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "These concerns are exacerbated by the increased use of the Internet for mission critical business and real-time entertainment applications.",
                "A relatively minor outage can disrupt and inconvenience a large number of users.",
                "Today these services are almost exclusively hosted in data centers.",
                "Recent advances in server virtualization technologies [8, 14, 22] allow for the live migration of services within a local area network (LAN) environment.",
                "In the LAN environment, these technologies have proven to be a very effective tool to enable data center management in a non-disruptive fashion.",
                "Not only can it support planned maintenance events [8], but it can also be used in a more dynamic fashion to automatically balance load between the physical servers in a data center [22].",
                "When using these technologies in a LAN environment, services execute in a virtual server, and the migration services provided by the underlying virtualization framework allows for a virtual server to be migrated from one physical server to another, without any significant downtime for the service or application.",
                "In particular, since the virtual server retains the same network address as before, any ongoing network level interactions are not disrupted.",
                "Similarly, in a LAN environment, storage requirements are normally met via either network attached storage (NAS) or via a storage area network (SAN) which is still reachable from the new physical server location to allow for continued storage access.",
                "Unfortunately in a wide area environment (WAN), live server migration is not as easily achievable for two reasons: First, live migration requires the virtual server to maintain the same network address so that from a network connectivity viewpoint the migrated server is indistinguishable from the original.",
                "While this is fairly easily achieved in a shared LAN environment, no current mechanisms are available to efficiently achieve the same feat in a WAN environment.",
                "Second, while fairly sophisticated remote replication mechanisms have been developed in the context of disaster recovery [20, 7, 11], these mechanisms are ill suited to live data center migration, because in general the available technologies are unaware of application/service level semantics.",
                "In this paper we outline a design for live service migration across WANs.",
                "Our design makes use of existing server virtualization technologies and propose network and storage mechanisms to facilitate migration across a WAN.",
                "The essence of our approach is cooperative, context aware migration, where a migration management system orchestrates the data center migration across all three subsystems involved, namely the server platforms, the wide area network and the disk storage system.",
                "While conceptually similar in nature to the LAN based work described above, using migration technologies across a wide area network presents unique challenges and has to our knowledge not been achieved.",
                "Our main contribution is the design of a framework that will allow the migration across a WAN of all subsystems involved with enabling data center services.",
                "We describe new mechanisms as well as extensions to existing technologies to enable this and outline the cooperative, context aware functionality needed across the different subsystems to enable this. 262 2.",
                "LIVE DATA CENTER MIGRATION ACROSS WANS Three essential subsystems are involved with hosting services in a data center: First, the servers host the application or service logic.",
                "Second, services are normally hosted in a data center to provide shared access through a network, either the Internet or virtual private networks (VPNs).",
                "Finally, most applications require disk storage for storing data and the amount of disk space and the frequency of access varies greatly between different services/applications.",
                "Disruptions, failures, or in general, outages of any kind of any of these components will cause service disruption.",
                "For this reason, prior work and current practices have addressed the robustness of individual components.",
                "For example, data centers typically have multiple network connections and redundant LAN devices to ensure redundancy at the networking level.",
                "Similarly, physical servers are being designed with redundant hot-swappable components (disks, processor blades, power supplies etc).",
                "Finally, redundancy at the storage level can be provided through sophisticated data mirroring technologies.",
                "The focus of our work, however, is on the case where such local redundancy mechanisms are not sufficient.",
                "Specifically, we are interested in providing service availability when the data center as a whole becomes unavailable, for example because of data center wide maintenance operations, or because of catastrophic events.",
                "As such, our basic approach is to migrate services between data centers across the wide are network (WAN).",
                "By necessity, moving or migrating services from one data center to another needs to consider all three of these components.",
                "Historically, such migration has been disruptive in nature, requiring downtime of the actual services involved, or requiring heavy weight replication techniques.",
                "In the latter case concurrently running replicas of a service can be made available thus allowing a subset of the service to be migrated or maintained without impacting the service as a whole.",
                "We argue that these existing mechanisms are inadequate to meet the needs of network-based services, including real-time services, in terms of continuous availability and operation.",
                "Instead, we advocate an approach where server, network and storage subsystems cooperate and coordinate actions, in a manner that is cognizant of the service context in order to realize seamless migration across wide area networks.",
                "In this section we briefly describe the technical building blocks that would enable our approach.",
                "As outlined below, some of these building blocks exist, or exist in part, while in other cases we use the desire for high availability of services as the driver for the changes we are proposing. 2.1 Live Virtual Server Migration The main enabler for our approach is the live server migration capabilities that have been developed in the context of server virtualization in recent years [5, 8].",
                "In this approach an entire running operating system (including any active applications) executing as a virtual server is being transfered from one physical machine to another.",
                "Since the virtual server is migrated in its entirety, both application and kernel level state gets migrated, including any state associated with ongoing network connections.",
                "Assuming that network level reachability to the virtual servers network addresses are maintained after the migration, the implication is that applications executing in the virtual server experience very little downtime (in the order of tens to hundreds of milliseconds) and ongoing network connections remain intact.",
                "In order to maintain network level reachability, the IP address(es) associated with the virtual server has to be reachable at the physical server where the virtual server is migrated to.",
                "In a LAN environment this is achieved either by issuing an unsolicited ARP reply to establish the binding between the new MAC address and the IP address, or by relying on layer-two technologies to allow the virtual server to reuse its (old) MAC address [8].",
                "Because of the difficulty of moving network level (i.e., IP addresses) in a routed non-LAN environment, use of live server migration as a management tool has been limited to the LAN environments [22].",
                "However, virtual server migration across the wide area will also be an attractive tool, specifically to deal with outages, and therefore propose networking mechanisms to enable this.",
                "If disk storage needs are being met with network attached storage (NAS), the storage becomes just another network based application and can therefore be addressed in the same way with LAN based migration [8].",
                "Modern virtualization environments also include support for other forms of (local) storage including storage area networks (SANs) [23].",
                "However, since we propose to use WAN server migration as a means to deal with complete data center outages, these mechanisms are inadequate for our purposes and below we propose extension to remote replication technologies which can work in concert with server migration to minimize service downtime. 2.2 Networking Requirements From the discussion above, a key requirement for live server migration across a WAN is the ability to have the IP address(es) of the virtual server be reachable at the new data center location immediately after the migration has completed.",
                "This presents a significant challenge for a number of reasons.",
                "First, despite decades of work in this area, IP address mobility remains an unresolved problem that is typically only addressed at manual configuration time scales.",
                "The second challenge comes from the fact that current routing protocols are well known to have convergence issues which is ill suited to the time constraints imposed by live migration.",
                "Third, in todays WAN networking environment connectivity changes are typically initiated, and controlled, by network operators or network management systems.",
                "Again this is poorly suited to WAN server migration where it is essential that the migration software, which is closely monitoring the status of the server migration process, initiate this change at the appropriate time.",
                "Our approach to addressing the networking requirements for live WAN migration builds on the observations that not all networking changes in this approach are time critical and further that instantaneous changes are best achieved in a localized manner.",
                "Specifically, in our solution, described in detail in Section 3, we allow the migration software to initiate the necessary networking changes as soon as the need for migration has been identified.",
                "We make use of tunneling technologies during this initial phase to preemptively establish connectivity between the data centers involved.",
                "Once server migration is complete, the migration software initiates a local change to direct traffic towards the new data center via the tunnel.",
                "Slower time scale network changes then phase out this local network connectivity change for a more optimal network wide path to the new data center. 2.3 Storage Replication Requirements Data availability is typically addressed by replicating business data on a local/primary storage system, to some remote location from where it can be accessed.",
                "From a business/usability point of view, such remote replication is driven by two metrics [9].",
                "First 263 is the recovery-point-objective which is the consistent data point to which data can be restored after a disaster.",
                "Second is the recoverytime-objective which is the time it takes to recover to that consistent data point after a disaster [13].",
                "Remote replication can be broadly classified into the following two categories: ¡ Synchronous replication: every data block written to a local storage system is replicated to the remote location before the local write operation returns. ¡ Asynchronous replication: in this case the local and remote storage systems are allowed to diverge.",
                "The amount of divergence between the local and remote copies is typically bounded by either a certain amount of data, or by a certain amount of time.",
                "Synchronous replication is normally recommended for applications, such as financial <br>database</br>s, where consistency between local and remote storage systems is a high priority.",
                "However, these desirable properties come at a price.",
                "First, because every data block needs to be replicated remotely, synchronous replication systems can not benefit from any local write coalescing of data if the same data blocks are written repeatedly [16].",
                "Second, because data have to be copied to the remote location before the write operation returns, synchronous replication has a direct performance impact on the application, since both lower throughput and increased latency of the path between the primary and the remote systems are reflected in the time it takes for the local disk write to complete.",
                "An alternative is to use asynchronous replication.",
                "However, because the local and remote systems are allowed to diverge, asynchronous replication always involves some data loss in the event of a failure of the primary system.",
                "But, because write operations can be batched and pipelined, asynchronous replication systems can move data across the network in a much more efficient manner than synchronous replication systems.",
                "For WAN live server migration we seek a more flexible replication system where the mode can be dictated by the migration semantics.",
                "Specifically, to support live server migration we propose a remote replication system where the initial transfer of data between the data centers is performed via asynchronous replication to benefit from the efficiency of that mode of operation.",
                "When the bulk of the data have been transfered in this manner, replication switches to synchronous replication in anticipation of the completion of the server migration step.",
                "The final server migration step triggers a simultaneous switch-over to the storage system at the new data center.",
                "In this manner, when the virtual server starts executing in the new data center, storage requirements can be locally met. 3.",
                "WAN MIGRATION SCENARIOS In this section we illustrate how our cooperative, context aware approach can combine the technical building blocks described in the previous section to realize live server migration across a wide area network.",
                "We demonstrate how the coordination of server virtualization and migration technologies, the storage replication subsystem and the network can achieve live migration of the entire data center across the WAN.",
                "We utilize different scenarios to demonstrate our approach.",
                "In Section 3.1 we outline how our approach can be used to achieve the safe live migration of a data center when planned maintenance events are handled.",
                "In Section 3.2 we show the use of live server migration to mitigate the effects of unplanned outages or failures. 3.1 Maintenance Outages We deal with maintenance outages in two parts.",
                "First, we consider the case where the service has no (or very limited) storage requirements.",
                "This might for example be the case with a network element such as a voice-over-IP (VoIP) gateway.",
                "Second, we deal with the more general case where the service also requires the migration of data storage to the new data center.",
                "Without Requiring Storage to be Migrated: Without storage to be replicated, the primary components that we need to coordinate are the server migration and network mobility.",
                "Figure 1 shows the environment where the application running in a virtual server VS has to be moved from a physical server in data center A to a physical server in data center B.",
                "Prior to the maintenance event, the coordinating migration management system (MMS) would signal to both the server management system as well as the network that a migration is imminent.",
                "The server management system would initiate the migration of the virtual server from physical server a (¢¤£¦¥ ) to physical server b (¢¤£¦§ ).",
                "After an initial bulk state transfer as preparation for migration, the server management system will mirror any state changes between the two virtual servers.",
                "Similarly, for the network part, based on the signal received from the MMS, the service provider edge (¢©¨ ) router will initiate a number of steps to prepare for the migration.",
                "Specifically, as shown in Figure 1(b), the migration system will cause the network to create a tunnel between ¢©¨\u0011\u0010 and ¢©¨\u0013\u0012 which will be used subsequently to transfer data destined to VS to data center B.",
                "When the MMS determines a convenient point to quiesce the VS, another signal is sent to both the server management system and the network.",
                "For the server management system, this signal will indicate the final migration of the VS from data center A to data center B, i.e., after this the VS will become active in data center B.",
                "For the network, this second signal enables the network data path to switchover locally at ¢©¨©¥ to the remote data center.",
                "Specifically, from this point in time, any traffic destined for the virtual server address that arrives at ¢©¨©¥ will be switched onto the tunnel to ¢©¨©§ for delivery to data center B.",
                "Note that at this point, from a server perspective the migration is complete as the VS is now active in data center B.",
                "However, traffic is sub-optimally flowing first to ¢©¨©¥ and then across the tunnel to ¢©¨¤§ .",
                "To rectify this situation another networking step is involved.",
                "Specifically, ¢©¨©§ starts to advertise a more preferred route to reach VS, than the route currently being advertised by ¢©¨¤¥ .",
                "In this manner, as ingress PEs to the network (¢©¨¤\u0014 to ¢©¨¤\u0015 in Figure 1) receive the more preferred route, traffic will start to flow to ¢©¨©§ directly and the tunnel between ¢©¨©¥ and ¢©¨©§ can be torn down leading to the final state shown in Figure 1(c).",
                "Requiring Storage Migration: When storage has to also be replicated, it is critical that we achieve the right balance between performance (impact on the application) and the recovery point or data loss when the switchover occurs to the remote data center.",
                "To achieve this, we allow the storage to be replicated asynchronously, prior to any initiation of the maintenance event, or, assuming the amount of data to be transfered is relatively small, asynchronous replication can be started in anticipation of a migration that is expected to happen shortly.",
                "Asynchronous replication during this initial phase allows for the application to see no performance impact.",
                "However, when the maintenance event is imminent, the MMS would signal to the replication system to switch from asynchronous replication to synchronous replication to ensure that there is no loss of data during migration.",
                "When data is being replicated synchronously, there will be a performance impact on the application. 264 Figure 1: Live server migration across a WAN This requires us to keep the exposure to the amount of time we replicate on a synchronous basis to a minimum.",
                "When the MMS signals to the storage system the requirement to switch to synchronous replication, the storage system completes all the pending asynchronous operations and then proceeds to perform all the subsequent writes by synchronously replicating it to the remote data center.",
                "Thus, between the server migration and synchronous replication, both the application state and all the storage operations are mirrored at the two environments in the two data centers.",
                "When all the pending write operations are copied over, then as in the previous case, we quiesce the application and the network is signaled to switch traffic over to the remote data center.",
                "From this point on, both storage and server migration operations are complete and activated in data center B.",
                "As above, the network state still needs to be updated to ensure optimal data flow directly to data center B.",
                "Note that while we have described the live server migration process as involving the service provider for the networking part, it is possible for a data center provider to perform a similar set of functions without involving the service provider.",
                "Specifically, by creating a tunnel between the customer edge (CE) routers in the data center, and performing local switching on the appropriate CE, rather than on the PE, the data center provider can realize the same functionality. 3.2 Unplanned Outages We propose to also use cooperative, context aware migration to deal with unplanned data center outages.",
                "There are multiple considerations that go into managing data center operations to plan and overcome failures through migration.",
                "Some of these are: (1) amount of overhead under normal operation to overcome anticipated failures; (2) amount of data loss affordable (recovery point objective - RPO); (3) amount of state that has to be migrated; and (4) time available from anticipated failure to occurrence of event.",
                "At the one extreme, one might incur the overhead of completely mirroring the application at the remote site.",
                "This has the consequence of both incurring processing and network overhead under normal operation as well as impacting application performance (latency and throughput) throughout.",
                "The other extreme is to only ensure data recovery and to start a new copy of the application at the remote site after an outage.",
                "In this case, application memory state such as ongoing sessions are lost, but data stored on disk is replicated and available in a consistent state.",
                "Neither this hot standby nor the cold standby approach described are desirable due to the overhead or the loss of application memory state.",
                "An intermediate approach is to recover control and essential state of the application, in addition to data stored on disk, to further minimize disruptions to users.",
                "A spectrum of approaches are possible.",
                "In a VoIP server, for instance, session-based information can be mirrored without mirroring the data flowing through each session.",
                "More generally, this points to the need to checkpoint some application state in addition to mirroring data on disk.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like <br>database</br>s do and then copying it to the remote site.",
                "Of course, this has the consequence that the application can be restarted remotely at the checkpoint boundary only.",
                "Similarly, for storage one may use asynchronous replication with a periodic snapshot ensuring all writes are up-to-date at the remote site at the time of checkpointing.",
                "Some data loss may occur upon an unanticipated, catastrophic failure, but the recovery point may be fairly small, depending on the frequency of checkpointing application and storage state.",
                "Coordination between 265 the checkpointing of the application state and the snapshot of storage is key to successful migration while meeting the desired RPOs.",
                "Incremental checkpointing of application and storage is key to efficiency, and we see existing techniques to achieve this [4, 3, 11].",
                "For instance, rather than full application mirroring, a virtualized replica can be maintained as a warm standby-in dormant or hibernating state-enabling a quick switch-over to the previously checkpointed state.",
                "To make the switch-over seamless, in addition to replicating data and recovering state, network support is needed.",
                "Specifically, on detecting the unavailability of the primary site, the secondary site is made active, and the same mechanism described in Section 3.1 is used to switch traffic over to reach the secondary site via the pre-established tunnel.",
                "Note that for simplicity of exposition we assume here that the PE that performs the local switch over is not affected by the failure.",
                "The approach can however, easily be extended to make use of a switchover at a router deeper in the network.",
                "The amount of state and storage that has to be migrated may vary widely from application to application.",
                "There may be many situations where, in principle, the server can be stateless.",
                "For example, a SIP proxy server may not have any persistent state and the communication between the clients and the proxy server may be using UDP.",
                "In such a case, the primary activity to be performed is in the network to move the communication over to the new data center site.",
                "Little or no overhead is incurred under normal operation to enable the migration to a new data center.",
                "Failure recovery involves no data loss and we can deal with near instantaneous, catastrophic failures.",
                "As more and more state is involved with the server, more overhead is incurred to checkpoint application state and potentially to take storage snapshots, either periodically or upon application prompting.",
                "It also means that the RPO is a function of the interval between checkpoints, when we have to deal with instantaneous failures.",
                "The more advanced information we have of an impending failure, the more effective we can be in having the state migrated over to the new data center, so that we can still have a tighter RPO when operations are resumed at the new site. 4.",
                "RELATED WORK Prior work on this topic falls into several categories: virtual machine migration, storage replication and network support.",
                "At the core of our technique is the ability of encapsulate applications within virtual machines that can be migrated without application downtimes [15].",
                "Most virtual machine software, such as Xen [8] and VMWare [14] support live migration of VMs that involve extremely short downtimes ranging from tens of milliseconds to a second; details of Xens live migration techniques are discussed in [8].",
                "As indicated earlier, these techniques assume that migration is being done on a LAN.",
                "VM migration has also been studied in the Shirako system [10] and for grid environments [17, 19].",
                "Current virtual machine software support a suspend and resume feature that can be used to support WAN migration, but with downtimes [18, 12].",
                "Recently live WAN migration using IP tunnels was demonstrated in [21], where an IP tunnel is set up from the source to destination server to transparently forward packets to and from the application; we advocate an alternate approach that assumes edge router support.",
                "In the context of storage, there exist numerous commercial products that perform replication, such as IBM Extended Remote Copy, HP Continuous Access XP, and EMC RepliStor.",
                "An excellent description of these and others, as well as a detailed taxonomy of the different approaches for replication can be found in [11].",
                "The Ursa Minor system argues that no single fault model is optimal for all applications and proposed supporting data-type specific selections of fault models and encoding schemes for replication [1].",
                "Recently, we proposed the notion of semantic-aware replication [13] where the system supports both synchronous and asynchronous replication concurrently and use signals from the file system to determine whether to replicate a particular write synchronously and asynchronously.",
                "In the context of network support, our work is related to the RouterFarm approach [2], which makes use of orchestrated network changes to realize near hitless maintenance on provider edge routers.",
                "In addition to being in a different application area, our approach differs from the RouterFarm work in two regards.",
                "First, we propose to have the required network changes be triggered by functionality outside of the network (as opposed to network management functions inside the network).",
                "Second, due to the stringent timing requirements of live migration, we expect that our approach would require new router functionality (as opposed to being realizable via the existing configuration interfaces).",
                "Finally, the recovery oriented computing (ROC) work emphasizes recovery from failures rather than failure avoidance [6].",
                "In a similar spirit to ROC, we advocate using mechanisms from live VM migration to storage replication to support planned and unplanned outages in data centers (rather than full replication to mask such failures). 5.",
                "CONCLUSION A significant concern for Internet-based service providers is the continued operation and availability of services in the face of outages, whether planned or unplanned.",
                "In this paper we advocated a cooperative, context-aware approach to data center migration across WANs to deal with outages in a non-disruptive manner.",
                "We sought to achieve high availability of data center services in the face of both planned and incidental outages of data center facilities.",
                "We advocated using server virtualization technologies to enable the replication and migration of server functions.",
                "We proposed new network functions to enable server migration and replication across wide area networks (such as the Internet or a geographically distributed virtual private network), and finally showed the utility of intelligent and dynamic storage replication technology to ensure applications have access to data in the face of outages with very tight recovery point objectives. 6.",
                "REFERENCES [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs, and J. J. Wylie.",
                "Ursa minor: versatile cluster-based storage.",
                "USENIX Conference on File and Storage Technologies, December 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe, and Jennifer Yates.",
                "Routerfarm: Towards a dynamic, manageable network edge.",
                "SIGCOMM Workshop on Internet Network Management (INM), September 2006. [3] L. Alvisi.",
                "Understanding the Message Logging Paradigm for Masking Process Crashes.",
                "PhD thesis, Cornell, January 1996. [4] L. Alvisi and K. Marzullo.",
                "Message logging: Pessimistic, optimistic, and causal.",
                "In Proceedings of the 15th International Conference on Distributed Computing Systems, pages 229-236.",
                "IEEE Computer Society, June 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt, and Andrew Warfield.",
                "Xen and the art of virtualization.",
                "In the Proceedings of the ACM Symposium on Operating Systems Principles (SOSP), October 2003. [6] A.",
                "Brown and D. A. Patterson.",
                "Embracing failure: A case for recovery-oriented computing (roc). 2001 High Performance Transaction Processing Symposium, October 2001. [7] K. Brown, J. Katcher, R. Walters, and A. Watson.",
                "Snapmirror and snaprestore: Advances in snapshot technology.",
                "Network Appliance Technical Report TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt, and A. Warfiel.",
                "Live migration of virtual machines.",
                "In Proceedings of NSDI, May 2005. [9] Disaster Recovery Journal.",
                "Business continuity glossary. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi, and Jeff Chase.",
                "Virtual machine hosting for networked clusters: Building the foundations for autonomic orchestration.",
                "In In the First International Workshop on Virtualization Technology in Distributed Computing (VTDC), November 2006. [11] M. Ji, A. Veitch, and J. Wilkes.",
                "Seneca: Remote mirroring done write.",
                "USENIX 2003 Annual Technical Conference, June 2003. [12] M. Kozuch and M. Satyanarayanan.",
                "Internet suspend and resume.",
                "In Proceedings of the Fourth IEEE Workshop on Mobile Computing Systems and Applications, Calicoon, NY, June 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy, and Jacobus Van der Merwe.",
                "The case for semantic aware remote replication.",
                "In Proc. 2nd International Workshop on Storage Security and Survivability (StorageSS 2006), Alexandria, VA, October 2006. [14] Michael Nelson, Beng-Hong Lim, and Greg Hutchins.",
                "Fast Transparent Migration for Virtual Machines.",
                "In USENIX Annual Technical Conference, 2005. [15] Mendel Rosenblum and Tal Garfinkel.",
                "Virtual machine monitors: Current technology and future trends.",
                "Computer, 38(5):39-47, 2005. [16] C. Ruemmler and J. Wilkes.",
                "Unix disk access patterns.",
                "Proceedings of Winter 1993 USENIX, Jan 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell, and Sebastien Goasguen.",
                "Autonomic Live Adaptation of Virtual Computational Environments in a Multi-Domain Infrastructure.",
                "In IEEE International Conference on Autonomic Computing (ICAC), June 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam, and Mendel Rosenblum.",
                "Optimizing the migration of virtual computers.",
                "In Proceedings of the 5th Symposium on Operating Systems Design and Implementation, December 2002. [19] A. Sundararaj, A. Gupta, and P. Dinda.",
                "Increasing Application Performance in Virtual Environments through Run-time Inference and Adaptation.",
                "In Fourteenth International Symposium on High Performance Distributed Computing (HPDC), July 2005. [20] Symantec Corporation.",
                "Veritas Volume Replicator Administrators Guide. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf , 5.0 edition, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath, and P. Wang.",
                "Seamless live migration of virtual machines over the man/wan.",
                "Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, and M. Yousif.",
                "Black-box and gray-box strategies for virtual machine migration.",
                "In Proceedings of the Usenix Symposium on Networked System Design and Implementation (NSDI), Cambridge, MA, April 2007. [23] A xen way to iscsi virtualization? http://www.internetnews.com/dev-news/article.php/3669246, April 2007. 267"
            ],
            "original_annotated_samples": [
                "Synchronous replication is normally recommended for applications, such as financial <br>database</br>s, where consistency between local and remote storage systems is a high priority.",
                "Checkpointing application state involves storing application state either periodically or in an application-aware manner like <br>database</br>s do and then copying it to the remote site."
            ],
            "translated_annotated_samples": [
                "La replicación síncrona suele recomendarse para aplicaciones, como <br>bases de datos</br> financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad.",
                "El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las <br>bases de datos</br>, y luego copiarlo al sitio remoto."
            ],
            "translated_text": "Migración en vivo de centros de datos a través de WANs: Un enfoque robusto cooperativo y consciente del contexto K.K. Ramakrishnan, Prashant Shenoy, Jacobus Van der Merwe AT&T Labs-Research / Universidad de Massachusetts RESUMEN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos específicamente lograr una alta disponibilidad de los servicios del centro de datos frente a cortes planificados e imprevistos de las instalaciones del centro de datos. Hacemos uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Proponemos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (por ejemplo, Internet), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos Términos Generales Diseño, Confiabilidad 1. Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. Estas preocupaciones se ven agravadas por el aumento del uso de Internet para aplicaciones comerciales críticas para la misión y entretenimiento en tiempo real. Un corte de energía relativamente menor puede interrumpir e incomodar a un gran número de usuarios. Hoy en día, estos servicios se alojan casi exclusivamente en centros de datos. Los avances recientes en tecnologías de virtualización de servidores [8, 14, 22] permiten la migración en vivo de servicios dentro de un entorno de red de área local (LAN). En el entorno de LAN, estas tecnologías han demostrado ser una herramienta muy efectiva para habilitar la gestión del centro de datos de manera no disruptiva. No solo puede soportar eventos de mantenimiento planificados [8], sino que también puede ser utilizado de manera más dinámica para equilibrar automáticamente la carga entre los servidores físicos en un centro de datos [22]. Cuando se utilizan estas tecnologías en un entorno de LAN, los servicios se ejecutan en un servidor virtual, y los servicios de migración proporcionados por el marco de virtualización subyacente permiten que un servidor virtual se migre de un servidor físico a otro, sin un tiempo de inactividad significativo para el servicio o la aplicación. En particular, dado que el servidor virtual conserva la misma dirección de red que antes, no se interrumpen las interacciones a nivel de red en curso. Del mismo modo, en un entorno de red de área local (LAN), los requisitos de almacenamiento normalmente se cumplen a través de almacenamiento conectado a la red (NAS) o a través de una red de área de almacenamiento (SAN) que sigue siendo accesible desde la nueva ubicación del servidor físico para permitir el acceso continuo al almacenamiento. Desafortunadamente, en un entorno de área amplia (WAN), la migración de servidores en vivo no es tan fácil de lograr por dos razones: en primer lugar, la migración en vivo requiere que el servidor virtual mantenga la misma dirección de red para que, desde el punto de vista de la conectividad de red, el servidor migrado sea indistinguible del original. Si bien esto se logra fácilmente en un entorno de LAN compartida, no existen mecanismos actuales disponibles para lograr eficientemente la misma hazaña en un entorno de WAN. Segundo, si bien se han desarrollado mecanismos de replicación remota bastante sofisticados en el contexto de la recuperación ante desastres [20, 7, 11], estos mecanismos no son adecuados para la migración en vivo de centros de datos, ya que en general las tecnologías disponibles no son conscientes de la semántica a nivel de aplicación/servicio. En este documento esbozamos un diseño para la migración de servicios en vivo a través de WANs. Nuestro diseño hace uso de tecnologías existentes de virtualización de servidores y propone mecanismos de red y almacenamiento para facilitar la migración a través de una WAN. La esencia de nuestro enfoque es la migración cooperativa y consciente del contexto, donde un sistema de gestión de migración orquesta la migración del centro de datos en los tres subsistemas involucrados, a saber, las plataformas de servidores, la red de área amplia y el sistema de almacenamiento de discos. Si bien conceptualmente similar en naturaleza a la labor basada en LAN descrita anteriormente, el uso de tecnologías de migración a través de una red de área amplia presenta desafíos únicos y, hasta donde sabemos, no se ha logrado. Nuestra principal contribución es el diseño de un marco de trabajo que permitirá la migración a través de una WAN de todos los subsistemas involucrados en la habilitación de servicios de centro de datos. Describimos nuevos mecanismos, así como extensiones a las tecnologías existentes para permitir esto y delineamos la funcionalidad cooperativa y consciente del contexto necesaria en los diferentes subsistemas para habilitar esto. 262 2. MIGRACIÓN DE CENTRO DE DATOS EN VIVO A TRAVÉS DE REDES DE ÁREA AMPLIA Tres subsistemas esenciales están involucrados en los servicios de alojamiento en un centro de datos: En primer lugar, los servidores alojan la lógica de la aplicación o servicio. Segundo, los servicios suelen alojarse en un centro de datos para proporcionar acceso compartido a través de una red, ya sea Internet o redes privadas virtuales (VPN). Finalmente, la mayoría de las aplicaciones requieren almacenamiento en disco para guardar datos y la cantidad de espacio en disco y la frecuencia de acceso varían considerablemente entre diferentes servicios/aplicaciones. Las interrupciones, fallas o, en general, cortes de cualquier tipo de alguno de estos componentes causarán interrupción del servicio. Por esta razón, el trabajo previo y las prácticas actuales han abordado la robustez de los componentes individuales. Por ejemplo, los centros de datos suelen tener múltiples conexiones de red y dispositivos LAN redundantes para garantizar la redundancia a nivel de red. Del mismo modo, los servidores físicos están siendo diseñados con componentes redundantes intercambiables en caliente (discos, cuchillas de procesador, fuentes de alimentación, etc). Finalmente, la redundancia a nivel de almacenamiento puede ser proporcionada a través de tecnologías sofisticadas de espejo de datos. El enfoque de nuestro trabajo, sin embargo, se centra en el caso en el que dichos mecanismos de redundancia local no son suficientes. Específicamente, estamos interesados en garantizar la disponibilidad del servicio cuando el centro de datos en su totalidad no esté disponible, por ejemplo, debido a operaciones de mantenimiento en todo el centro de datos o a eventos catastróficos. Por lo tanto, nuestro enfoque básico es migrar servicios entre centros de datos a través de la red de área amplia (WAN). Por necesidad, al trasladar o migrar servicios de un centro de datos a otro es necesario considerar los tres componentes. Históricamente, dicha migración ha sido disruptiva en su naturaleza, requiriendo tiempo de inactividad de los servicios involucrados, o requiriendo técnicas de replicación de gran peso. En el último caso, las réplicas en funcionamiento simultáneo de un servicio pueden estar disponibles, lo que permite migrar o mantener un subconjunto del servicio sin afectar al servicio en su totalidad. Sostenemos que estos mecanismos existentes son insuficientes para satisfacer las necesidades de los servicios basados en red, incluidos los servicios en tiempo real, en términos de disponibilidad y funcionamiento continuo. En cambio, abogamos por un enfoque en el que los subsistemas de servidor, red y almacenamiento cooperen y coordinen acciones, de una manera que sea consciente del contexto del servicio para lograr una migración fluida a través de redes de área amplia. En esta sección describimos brevemente los bloques de construcción técnica que permitirían nuestra aproximación. Como se describe a continuación, algunos de estos bloques de construcción existen, o existen en parte, mientras que en otros casos utilizamos el deseo de alta disponibilidad de servicios como el impulsor de los cambios que estamos proponiendo. 2.1 Migración de Servidores Virtuales en Vivo El principal facilitador de nuestro enfoque son las capacidades de migración de servidores en vivo que se han desarrollado en el contexto de la virtualización de servidores en los últimos años [5, 8]. En este enfoque, un sistema operativo en ejecución completo (incluidas todas las aplicaciones activas) que se ejecuta como un servidor virtual se está transfiriendo de una máquina física a otra. Dado que el servidor virtual se migra en su totalidad, se migra tanto el estado de la aplicación como el del núcleo, incluido cualquier estado asociado con las conexiones de red en curso. Suponiendo que la accesibilidad a nivel de red a las direcciones de red de los servidores virtuales se mantenga después de la migración, la implicación es que las aplicaciones que se ejecutan en el servidor virtual experimentan muy poco tiempo de inactividad (del orden de decenas a cientos de milisegundos) y las conexiones de red en curso permanecen intactas. Para mantener la accesibilidad a nivel de red, la(s) dirección(es) IP asociada(s) con el servidor virtual debe(n) ser alcanzable(s) en el servidor físico al que se migra el servidor virtual. En un entorno de LAN, esto se logra ya sea emitiendo una respuesta ARP no solicitada para establecer la asociación entre la nueva dirección MAC y la dirección IP, o confiando en tecnologías de capa dos para permitir que el servidor virtual reutilice su dirección MAC (antigua). Debido a la dificultad de mover el nivel de red (es decir, direcciones IP) en un entorno enrutado no LAN, el uso de la migración de servidores en vivo como herramienta de gestión se ha limitado a los entornos LAN [22]. Sin embargo, la migración de servidores virtuales a través de áreas extensas también será una herramienta atractiva, específicamente para hacer frente a las interrupciones, y por lo tanto proponer mecanismos de redes para habilitar esto. Si las necesidades de almacenamiento en disco están siendo satisfechas con almacenamiento conectado a la red (NAS), el almacenamiento se convierte simplemente en otra aplicación basada en red y, por lo tanto, puede ser abordado de la misma manera con la migración basada en LAN. Los entornos de virtualización modernos también incluyen soporte para otras formas de almacenamiento (local) incluyendo redes de área de almacenamiento (SAN) [23]. Sin embargo, dado que proponemos utilizar la migración del servidor WAN como un medio para hacer frente a las interrupciones completas del centro de datos, estos mecanismos son inadecuados para nuestros propósitos y a continuación proponemos una extensión a las tecnologías de replicación remota que pueden trabajar en conjunto con la migración del servidor para minimizar el tiempo de inactividad del servicio. 2.2 Requisitos de red De la discusión anterior, un requisito clave para la migración del servidor en vivo a través de una WAN es la capacidad de que la(s) dirección(es) IP del servidor virtual sean accesibles en la nueva ubicación del centro de datos inmediatamente después de que la migración se haya completado. Esto presenta un desafío significativo por varias razones. Primero, a pesar de décadas de trabajo en esta área, la movilidad de direcciones IP sigue siendo un problema no resuelto que generalmente solo se aborda en escalas de tiempo de configuración manual. El segundo desafío proviene del hecho de que los protocolos de enrutamiento actuales son conocidos por tener problemas de convergencia que no son adecuados para las restricciones de tiempo impuestas por la migración en vivo. Tercero, en el entorno de redes WAN de hoy en día, los cambios de conectividad suelen ser iniciados y controlados por operadores de red o sistemas de gestión de red. Una vez más, esto no es adecuado para la migración del servidor WAN, donde es esencial que el software de migración, que está monitoreando de cerca el estado del proceso de migración del servidor, inicie este cambio en el momento adecuado. Nuestro enfoque para abordar los requisitos de red para la migración WAN en vivo se basa en las observaciones de que no todos los cambios de red en este enfoque son críticos en tiempo y además de que los cambios instantáneos se logran mejor de manera localizada. Específicamente, en nuestra solución, descrita en detalle en la Sección 3, permitimos que el software de migración inicie los cambios de red necesarios tan pronto como se haya identificado la necesidad de migración. Durante esta fase inicial, hacemos uso de tecnologías de túneles para establecer de manera preventiva la conectividad entre los centros de datos involucrados. Una vez que la migración del servidor esté completa, el software de migración inicia un cambio local para dirigir el tráfico hacia el nuevo centro de datos a través del túnel. Los cambios en la red a una escala de tiempo más lenta luego eliminan esta conexión de red local para un camino de red más óptimo hacia el nuevo centro de datos. 2.3 Requisitos de Replicación de Almacenamiento La disponibilidad de datos se aborda típicamente replicando los datos comerciales en un sistema de almacenamiento local/primario, a alguna ubicación remota desde donde se pueda acceder a ellos. Desde un punto de vista empresarial/usabilidad, dicha replicación remota está impulsada por dos métricas [9]. El primer 263 es el objetivo de punto de recuperación, que es el punto de datos consistente al que se pueden restaurar los datos después de un desastre. El segundo es el objetivo de tiempo de recuperación, que es el tiempo que se tarda en recuperarse hasta ese punto de datos consistente después de un desastre [13]. La replicación remota se puede clasificar ampliamente en las siguientes dos categorías: ¡ Replicación síncrona: cada bloque de datos escrito en un sistema de almacenamiento local se replica en la ubicación remota antes de que la operación de escritura local regrese. ¡ Replicación asíncrona: en este caso, se permite que los sistemas de almacenamiento local y remoto diverjan. La cantidad de divergencia entre las copias locales y remotas suele estar limitada por una cierta cantidad de datos o por una cierta cantidad de tiempo. La replicación síncrona suele recomendarse para aplicaciones, como <br>bases de datos</br> financieras, donde la consistencia entre los sistemas de almacenamiento local y remoto es una alta prioridad. Sin embargo, estas propiedades deseables tienen un costo. Primero, debido a que cada bloque de datos necesita ser replicado de forma remota, los sistemas de replicación síncrona no pueden beneficiarse de la consolidación de escrituras locales si los mismos bloques de datos son escritos repetidamente [16]. Segundo, debido a que los datos deben ser copiados a la ubicación remota antes de que la operación de escritura regrese, la replicación síncrona tiene un impacto directo en el rendimiento de la aplicación, ya que tanto la menor capacidad de transferencia como el aumento de la latencia del camino entre el sistema primario y el remoto se reflejan en el tiempo que tarda en completarse la escritura en el disco local. Una alternativa es utilizar la replicación asíncrona. Sin embargo, debido a que los sistemas locales y remotos pueden divergir, la replicación asíncrona siempre implica cierta pérdida de datos en caso de fallo del sistema principal. Sin embargo, debido a que las operaciones de escritura pueden ser agrupadas y encoladas, los sistemas de replicación asincrónica pueden mover datos a través de la red de una manera mucho más eficiente que los sistemas de replicación síncrona. Para la migración en vivo del servidor WAN, buscamos un sistema de replicación más flexible donde el modo pueda ser dictado por la semántica de la migración. Específicamente, para respaldar la migración de servidores en vivo, proponemos un sistema de replicación remota donde la transferencia inicial de datos entre los centros de datos se realiza a través de replicación asincrónica para beneficiarse de la eficiencia de ese modo de operación. Cuando la mayor parte de los datos hayan sido transferidos de esta manera, la replicación cambia a replicación síncrona en previsión de la finalización del paso de migración del servidor. El paso final de migración del servidor desencadena un cambio simultáneo al sistema de almacenamiento en el nuevo centro de datos. De esta manera, cuando el servidor virtual comienza a ejecutarse en el nuevo centro de datos, los requisitos de almacenamiento pueden ser satisfechos localmente. 3. En esta sección ilustramos cómo nuestro enfoque cooperativo y consciente del contexto puede combinar los bloques de construcción técnicos descritos en la sección anterior para realizar la migración en vivo de servidores a través de una red de área amplia. Demostramos cómo la coordinación de la virtualización de servidores y tecnologías de migración, el subsistema de replicación de almacenamiento y la red pueden lograr la migración en vivo de todo el centro de datos a través de la WAN. Utilizamos diferentes escenarios para demostrar nuestro enfoque. En la Sección 3.1 describimos cómo nuestro enfoque puede ser utilizado para lograr la migración segura en vivo de un centro de datos cuando se manejan eventos de mantenimiento planificados. En la Sección 3.2 mostramos el uso de la migración de servidores en vivo para mitigar los efectos de cortes o fallas no planificadas. 3.1 Cortes por mantenimiento Nos ocupamos de los cortes por mantenimiento en dos partes. Primero, consideramos el caso en el que el servicio no tiene (o tiene requisitos de almacenamiento muy limitados). Esto podría ser el caso, por ejemplo, con un elemento de red como una pasarela de voz sobre IP (VoIP). En segundo lugar, nos ocupamos del caso más general en el que el servicio también requiere la migración del almacenamiento de datos al nuevo centro de datos. Sin requerir que el almacenamiento sea migrado: Sin replicar el almacenamiento, los componentes principales que necesitamos coordinar son la migración del servidor y la movilidad de la red. La Figura 1 muestra el entorno donde la aplicación que se ejecuta en un servidor virtual VS debe ser trasladada de un servidor físico en el centro de datos A a un servidor físico en el centro de datos B. Antes del evento de mantenimiento, el sistema de gestión de migración coordinada (MMS) señalaría tanto al sistema de gestión de servidores como a la red que una migración es inminente. El sistema de gestión del servidor iniciaría la migración del servidor virtual desde el servidor físico a (¢¤£¦¥) al servidor físico b (¢¤£¦§). Después de una transferencia inicial del estado en bloque como preparación para la migración, el sistema de gestión del servidor reflejará cualquier cambio de estado entre los dos servidores virtuales. De manera similar, para la parte de la red, basándose en la señal recibida del MMS, el enrutador de borde del proveedor de servicios iniciará una serie de pasos para prepararse para la migración. Específicamente, como se muestra en la Figura 1(b), el sistema de migración hará que la red cree un túnel entre ¢©¨\u0011\u0010 y ¢©¨\u0013\u0012 que se utilizará posteriormente para transferir datos destinados a VS al centro de datos B. Cuando el MMS determina un punto conveniente para poner en pausa el VS, se envía otra señal tanto al sistema de gestión del servidor como a la red. Para el sistema de gestión del servidor, esta señal indicará la migración final del VS del centro de datos A al centro de datos B, es decir, después de esto el VS estará activo en el centro de datos B. Para la red, esta segunda señal permite que la ruta de datos de la red cambie localmente a la ubicación remota del centro de datos. Específicamente, a partir de este momento, cualquier tráfico destinado a la dirección del servidor virtual que llegue a ¢©¨©¥ será redirigido al túnel hacia ¢©¨©§ para su entrega en el centro de datos B. Ten en cuenta que en este punto, desde la perspectiva del servidor la migración está completa ya que la máquina virtual está ahora activa en el centro de datos B. Sin embargo, el tráfico fluye de manera subóptima primero hacia ¢©¨©¥ y luego a través del túnel hacia ¢©¨¤§. Para rectificar esta situación se requiere otro paso de networking. Específicamente, ¢©¨©§ comienza a anunciar una ruta más preferida para llegar a VS, que la ruta actualmente anunciada por ¢©¨¤¥. De esta manera, a medida que los PEs de ingreso a la red (de ¢©¨¤\u0014 a ¢©¨¤\u0015 en la Figura 1) reciben la ruta más preferida, el tráfico comenzará a fluir hacia ¢©¨©§ directamente y el túnel entre ¢©¨©¥ y ¢©¨©§ podrá ser desmantelado, lo que llevará al estado final mostrado en la Figura 1(c). Requerir migración de almacenamiento: Cuando el almacenamiento también debe ser replicado, es crítico que logremos el equilibrio adecuado entre el rendimiento (impacto en la aplicación) y el punto de recuperación o pérdida de datos cuando se produce el cambio al centro de datos remoto. Para lograr esto, permitimos que el almacenamiento se replique de forma asíncrona antes de cualquier inicio del evento de mantenimiento, o, asumiendo que la cantidad de datos a transferir es relativamente pequeña, la replicación asíncrona puede iniciarse en previsión de una migración que se espera que ocurra pronto. La replicación asíncrona durante esta fase inicial permite que la aplicación no experimente ningún impacto en el rendimiento. Sin embargo, cuando el evento de mantenimiento es inminente, el MMS enviaría una señal al sistema de replicación para cambiar de replicación asíncrona a replicación síncrona y garantizar que no haya pérdida de datos durante la migración. Cuando los datos se replican de forma síncrona, habrá un impacto en el rendimiento de la aplicación. Esto nos obliga a mantener al mínimo la exposición al tiempo que replicamos de forma síncrona. Cuando el MMS señala al sistema de almacenamiento la necesidad de cambiar a replicación síncrona, el sistema de almacenamiento completa todas las operaciones asincrónicas pendientes y luego procede a realizar todas las escrituras subsiguientes replicándolas de forma síncrona en el centro de datos remoto. Por lo tanto, entre la migración del servidor y la replicación síncrona, tanto el estado de la aplicación como todas las operaciones de almacenamiento se reflejan en los dos entornos de los dos centros de datos. Cuando todas las operaciones de escritura pendientes se copian, entonces, como en el caso anterior, ponemos en pausa la aplicación y se señaliza a la red para que redirija el tráfico al centro de datos remoto. A partir de este momento, tanto las operaciones de migración de almacenamiento como de servidores están completas y activadas en el centro de datos B. Como se mencionó anteriormente, el estado de la red aún necesita ser actualizado para garantizar un flujo óptimo de datos directamente al centro de datos B. Ten en cuenta que, si bien hemos descrito el proceso de migración del servidor en vivo como implicando al proveedor de servicios para la parte de redes, es posible que un proveedor de centro de datos realice un conjunto similar de funciones sin involucrar al proveedor de servicios. Específicamente, al crear un túnel entre los routers de borde del cliente (CE) en el centro de datos, y realizar conmutación local en el CE apropiado, en lugar de en el PE, el proveedor del centro de datos puede lograr la misma funcionalidad. 3.2 Interrupciones no planificadas Proponemos también utilizar migración cooperativa y consciente del contexto para hacer frente a las interrupciones no planificadas en el centro de datos. Hay múltiples consideraciones que entran en juego al gestionar las operaciones de un centro de datos para planificar y superar fallos a través de la migración. Algunos de estos son: (1) cantidad de gastos generales bajo operación normal para superar fallas anticipadas; (2) cantidad de pérdida de datos aceptable (objetivo de punto de recuperación - RPO); (3) cantidad de estado que debe ser migrado; y (4) tiempo disponible desde la falla anticipada hasta la ocurrencia del evento. En un extremo, uno podría incurrir en el gasto adicional de replicar completamente la aplicación en el sitio remoto. Esto tiene como consecuencia tanto el aumento de la carga de procesamiento y de red durante la operación normal, como el impacto en el rendimiento de la aplicación (latencia y rendimiento) en su totalidad. El otro extremo es garantizar únicamente la recuperación de datos y comenzar una nueva copia de la aplicación en el sitio remoto después de una interrupción. En este caso, el estado de la memoria de la aplicación, como las sesiones en curso, se pierden, pero los datos almacenados en el disco se replican y están disponibles en un estado consistente. Ni este enfoque de reserva en caliente ni el enfoque de reserva en frío descritos son deseables debido a la sobrecarga o la pérdida del estado de la memoria de la aplicación. Un enfoque intermedio es recuperar el control y el estado esencial de la aplicación, además de los datos almacenados en el disco, para minimizar aún más las interrupciones a los usuarios. Un espectro de enfoques son posibles. En un servidor de VoIP, por ejemplo, la información basada en sesiones puede ser reflejada sin reflejar los datos que fluyen a través de cada sesión. Más generalmente, esto señala la necesidad de hacer un punto de control del estado de algunas aplicaciones además de reflejar los datos en el disco. El punto de control del estado de la aplicación implica almacenar el estado de la aplicación ya sea periódicamente o de manera consciente de la aplicación, como lo hacen las <br>bases de datos</br>, y luego copiarlo al sitio remoto. Por supuesto, esto tiene como consecuencia que la aplicación solo pueda reiniciarse de forma remota en el límite del punto de control. Del mismo modo, para el almacenamiento se puede utilizar la replicación asíncrona con una instantánea periódica que garantice que todas las escrituras estén actualizadas en el sitio remoto en el momento de la creación de puntos de control. Algunas pérdidas de datos pueden ocurrir en caso de un fallo catastrófico no anticipado, pero el punto de recuperación puede ser bastante pequeño, dependiendo de la frecuencia de la aplicación de checkpoints y del estado de almacenamiento. La coordinación entre el checkpointing del estado de la aplicación y la instantánea del almacenamiento es clave para una migración exitosa que cumpla con los RPO deseados. La creación de puntos de control incrementales de la aplicación y el almacenamiento es clave para la eficiencia, y vemos técnicas existentes para lograr esto [4, 3, 11]. Por ejemplo, en lugar de reflejar la aplicación completa, se puede mantener una réplica virtualizada como un respaldo en caliente, en estado de reposo o hibernación, lo que permite cambiar rápidamente al estado previamente marcado. Para que el cambio sea fluido, además de replicar datos y recuperar el estado, se necesita soporte de red. Específicamente, al detectar la no disponibilidad del sitio primario, se activa el sitio secundario y se utiliza el mismo mecanismo descrito en la Sección 3.1 para redirigir el tráfico hacia el sitio secundario a través del túnel preestablecido. Se debe tener en cuenta que, para simplificar la exposición, asumimos aquí que la PE que realiza el cambio local no se ve afectada por la falla. Sin embargo, el enfoque puede ser fácilmente extendido para hacer uso de un cambio a un enrutador más profundo en la red. La cantidad de estado y almacenamiento que debe ser migrada puede variar ampliamente de una aplicación a otra. Puede haber muchas situaciones en las que, en principio, el servidor puede ser sin estado. Por ejemplo, un servidor proxy SIP puede no tener ningún estado persistente y la comunicación entre los clientes y el servidor proxy puede estar utilizando UDP. En tal caso, la actividad principal a realizar es en la red para trasladar la comunicación al nuevo sitio del centro de datos. Poco o ningún gasto adicional se incurre durante la operación normal para facilitar la migración a un nuevo centro de datos. La recuperación de fallos implica la ausencia de pérdida de datos y podemos hacer frente a fallos catastróficos casi instantáneamente. A medida que más estado se involucra con el servidor, se incurre en más sobrecarga para hacer checkpoint del estado de la aplicación y potencialmente para tomar instantáneas de almacenamiento, ya sea periódicamente o cuando la aplicación lo solicite. También significa que el RPO es una función del intervalo entre puntos de control, cuando tenemos que lidiar con fallas instantáneas. Cuanta más información avanzada tengamos sobre un fallo inminente, más efectivos podemos ser al migrar el estado al nuevo centro de datos, para así poder mantener un RPO más estricto cuando se reanuden las operaciones en el nuevo sitio. 4. TRABAJO RELACIONADO El trabajo previo sobre este tema se divide en varias categorías: migración de máquinas virtuales, replicación de almacenamiento y soporte de red. En el núcleo de nuestra técnica está la capacidad de encapsular aplicaciones dentro de máquinas virtuales que pueden ser migradas sin tiempos de inactividad de la aplicación [15]. La mayoría del software de máquinas virtuales, como Xen [8] y VMWare [14], admiten la migración en vivo de MVs que implican tiempos de inactividad extremadamente cortos que van desde decenas de milisegundos hasta un segundo; los detalles de las técnicas de migración en vivo de Xen se discuten en [8]. Como se indicó anteriormente, estas técnicas asumen que la migración se está realizando en una LAN. La migración de máquinas virtuales también ha sido estudiada en el sistema Shirako [10] y para entornos de grid [17, 19]. El software actual de máquinas virtuales cuenta con una función de suspensión y reanudación que se puede utilizar para respaldar la migración de WAN, pero con tiempos de inactividad [18, 12]. Recientemente se demostró la migración en vivo de WAN utilizando túneles IP en [21], donde se establece un túnel IP desde el servidor de origen al de destino para reenviar de forma transparente paquetes hacia y desde la aplicación; abogamos por un enfoque alternativo que asume el soporte del enrutador de borde. En el contexto del almacenamiento, existen numerosos productos comerciales que realizan replicación, como IBM Extended Remote Copy, HP Continuous Access XP y EMC RepliStor. Una excelente descripción de estos y otros, así como una taxonomía detallada de los diferentes enfoques para la replicación se puede encontrar en [11]. El sistema Ursa Minor argumenta que ningún modelo de falla único es óptimo para todas las aplicaciones y propone selecciones específicas de modelos de falla y esquemas de codificación de tipos de datos de apoyo para la replicación [1]. Recientemente, propusimos la noción de replicación con conciencia semántica [13], donde el sistema admite tanto la replicación síncrona como asíncrona de manera concurrente y utiliza señales del sistema de archivos para determinar si replicar una escritura particular de forma síncrona o asíncrona. En el contexto de soporte de red, nuestro trabajo está relacionado con el enfoque RouterFarm [2], que hace uso de cambios de red orquestados para lograr un mantenimiento casi sin interrupciones en los enrutadores de borde del proveedor. Además de estar en un área de aplicación diferente, nuestro enfoque difiere del trabajo de RouterFarm en dos aspectos. Primero, proponemos que los cambios de red requeridos sean activados por funcionalidades fuera de la red (en lugar de funciones de gestión de red dentro de la red). Segundo, debido a los estrictos requisitos de tiempo de la migración en vivo, esperamos que nuestro enfoque requiera una nueva funcionalidad del enrutador (en lugar de ser realizable a través de las interfaces de configuración existentes). Finalmente, el trabajo de computación orientado a la recuperación (ROC) enfatiza la recuperación de fallas en lugar de evitarlas [6]. En un espíritu similar al de ROC, abogamos por utilizar mecanismos de migración de máquinas virtuales en vivo a replicación de almacenamiento para respaldar cortes planeados y no planeados en los centros de datos (en lugar de replicación completa para enmascarar tales fallas). 5. CONCLUSIÓN Una preocupación significativa para los proveedores de servicios basados en Internet es la operación continua y la disponibilidad de servicios frente a interrupciones, ya sean planificadas o no planificadas. En este documento abogamos por un enfoque cooperativo y consciente del contexto para la migración de centros de datos a través de WANs para hacer frente a las interrupciones de manera no disruptiva. Buscamos lograr una alta disponibilidad de los servicios del centro de datos frente a tanto a las interrupciones planificadas como a las incidentales de las instalaciones del centro de datos. Abogamos por el uso de tecnologías de virtualización de servidores para permitir la replicación y migración de funciones de servidor. Propusimos nuevas funciones de red para permitir la migración y replicación de servidores a través de redes de área amplia (como Internet o una red privada virtual geográficamente distribuida), y finalmente demostramos la utilidad de la tecnología de replicación de almacenamiento inteligente y dinámica para garantizar que las aplicaciones tengan acceso a los datos ante cortes con objetivos de punto de recuperación muy estrictos. REFERENCIAS [1] M. Abd-El-Malek, W. V. Courtright II, C. Cranor, G. R. Ganger, J. Hendricks, A. J. Klosterman, M. Mesnier, M. Prasad, B. Salmon, R. R. Sambasivan, S. Sinnamohideen, J. D. Strunk, E. Thereska, M. Wachs y J. J. Wylie. Ursa minor: almacenamiento basado en clústeres versátil. Conferencia USENIX sobre Tecnologías de Archivos y Almacenamiento, diciembre de 2005. [2] Mukesh Agrawal, Susan Bailey, Albert Greenberg, Jorge Pastor, Panagiotis Sebos, Srinivasan Seshan, Kobus van der Merwe y Jennifer Yates. Routerfarm: Hacia un borde de red dinámico y manejable. Taller SIGCOMM sobre Gestión de Redes de Internet (INM), septiembre de 2006. [3] L. Alvisi. Comprendiendo el paradigma de registro de mensajes para enmascarar fallas del proceso. Tesis doctoral, Universidad de Cornell, enero de 1996. [4] L. Alvisi y K. Marzullo. Registro de mensajes: pesimista, optimista y causal. En Actas de la 15ª Conferencia Internacional sobre Sistemas de Computación Distribuida, páginas 229-236. IEEE Computer Society, junio de 1995. 266 [5] Paul Barham, Boris Dragovic, Keir Fraser, Steven Hand, Tim Harris, Alex Ho, Rolf Neugebar, Ian Pratt y Andrew Warfield. Xen y el arte de la virtualización. En las Actas del Simposio de la ACM sobre Principios de Sistemas Operativos (SOSP), octubre de 2003. [6] A. Brown y D. A. Patterson. Abrazando el fracaso: Un caso para la computación orientada a la recuperación (roc). Simposio de Procesamiento de Transacciones de Alto Rendimiento de 2001, octubre de 2001. [7] K. Brown, J. Katcher, R. Walters y A. Watson. Snapmirror y snaprestore: Avances en la tecnología de instantáneas. Informe técnico de Network Appliance TR3043. www. ne t app. c om/t e c h_ l i br ar y/3043. ht ml . [8] C. Clark, K. Fraser, S. Hand, J. Hanse, E. Jul, C. Limpach, I. Pratt y A. Warfiel. Migración en vivo de máquinas virtuales. En Actas de NSDI, mayo de 2005. [9] Disaster Recovery Journal. Glosario de continuidad empresarial. ht t p: //www. dr j . c om/gl os s ar y/dr j gl os s ar y. ht ml . [10] Laura Grit, David Irwin, , Aydan Yumerefendi y Jeff Chase. Hospedaje de máquinas virtuales para clusters en red: Construyendo las bases para la orquestación autónoma. En el Primer Taller Internacional sobre Tecnología de Virtualización en Computación Distribuida (VTDC), noviembre de 2006. [11] M. Ji, A. Veitch y J. Wilkes. Seneca: Duplicación remota realizada correctamente. Conferencia Técnica Anual USENIX 2003, junio de 2003. [12] M. Kozuch y M. Satyanarayanan. Internet se suspende y se reanuda. En Actas del Cuarto Taller de Sistemas y Aplicaciones de Computación Móvil de IEEE, Calicoon, NY, junio de 2002. [13] Xiaotao Liu, Gal Niv, K. K. Ramakrishnan, Prashant Shenoy y Jacobus Van der Merwe. El caso para la replicación remota consciente de la semántica. En Proc. 2º Taller Internacional sobre Seguridad y Supervivencia de Almacenamiento (StorageSS 2006), Alexandria, VA, octubre de 2006. [14] Michael Nelson, Beng-Hong Lim y Greg Hutchins. Migración rápida y transparente para máquinas virtuales. En la Conferencia Técnica Anual de USENIX, 2005. [15] Mendel Rosenblum y Tal Garfinkel. Monitores de máquinas virtuales: Tecnología actual y tendencias futuras. Computadora, 38(5):39-47, 2005. [16] C. Ruemmler y J. Wilkes. Patrones de acceso a disco en Unix. Actas de Winter 1993 USENIX, enero de 1993. [17] Paul Ruth, Junghwan Rhee, Dongyan Xu, Rick Kennell y Sebastien Goasguen. Adaptación en vivo autónoma de entornos computacionales virtuales en una infraestructura de múltiples dominios. En la Conferencia Internacional de Computación Autónoma (ICAC) de IEEE, junio de 2006. [18] Constantine P. Sapuntzakis, Ramesh Chandra, Ben Pfaff, Jim Chow, Monica S. Lam y Mendel Rosenblum. Optimizando la migración de computadoras virtuales. En Actas del 5º Simposio sobre Diseño e Implementación de Sistemas Operativos, diciembre de 2002. [19] A. Sundararaj, A. Gupta y P. Dinda. Mejorando el rendimiento de las aplicaciones en entornos virtuales a través de la inferencia y adaptación en tiempo de ejecución. En el Decimocuarto Simposio Internacional sobre Computación Distribuida de Alto Rendimiento (HPDC), julio de 2005. [20] Corporación Symantec. Guía del administrador de Veritas Volume Replicator. ht t p: //f t p. s uppor t . ve r i t as . c om/pub/s uppor t / pr oduc t s /Vol ume _ Re pl i c at or /2%83842. pdf, edición 5.0, 2006. [21] F. Travostino, P. Daspit, L. Gommans, C. Jog, C. de Laat, J. Mambretti, I. Monga, B. van Oudenaarde, S. Raghunath y P. Wang. Migración en vivo sin interrupciones de máquinas virtuales sobre la red de área metropolitana/amplia. Elsevier Future Generations Computer Systems, 2006. [22] T. Wood, P. Shenoy, A. Venkataramani, y M. Yousif. Estrategias de caja negra y caja gris para la migración de máquinas virtuales. En Actas del Simposio Usenix sobre Diseño e Implementación de Sistemas en Red (NSDI), Cambridge, MA, abril de 2007. [23] ¿Una forma xen de virtualización iscsi? http://www.internetnews.com/dev-news/article.php/3669246, abril de 2007. 267 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        }
    }
}