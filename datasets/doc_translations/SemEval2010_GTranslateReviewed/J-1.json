{
    "id": "J-1",
    "original_text": "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept. Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Research Yahoo! Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB). It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB. There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4]. In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare. We bound the welfare achieved by our procedure for a wide range of domains. In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains. Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges. Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1. INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain. Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss. In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society. However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced. Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism. To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 . For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare. In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism. For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB. Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open. Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem. For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance. Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic. Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure. The solution procedure called the Generalized Trade Reduction (GTR). GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism. The output mechanism may suffer some welfare loss as a tradeoff of achieving BB. There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss. Nevertheless for a wide class of problems we are able to bound the loss in welfare. A particularly interesting case is one in which the input mechanism is an efficient allocation. In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature. The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4]. For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all. For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare. Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism. The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups. In addition to the main contribution described above, this paper also defines an important classification of problem domains. We define class based domain and procurement class based domains. The above definitions build on the different competition powers of players in a mechanisms called internal and external competition. Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2. PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB. For some classes of mechanisms we bound the competitive approximation of welfare. In our model there are N players divided into sets of trade. The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1. A procurement set s is the smallest set of players that is required for trade to occur. For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller. In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers. We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets. Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0. For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0. The set Vi ⊆ R is the set of all possible valuations vi. The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn. Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i. We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets. For example, F can be a (non-strategic) transportation cost in a distributed market problem. Let the size of a procurement set s be denoted as |s|. It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade. The paper denotes by O the set of possible partitions of an allocation A into procurement sets. The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s). This means that W(A) = i∈A vi +maxS∈O s∈S F(s). In the case where F is identically zero, then W(A) = i∈A vi. An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A. Let the value of A be W(S∗ (A)) (note that the value can depend on F). We say that the allocation A is efficient if there is no other allocation with a higher value. The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation. We assume w.l.o.g. that there are no two allocations with the same value3 . A mechanism M defines an allocation and payment rules, M = (R, P). A payment rule P decides is payment pi where P is a function P : V → RN . We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values. An example of such a mechanism is the VCG mechanism [17, 8, 10]. The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi. Let b ∈ V be the bids of all players. An allocation rule R decides the allocation according to the reported values b ∈ V . We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers. Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V . M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players. M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative. Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0. Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme. Definition 2.2. Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated. We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms. The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism. The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one. The right conditions that need to be met are conditions of competition among the players in the given problem. The following definitions leads us to the competition conditions we are looking for. Definition 2.3. For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer. In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge. Note that a set can replace a single player. Furthermore, this relationship is transitive but not necessarily symmetric. If i is a replacement set for j, it is not necessarily true that j is a replacement set for i. Definition 2.4. For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t. T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0. Definition 2.5. For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0. We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets. In case of ties, these can be broken by using the identities of the players4 . So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition. Definition 2.6. A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB. The set X5 denotes this competition and is closed under replacement. In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement. Definition 2.7. Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1. Each player i ∈ X has an external competition. 2. Each player i /∈ X has an internal competition. 3. For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial. In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined. In appendix C we give an example where two possible choices of X yield greatly different results. Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem. Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition. So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism. The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets. The algorithms order the procurements sets defined by D in order of increasing value. For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set. The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached. The reduction of procurement sets will also be referred to as a trade reduction. Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8. D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2. The two generalized trade reduction algorithms presented accept problems in different domains. The formal domain definitions follow: Definition 2.9. A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj. Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric. We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i]. It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i. Definition 2.10. A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2. Example 2.1. A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain. For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller. The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain. In this case, the buyer is a class and each set of sellers of the same good is a class. However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in. The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain). For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers. The next sections present two algorithms GTR-1 and GTR2. GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain. We prove the GTR-2s properties with specific dividing function D0. The function will be defined in section 4. Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3. PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains. For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced. Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains. Example 3.1. The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1). In this domain there are two classes. The class of buyers and the class of sellers. Each procurement set consists of a single buyer and a single seller. Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain. In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3). Like the double-sided auctions with homogenous goods, their are two classes in the domain. Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller. The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs. These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5). The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8). In this context each seller sells a single good and each buyer wants a set of goods. The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle. A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer. A definition of the mechanism follows: Definition 3.1. The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1. Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2. Order the procurement sets by increasing value. 3. For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj. Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4. All trading players are charged the critical value for trading. All non trading players are charged nothing. Remark 3.1. The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB. To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]). Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2. An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi. Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid. Theorem 3.1. An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci). So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments. Observation 3.1. Let M1 and M2 be two IR and IC mechanisms with the same allocation rule. Then M1 and M2 must have the same payment rule. In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown. Lemma 3.1. For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition. Proof. This follows from the definition of procurement class domains. Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s). Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition. We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary. It is possible to define an X that does not intersect every possible procurement set. In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2. For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism. Proof. By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0. By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero. Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR. As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic. Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi. So the likelihood of competition can only increase if i appears in later procurement sets. This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players. Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced. Finally we prove BB: Lemma 3.3. For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism. Proof. In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive). Let s ∈ S be a procurement set that is not reduced. Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition. Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition. Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm. According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0. Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)). By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading. Thus i pays no less than min −W(Ei(A, s)). Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)). If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will. As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)). Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced. As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB. The above two lemmas yield the following theorem: Theorem 3.2. For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism. Remark 3.2. The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4. NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic. By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition. Therefore, the chance of i lacking the requisite competition is decreased. Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased. Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity. GTR-1 is IC for procurement-class domains. However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain. Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition. Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC. We therefore define a different algorithm for non procurement class domains. Our modified algorithm requires a special dividing function in order to maintain the IC property. Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4]. For ease of presentation in this section we assume that F = 0. The dividing function for general domains is defined by looking at all possible dividing functions. For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 . We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b). Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)). For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context. Remark 4.1. D0 is an element of the set of dividing functions, and therefore is a dividing function. The second generalized trade reduction algorithm GTR-2 follows. Definition 4.1. The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1. Calculate the dividing function D0 as defined above. 2. Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3. For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj. Otherwise, reduce the trade sj. 4. All trading players are charged the critical value for trading. All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB. The following lemma shows that the GTR-2 produced mechanism is IR, and IC. Lemma 4.1. For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism. Proof. By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i. Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi. Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i. Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i. Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi. Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)). However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains. Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds. That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b). Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi. Lemma 4.2. For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism. Proof. This proof is similar to the proof of lemma 3.3. Combining the two lemmas above we get: Theorem 4.1. For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism. Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0. Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare. Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases. However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied. Definition 4.2. Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj. Definition 4.3. Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj. I.e., freqk([i], S) = maxsj ∈S freqk([i], sj). Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes. Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3. For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class. Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof. Let D be an arbitrary dividing function. We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section. However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition. Once s is reduced all players of [i] have internal competition. So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition. If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk. Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists. The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2. Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare. The following corollaries are direct results of theorem 4.2. All of these corollaries either improve prior results or achieve the same welfare as prior results. Corollary 4.1. Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced. Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced. Corollary 4.2. Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced. For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2. Corollary 4.3. Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced. The following corollary solves the open problem at [3]. Corollary 4.4. For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets. Proof. Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set. This improves the naive algorithm of reducing n2 procurement sets. We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets. Corollary 4.6. If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5. CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR). GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB. The output mechanisms achieves welfare that is close to optimal for a wide range of domains. The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets. The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question. We also leave open the question of upper bounds for the quality of approximation of welfare. Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism. The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared. Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us. The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6. REFERENCES [1] A. Archer and E. Tardos. Frugal path mechanisms. Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan. Concurrent Auctions Across the Supply Chain. Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market. In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh. Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation. In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura. Negotiation-range mechanisms: exploring the limits of truthful efficient markets. EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents. In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments. In Proc. 5th Int. Conf. on Auton. Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods. In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism. Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams. In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham. Truth Revelation in Approximately Efficient Combinatorial Auctions. In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions. Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction. Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan. Truthful Approximation Mechanisms for Restricted Combinatorial Auctions. Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A. Efficient Mechanisms for Bilateral Trading. Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q. Efficient Auction Mechanisms for Supply Chain Procurement. School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders. In Journal of Finance 1961, vol. 16, pp. 8-37. APPENDIX A. CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time. We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions. Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅. We now prove that D0 is the required dividing function. Lemma A.1. For procurement class domains D0 = D0. Proof. Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare. This is achieved by D0. B. PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism. The first problem that we define is the double-sided auction with homogeneous goods. Problem B.1. Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good. We denote the set of sellers by S and the set of buyers by B. Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good. In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2. The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade. If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set. A related model is the pair related costs [9] model. Problem B.2. The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade. F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case. One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism. A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost. Problem B.3. Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv . Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge. The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case. Our paper improves on [3] result. Another graph model is the model defined in [6]. Problem B.4. Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph. All trade must pass through a trader. In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph. The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted. Problem B.5. Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships. Agents can require an input of multiple quantities of goods in order to output a single good. The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree. All of the above problems are procurement-class domains. We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems. An open problem raised in [3] is the SDM model in which edges are strategic. Problem B.6. Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv . Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge. Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology. It is easy to see that this problem is not a procurement class domain. Another interesting problem is transport networks. Problem B.7. Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V . It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players. Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open. Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players. Problem B.8. Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good. There also exists a set B of buyers each interested in bundles of 2S18 . There are two variants of this problem. In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same. In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer. We also consider problems that are non class domains. Problem B.9. Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X. As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful. In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains. We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1. Similar examples can be constructed for the other problems defined is B. The following example shows an effect on the welfare. Example C.1. There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}. If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100. Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero. The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades). On the revenue side we can not even bound the ratio as seen from the following example: Example C.2. Consider k buyers with value 100 and k+ 1 sellers with value 1. If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1. This yields a net revenue of zero. If Y = {sellers} then one must reduce a trade! This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k. Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism. The above examples refer to sets X and Y which do not intersect and are incomparable. The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y . Theorem C.1. For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1. The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2. Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external. Proof. 1. For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism. In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external. In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2. This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism. Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism. Remark C.1. For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak. Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite. This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29",
    "original_translation": "Mecanismos generalizados de reducción del comercio Mira Gonen Departamento de Ingeniería Eléctrica. Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen ∗ Yahoo! Investigar yahoo! Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab Mit Cambridge MA, 02149 Elan@mit.edu Resumen Al diseñar un mecanismo hay varias propiedades deseables para mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR)y saldo presupuestario (BB). Es bien sabido [15] que es imposible que un mecanismo maximice el bienestar social al tiempo que también es IR, IC y BB. Ha habido varios intentos de eludir [15] al negociar el bienestar de BB, por ejemplo, en dominios como subastas de doble cara [13], mercados distribuidos [3] y problemas de cadena de suministro [2, 4]. En este artículo proporcionamos un procedimiento llamado Reducción de Comercio Generalizado (GTR) para jugadores de un solo valor, que dio un mecanismo IR e IC, genera un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar alcanzado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran en las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos, como subastas combinatorias de doble cara y mercados distribuidos con bordes de transporte estratégico. Categorías y descriptores de sujetos J.4 [Ciencias sociales y conductuales]: Economía;K.4.4 [Comercio electrónico]: Algoritmos de Términos generales del esquema de pago, Diseño, Economía, Teoría 1. Introducción Al diseñar un mecanismo hay varias propiedades clave que son deseables para mantener. Algunos de los más importantes son la racionalidad individual (IR), para que valga la pena que todos los jugadores participen, Compatibilidad de incentivos (IC), para dar incentivos a los jugadores para informar su verdadero valor al mecanismo y el equilibrio presupuestario (BB), nopara ejecutar el mecanismo en una pérdida. En muchos de los mecanismos, la función de objetivo que un diseñador de mecanismo intenta maximizar es el bienestar social1: el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos que ejecuta un desempeño de déficit, es decir, no está equilibrado con el presupuesto. Por supuesto, para muchas aplicaciones de importancia práctica, nos falta la voluntad y la capacidad de permitir que el mecanismo ejecute un déficit y, por lo tanto, uno debe equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad BB en un mecanismo IR e IC, es necesario comprometer la optimización del bienestar social.1.1 Trabajo relacionado y soluciones específicas Ha habido varios intentos de diseñar mecanismos presupuestarios equilibrados para dominios particulares2. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]).[13] desarrolló un mecanismo que, dados las valoraciones de compradores y vendedores, produce una asignación (que son los jugadores comerciales) y una coincidencia entre compradores y vendedores, de modo que el mecanismo es IR, IC y BB, al tiempo que conserva la mayor parte del bienestar social. En el problema de los mercados distribuidos (y los problemas estrechamente relacionados) se transportan bienes entre ubicaciones geográficas, al tiempo que incurre en algún costo constante de transporte.[16, 9, 3] Mecanismos actuales que se aproximan al bienestar social al tiempo que logran un mecanismo IR, IC y BB. Para los problemas de la cadena de suministro [2, 4] limita la pérdida de bienestar social que es necesario para infligir el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la cuestión de cómo diseñar un mecanismo general que logre IR, IC y BB independientemente del dominio del problema permanece abierta. Además, hay varios dominios en los que la cuestión de cómo diseñar un mecanismo IR, IC y BB que se denomina eficiencia en la literatura económica.2 Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B 20 Images El bienestar social sigue siendo un problema abierto. Por ejemplo, en el importante dominio de las subastas de doblaje combinatorias no hay un resultado conocido que limite la pérdida de bienestar social necesario para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido BB con bordes estratégicos tiene grandes implicaciones prácticas, por ejemplo, para las redes de transporte.1.2 Nuestra contribución en este documento unificamos todos los problemas discutidos anteriormente (tanto resueltos como los abiertos) en un procedimiento de concepto de solución. El procedimiento de solución llamó la reducción del comercio generalizado (GTR). GTR acepta un mecanismo IR e IC para jugadores de un solo valor y genera un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir alguna pérdida de bienestar como una compensación de logro de BB. Hay casos problemáticos en los que no es necesaria pérdida de bienestar, pero en [15] hay casos problemáticos en los que hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas, podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB en un solo concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos [3] y cadena de suministro [2, 4]. Para las subastas homogéneas de DoubleDed, el procedimiento de la solución GTR mejora la solución bien conocida [13] al permitir algunos casos de reducción de comercio sin comercio. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de la solución GTR mejora las pérdidas de bienestar vinculadas, es decir, le permite a uno lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recientemente presentado [6] en un mecanismo BB. Los problemas abiertos que responden GTR son los mercados distribuidos con bordes de transporte estratégico y rutas limitadas, subastas combinatorias de doble cara con tamaño limitado del grupo de negociación, es decir, un comprador y sus vendedores de productos de paquete, subastas combinatorias de doble cara con un número limitado de un número limitado de un número limitadoPosibles grupos comerciales. Además de la contribución principal descrita anteriormente, este documento también define una clasificación importante de los dominios de problemas. Definimos dominios basados en el dominio y adquisiciones basados en la clase. Las definiciones anteriores se basan en los diferentes poderes de la competencia de los jugadores en mecanismos llamados competencia interna y externa. La mayoría de los dominios de problemas estudiados son de los dominios de clase de adquisición más restrictivos y creemos que el entorno más general inspirará más investigación.2. Preliminares 2.1 El modelo En este documento diseñamos un método que dado cualquier mecanismo IR e IC genera un mecanismo que mantiene las propiedades IC e IR al alcanzar BB. Para algunas clases de mecanismos vinculamos la aproximación competitiva de bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de comercio. Los conjuntos de comercio se denominan conjuntos de adquisiciones y se definen (siguientes [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones es el conjunto más pequeño de jugadores que se requiere para que ocurra el comercio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisiciones es un par compuesto por un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y suponemos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real VI (s) a cada posible conjunto de adquisiciones S ∈ S. a saber, vi (s) es la valoración del jugador I en el conjunto de adquisiciones.Suponemos que para cada jugador I vi (s) es un valor privado y que yo es un jugador de valor único, lo que significa que si vi (sj)> 0 entonces para cualquier otro sk, k = j, Vi (sk) = vii(SJ) o VI (SK) = 0. Para la facilidad de notación, marcaremos por VI el valor del jugador I para cualquier conjunto de adquisiciones de tal manera que vi (s)> 0. El conjunto VI ⊆ R es el conjunto de todas las valoraciones posibles VI. El conjunto de todas las valoraciones posibles de todos los jugadores se denota por V = V1 × ... × VN. Sea v - i = (v1, ..., vi - 1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores además del jugador I, y v - i sea el conjunto de todos los posiblesVectores V - I. Denotamos por w (s) el valor de un conjunto de adquisiciones s ∈ S tal que w (s) = i∈S vi (s) + f (s), donde F es una función que asigna una constante conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Deje que el tamaño de un conjunto de adquisiciones se denote como | S |. Se supone que cualquier asignación es una unión disjunta de conjuntos de adquisiciones y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos sets;Un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por o el conjunto de posibles particiones de una asignación A en conjuntos de adquisiciones. El valor w (a) de una asignación a es la suma de los valores de su partición más eficiente a los conjuntos de adquisiciones, es decir, w (a) = maxs∈O s∈S w (s). Esto significa que w (a) = i∈A vi +maxs∈O s∈S f (s). En el caso donde F es idénticamente cero, entonces w (a) = i∈A vi. Una partición óptima s ∗ (a) es una partición que maximiza la suma anterior para una asignación A. Deje que el valor de A sea w (s ∗ (a)) (tenga en cuenta que el valor puede depender de f). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es w (ˆa) w (a), donde a es una asignación de valor máximo. Asumimos W.L.O.G.que no hay dos asignaciones con el mismo valor3. Un mecanismo M define una asignación y reglas de pago, M = (R, P). Una regla de pago P decide el pago Pi donde P es una función P: V → RN. Trabajamos con mecanismos que 3 lazos se pueden romper utilizando las identidades de los jugadores.21 en el que los jugadores deben informar sus valores. Un ejemplo de tal mecanismo es el mecanismo VCG [17, 8, 10]. El valor informado bi ∈ VI del jugador I se llama oferta y podría ser diferente de su valor privado VI. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo con los valores informados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen utilidad cuasi-lineal para que cuando el jugador intercambie y paga pi, entonces su utilidad es ui (vi, b-i) = vi-pi, ui: v ⇒ R. También suponemos que los jugadores sonMaximizadores de utilidad racional. El mecanismo m es presupuesto equilibrado (bb) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es compatible con incentivos (IC) en estrategias dominantes si es para cualquier jugador I, valor VI y cualquier B-i ∈ V-I, UI (VI, B-I) ≥ UI (b) que significa que para cualquier jugador I, ofertaVI maximizado es utilidad sobre todas las ofertas posibles de los otros jugadores. M es (ex post) individualmente racional (ir) si para algún jugador valoro vi, y cualquier b-i ∈ V-i ui (vi, b-i) ≥ 0 significa que para todas las ofertas posibles de los otros jugadores,Jugadores I Utity no es negativo. Tenga en cuenta que dado que nuestros mecanismos están normalizados en IR, si un jugador no cambia, el jugador paga 0 y tiene utilidad 0. Nuestro algoritmo presentado en la siguiente sección emplea un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: un mecanismo utiliza un esquema de pago de valor crítico si se le da una asignación, cobra a los jugadores el valor mínimo que necesitan informar al mecanismo para permanecer asignado. Denotamos por CI el precio de valor crítico calculado para el jugador i.2.2 Competiciones y dominios En este documento presentamos dos algoritmos de reducción de comercio generalizado. Los dos algoritmos son tales que dado un mecanismo IR e IC que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte M en mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplan las condiciones correctas y el mecanismo M se convierte en uno BB. Las condiciones correctas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto ri ⊆ n \\ {i} es un conjunto de reemplazo de I, si para algún conjunto de adquisiciones s ∈ S tal que i ∈ S y ri∩s = ∅, s \\ {i} ∪ri ∈ S. Por ejemplo, en una subasta de doble cara (homogénea) (ver problema B.1) El conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta para las ranuras de transporte (ver Problema B.7), el conjunto de reemplazo de un borde es una ruta entre los puntos finales del borde. Tenga en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si yo es un conjunto de reemplazo para J, no es necesariamente cierto que J es un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, el conjunto de adquisiciones S ⊆ A, y cualquier I ∈ S, decimos que Ri (a, S) es una competencia interna para I con respecto a A y S, si Ri (A, S) ⊆ N \\ A es unConjunto de reemplazo para I S.T. T = s \\ {i} ∪ ri (a, s) ∈ S y w (t) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisiciones S ⊆ A y cualquier I ∈ S, decimos que Ei (A, S) es una competencia externa para I con respecto a A y S, si Ei (A, S) ⊆ N \\ A es A es unset s.t., t = {i} ∪ ei (a, s) ∈ S y w (t) ≥ 0. Asumiremos, sin pérdida de generalidad, que no hay vínculos entre los valores de ninguna asignación, y en particular no hay vínculos entre los valores de los conjuntos de adquisiciones. En el caso de los lazos, estos se pueden romper utilizando las identidades de los jugadores4. Entonces, para cualquier asignación A, el conjunto de adquisiciones y el jugador I con la competencia externa EI (A, S), existe exactamente un conjunto que representa la competencia externa valorada al máximo. Definición 2.6. Un conjunto x ⊂ n se cierra bajo reemplazo si ∀i ∈ X entonces ri ⊂ x lo siguiente define la competencia necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento, asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea x ⊂ n un conjunto que se cierra bajo reemplazo, decimos que el mecanismo es un mecanismo interno X, si 1. Cada jugador i ∈ X tiene una competencia externa.2. Cada jugador i /∈ X tiene una competencia interna.3. Para todos los jugadores I1 ,..., ∈ S \\ x existe ri1 (a, s) ,..., Rit (a, s) tal que para cada iz = iq, riz (a, s) ∩ riq (a, s) = ∅ 4. Para cada conjunto de adquisiciones s ∈ S sostiene que s∩x = ∅ para dominios generalesLa elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (e ingresos) puede variar ampliamente dependiendo de cómo se define X. En el Apéndice C damos un ejemplo en el que dos opciones posibles de X producen resultados muy diferentes. Aunque mostramos que X debe elegirse lo más pequeño posible, no damos ninguna caracterización de la optimización de X y este es un problema abierto importante. Nuestros dos algoritmos generalizados de reducción de comercio asegurarán que para cualquier asignación tengamos los tipos de competencia deseados. Entonces, dado un mecanismo M que es IC e IR con la asignación A, el objetivo de los algoritmos es convertir M en un mecanismo X-External. Los dos algoritmos generalizados de reducción de comercio utilizan una función divisoria D que divide la asignación A en conjuntos de adquisiciones disjuntas. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones, hay un tipo de competencia deseado que depende solo de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizado superan los conjuntos de adquisiciones en orden (de los más pequeños a los más grandes) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el set. La reducción de los conjuntos de adquisiciones también se denominará una reducción comercial. Formalmente, 4 Los detalles de cómo romper los lazos en las asignaciones son estándar y se omiten.5 Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. 22 Definición 2.8. D es una función divisoria si para cualquier asignación A y los jugadores valoran el vector V, D divide la asignación en las adquisiciones disjuntas establece S1 ,..., SK S.T.∪sj = a y para cualquier jugador i con valor vi si i ∈ Sj1 y t ∈ Sj2 S.T.J1 ≥ J2 Entonces para cualquier valor vi> vi del jugador I y la división por D en S1 ,..., SK tal que i ∈ Sj1 y t ∈ Sj2 luego J1> J2. Los dos algoritmos generalizados de reducción de comercio presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, ri, | ri |= 1 y para todo i, j, i = j si j = ri entonces i = rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador I como el conjunto de los conjuntos de reemplazo de los jugadores y denotan la clase de jugador I por [i]. Es importante tener en cuenta que, dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador I, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de la clase de adquisición si el dominio es un dominio basado en la clase y si para algún jugador yo, tal que existe dos conjuntos de adquisiciones S1, S2 (no necesariamente se comercia simultáneamente en cualquier asignación) de tal manera que yo ∈ S1 e I ∈S2 luego existe una biyección F: S1 → S2 de tal manera que para cualquier j ∈ S1, F (j) es un conjunto de reemplazo para J en S2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver Problema B.1) es un dominio basado en la clase de adquisición. Para la subasta (homogénea) de doble cara, cada conjunto de adquisiciones consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un solo comprador múltiple y múltiples vendedores de bienes heterogéneos (ver Problema B.9), es un dominio basado en clase (ya que tenemos un solo comprador) pero no un dominio basado en la clase de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay biyección entre los diferentes conjuntos de adquisiciones de los paquetes de productos que el comprador está interesado. El mercado distribuido espacial con bordes estratégicos (ver Problema B.6) no es un dominio basado en clase (y, por lo tanto, no es un dominio de clase de adquisición). Por ejemplo, incluso para un comprador fijo y un vendedor fijo, hay dos conjuntos de adquisiciones diferentes que consisten en diferentes caminos entre los compradores y los vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR2. GTR-1 acepta problemas en los dominios basados en la clase de adquisición, sus propiedades se prueban con una función divisoria general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Probamos las propiedades GTR-2S con la función divisoria específica D0. La función se definirá en la Sección 4. Dado que la función divisoria puede tener un gran impacto práctico en el bienestar (e ingresos), la generalidad de GTR - 1 (aunque en dominios especiales) puede ser una consideración práctica importante.3. Dominios basados en la clase de adquisición Esta sección se centra en los problemas que son dominios basados en la clase de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dio un mecanismo que es IR e IC produce un mecanismo con bienestar reducido que es IR, IC y presupuesto equilibrado. Aunque los dominios de la clase de adquisición parecen ser un modelo relativamente restringido, de hecho, muchos dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son los dominios de la clase de adquisición: • Subastas de doble cara con bienes homogéneos [13] (Problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un solo comprador y un solo vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisiciones válido (aunque posible con valor negativo) este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisiciones es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (Problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, son dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisiciones que consisten en un solo comprador y vendedor único. Los vendedores y compradores son nodos en un gráfico y la función F es la distancia de dos nodos (longitud del borde) que representan los costos de transporte. Estos costos difieren entre diferentes pares (comprador, vendedor).• Cadenas de suministro [2, 4] (Problema B.5). La suposición de la fábrica única por [2, 4] puede entenderse mejor como convertir las cadenas de suministro generales (que no necesitan ser un dominio de clase de adquisición) en un dominio de clase de adquisición.• Subastas combinatorias de mentalidad única [11] (Problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador quiere un conjunto de productos. Las clases son los sets de vendedores que venden el mismo bien y los compradores que desean el mismo paquete. Un conjunto de adquisiciones consta de un solo comprador, así como en un conjunto de vendedores que pueden satisfacer a ese comprador. Sigue una definición del mecanismo: Definición 3.1. El algoritmo GTR-1: dado un mecanismo m, un conjunto x ⊂ n que se cierra bajo reemplazo, una función divisoria D, y la asignación A, GTR-1 funciona de la siguiente manera: 1. Use la función divisoria D para dividir A en conjuntos de adquisiciones S1 ,..., sk ∈ S. 2. Ordene los conjuntos de adquisiciones aumentando el valor.3. Para cada SJ, comenzando desde el conjunto de adquisiciones de valor más bajo: si para cada i ∈ Sj ∩ x hay competencia externa y cada i ∈ Sj \\ x hay competencia interna, entonces 23 mantienen sj. De lo contrario, reduzca el comercio SJ (es decir, elimine cada i ∈ Sj de la asignación) .6 4. A todos los jugadores comerciales se les cobra el valor crítico por el comercio. A todos los jugadores no comerciales se les cobra nada. Observación 3.1. El caso especial donde x = n ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]).3.1 El GTR-1 produce un mecanismo X-External que es IR, IC y BB en esta subsección, demostramos que el algoritmo GTR-1 produce un mecanismo X-External que es IR, IC y BB. Para probar las propiedades de GTR-1S, utilizamos el Teorema 3.1, que es un resultado bien conocido (por ejemplo, [14, 11]). El teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para que los jugadores de valor único sean IR e IC: definición 3.2. Una regla de asignación R es una oferta monotónica si para algún jugador I, cualquier oferta de los otros jugadores b - i ∈ V - i, y dos posibles ofertas de i, ˆbi> bi, si intercambio bajo la regla de asignación R al informar bi, luego también cotiza al informar ˆBi. Intuitivamente, una regla de asignación monotónica de ofertas asegura que ningún jugador comercial pueda convertirse en un jugador que no sea motivador al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con la regla de asignación R es IC si y solo si R es una oferta monotónica y cada jugador de comercio paga su valor crítico CI (PI = CI). Entonces, para los mecanismos normalizados de IR7 e IC, la regla de asignación que se ofrece monotónica define de forma única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Deje que M1 y M2 sean dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. A continuación, demostramos que el algoritmo GTR-1 X-EXTERNAL produce un mecanismo IR, IC y BB, pero primero se muestra un Lemma subsidiario. Lema 3.1. Para los dominios de la clase de adquisición si existe un conjunto de adquisiciones SJ S.T.i ∈ Sj y i tiene competencia externa que todas t = i t ∈ Sj, t tiene competencia interna. Prueba. Esto se deduce de la definición de dominios de clase de adquisición. Supongamos que tengo una competencia externa, luego existe un conjunto de jugadores ei (a, s) tal que {i} ∪ ei (a, s) ∈ S. Denotemos por sj = {i} ∪ ei (a, s). Dado que el dominio es un dominio de clase de adquisición existe una función de biyección F entre SJ y SJ.F define la competencia interna requerida. Comenzamos demostrando IR e IC: 6 Aunque la definición de un mecanismo X-External requiere que X se cruze en cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir una X que no se cruze en todos los conjuntos de adquisiciones posibles. En este caso, cualquier conjunto de adquisiciones S ∈ S S.T.S ∩ x = ∅ se reducirá.7 Tenga en cuenta que esto no es cierto para los mecanismos que no están normalizados, por ejemplo, [7, 12] Lemma 3.2. Para cualquier X, el mecanismo X-External con un esquema de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Mediante la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se deduce que para cada jugador comercial I, vi ≥ 0. Por el algoritmo GTR-1 3.1 Jugadores no comerciales tengo un pago de cero. Por lo tanto, para cada jugador I, valor VI, y cualquier B-i ∈ V-I UI (VI, B-I) ≥ 0, lo que significa que el mecanismo X-Externed producido es IR. Como el algoritmo GTR-1 X-EXTERNAL es IR y aplica el esquema de pago de valor crítico de acuerdo con el Teorema 3.1, para mostrar que el mecanismo X-External producido con el esquema de pago de valor crítico es IC, queda por mostrar que la producida producidaLa regla de asignación de mecanismos es una oferta monotónica. Dado que GTR-1 ordena los conjuntos de adquisiciones de acuerdo con el valor creciente, si el jugador I aumenta su oferta de bi a bi> bi, entonces para cualquier función de división d de conjuntos de adquisiciones, el conjunto de adquisiciones que contiene siempre aparece más tarde con la oferta bi que conla oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si aparece en conjuntos de adquisiciones posteriores. Esto se deduce ya que GTR-1 puede reducir más conjuntos de adquisiciones de valor más bajo, lo que dará como resultado más jugadores no comerciales. Por lo tanto, si S tiene la competencia requerida y no se reduce con BI, entonces tendrá la competencia requerida con BI y no se reducirá. Finalmente probamos BB: Lemma 3.3. Para cualquier X, el mecanismo X-External con esquema de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no se reduce tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S sea un conjunto de adquisiciones que no se reduzca. Según I ∈ S ∩ X, de acuerdo con la definición de la definición X-EXTERNAL 2.7 y el algoritmo GTR-1 3.1 I tiene una competencia externa. Suponga W.L.O.G.8 que yo es el único jugador con competencia externa en S y todos los demás jugadores j = i, j ∈ S tienen competencia interna. Deje que A sea la asignación después de la reducción de la adquisición por el algoritmo GTR-1. De acuerdo con la definición de competencia externa 2.5, existe un conjunto ei (a, s) ⊂ n \\ a tal que i ∪ ei (a, s) ∈ S y w (i ∪ ei (a, s)) ≥ 0. Ya que w (i∪ei (a, s)) = vi +w (ei (a, s)) entonces vi ≥ −w (ei (a, s)). Según la definición del esquema de precios de valor crítico 2.2, significa que si el jugador I ofrece menos que −W (EI (A, S)), no tendrá una competencia externa y, por lo tanto, se eliminará del comercio. Por lo tanto, paga no menos que min −W (EI (A, S)). Dado que todos los demás jugadores J ∈ S tienen una competencia interna, su precio crítico no puede ser menor que su valor máximo de competidor interno (SET), es decir, Max W (RJ (A, S)). Si algún jugador J ∈ S ofrece menos de su competidor interno máximo (SET), entonces no estará en S, pero su competidor interno máximo (SET) lo hará. Como posible Ei (a, s) es ∪j∈Srj (a, s) se puede unir el valor máximo de la competencia externa w (ei (a, s)) por la suma de los valores máximos del resto del resto del resto del resto del resto del resto del resto del resto del resto del restoJugadores en S 8 Dado que el dominio es un dominio de clase de adquisición, podemos usar el Lemma 3.1 24 competencia interna, es decir, j∈S max w (rj (a, s)). Por lo tanto, min −W (ei (a, s)) = - (j∈S max w (rj (a, s))). Como la función F se define como una constante positiva, obtenemos que w (s) = min −w (ei (a, s))+(j∈S max w (rj (a, s)))+f (s) ≥ 0 y, por lo tanto, S está al menos un presupuesto equilibrado. Como cada conjunto de adquisiciones que no se reduce es al menos el presupuesto equilibrado, se deduce que el mecanismo X-External producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisición para cualquier X, el mecanismo X-External con un esquema de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema produce límites en los pagos que cualquier jugador debe hacer al mecanismo.4. Dominios basados en la clase de adquisición La razón principal por la que GTR-1 funciona para los dominios de la clase de adquisiciones es que la posibilidad de cada jugador de ser reducida es monotónica. Mediante la definición de una función divisoria si un jugador i ∈ Sj aumenta su valor, solo puedo aparecer en el conjunto de adquisiciones posterior SJ y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la posibilidad de que me falte la competencia requerida se reduce. Dado que el dominio es un dominio de la clase de adquisición, todos los demás jugadores t = i, t ∈ Sj también tienen más probabilidades de tener competencia ya que los miembros de su clase continúan apareciendo antes de que yo y, por lo tanto, la probabilidad de que me reduzcan disminuya. Dado que por el Teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea ic es monotonicidad. GTR-1 es IC para dominios de clase de adquisición. Sin embargo, para dominios que no son dominios de clase de adquisición, esto no es suficiente, incluso si el dominio es un dominio basado en clase. Aunque, todos los miembros de SJ continúan teniendo la competencia requerida, es posible que haya miembros de SJ que no tengan análogos en SJ que no tienen competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que por Lema 3.1 significa que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios de clase de no adquisición. Nuestro algoritmo modificado requiere una función divisoria especial para mantener la propiedad IC. Aunque nuestra restricción a esta función divisoria especial parece estricta, la función divisoria que utilizamos es una generalización de la forma en que los conjuntos de adquisiciones se eligen en los dominios basados en la clase de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, suponemos que F = 0. La función divisoria para dominios generales se define al observar todas las funciones divisoras posibles. Para cada función divisoria DI y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función divisoria9. Denotamos por D0 la función divisoria que divide a los jugadores en sets s.t.El bienestar que encuentra GTR-1 es máximo10.9 Tenga en cuenta que para cualquier DI en particular esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales 10 en el Apéndice A, mostramos cómo calcular D0 en polinoformalmente, sea el conjunto de todas las funciones divisoriasD. denota el bienestar alcanzado por el mecanismo producido por GTR1 cuando se usa la función divisoria D y un conjunto de ofertas ¯b por Gtr1 (d, ¯b). Denota por d0 (¯b) = argmaxd∈D (gtr1 (d, ¯b)). Para facilitar la presentación, denotamos D0 (¯b) por D0 cuando la dependencia de B es clara del contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias y, por lo tanto, es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2: el mecanismo dado M, la asignación A, y un conjunto x ⊂ n cerrado bajo reemplazo, GTR-2 funciona de la siguiente manera: 1. Calcule la función divisoria D0 como se define anteriormente.2. Use la función divisoria D0 para dividir A en conjuntos de adquisiciones S1 ,..., sk ∈ S. 3. Para cada SJ, a partir del conjunto de adquisiciones de valor más bajo, haga lo siguiente: si para i ∈ Sj ∩ x hay una competencia externa y hay como máximo uno i ∈ SJ que no tiene una competencia interna, entonces mantenga SJ. De lo contrario, reduzca el sj de comercio.4. A todos los jugadores comerciales se les cobra el valor crítico por el comercio. A todos los jugadores que no se comercializan se cobran cero.11 demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR e IC. Lema 4.1. Para cualquier X, el mecanismo X-External con esquema de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Por el Teorema 3.1 es suficiente para demostrar que el mecanismo producido por el algoritmo GTR-2 es una oferta monotónica para cada jugador i. Supongamos que no me redujeron cuando le piden BI, debemos demostrar que no me reduciré al ofertar Bi> Bi. Denote por D1 = D0 (b) La función divisoria utilizada por GTR-2 cuando informé BI y el resto de los jugadores informaron B-I. Denote por D1 = D0 (BI, B-I) La función divisoria utilizada por GTR-2 cuando informé BI y el resto de los jugadores informaron B-I. Denota por ¯d1 (b) una función divisoria máxima que da como resultado que GTR-1 reduzca I al informar BI. Suponga al contrario que GTR-2 redujo I del comercio cuando informé BI y luego GTR1 (D1, (BI, B-I)) = GTR1 (¯D1, B). Dado que d1 ∈ D se deduce que GTR1 (D1, B)> GTR1 (¯d1, B) y, por lo tanto, GTR1 (D1, B)> GTR1 (D1, (BI, B - I)). Sin embargo, de acuerdo con la definición d1 ∈ D, GTR-2 no debería haber reducido el tiempo i mial para los dominios de clase de adquisición. Calcular D0 en el tiempo polinomial para dominios generales es un problema abierto importante.11 En la versión completa, GTR-2 se extiende de tal manera que es suficiente que exista algún tiempo en el que se mantenga el tercer paso. Esa extensión se omite de la versión actual debido a la falta de espacio.25 con la función divisoria D1 y obtuvo un mayor bienestar que GTR1 (D1, B). Por lo tanto, surge una contradicción y GTR-2 no reduce I del comercio cuando informo BI> BI. Lema 4.2. Para cualquier X, el mecanismo X-External con esquema de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba de Lemma 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo X-External con un esquema de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para los dominios de la clase de adquisición en tiempo polinomial, generalmente no se sabe cómo calcular fácilmente D0. La creación de un método general para calcular la función de división necesaria en el tiempo polinomial sigue siendo una pregunta abierta.4.1 Limitando el bienestar de los dominios basados en la clase de adquisición y otros casos de dominios generales Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado presupuestario en dominios arbitrarios, no podemos limitar el bienestar de los casos generales. Sin embargo, podemos limitar el bienestar para el dominio basado en la clase de adquisición y una amplia variedad de casos en dominios generales que incluyen muchos casos estudiados previamente. Definición 4.2. Denote freqk ([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones SJ, K Times y hay k miembros de [i] en SJ. Definición 4.3. Denota por freqk ([i], s) el máximo k s.t.Hay K miembros de [i] en SJ. Es decir, freqk ([i], s) = maxsj ∈S freqk ([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisición sea EC y | EC |ser el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos vincular el bienestar alcanzado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición12: Lemma 4.3. Para los dominios de la clase de adquisición con f = 0, el número de conjuntos de adquisiciones reducidos por GTR-213 es como máximo | EC |veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisiciones que se reduce es una prueba o ([i] ∈A Freak ([i], s)). Sea D una función divisoria arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones SJ no se reducirá si cada i ∈ SJ tiene competencia interna y competencia externa.12 El bienestar logrado por GTR-1 también puede estar limitado para los casos presentados en esta sección. Sin embargo, nos centramos en GTR-2, ya que siempre logra un mejor bienestar.13 o GTR-1 Cada conjunto de adquisiciones que se reduce tiene al menos un jugador que no tiene competencia. Una vez que S se reduce, todos los jugadores de [i] tienen competencia interna. Entonces, reduciendo el número de clases de equivalencia | EC |Conjuntos de adquisiciones cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clases de equivalencia era una, entonces, cada jugador restante T en el conjunto de adquisiciones SK también tiene una competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ SK son una competencia externa para t.Si tenemos jugadores de Freqk ([t], S) de la clase [t] que se redujeron, entonces hay suficiente competencia externa para todos los jugadores en SK. Por lo tanto, es suficiente para reducir los conjuntos de adquisiciones O ([i] ∈C freqk ([i], s)) para garantizar que exista tanto la competencia interna y externa requerida. El siguiente teorema sigue como un corolario inmediato para Lemma 4.3: Teorema 4.2. Dados los mecanismos de dominio basados en la clase de adquisición con conjuntos de adquisiciones H, la eficiencia es al menos una fracción de 1-o (o ([i] ∈C freqk ([i], s)) H) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran los resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. El uso de GTR-2 para subastas homogéneas de doble cara (problema B.1) como máximo 14 se debe reducir un conjunto de adquisiciones. Del mismo modo, para los mercados distribuidos espacialmente sin bordes estratégicos (problema B.3) que usa GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye un comprador y un vendedor. Corolario 4.2. Se reducirá el uso de GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos en la mayoría de un ciclo por componente conectado15. Para las cadenas de suministro (problema B.5), el uso de GTR-2 mejora el resultado de [2, 4] similar al Corolario 4.2. Corolario 4.3. Se reducirá el uso de GTR-2 para las cadenas de suministro en la mayoría de un ciclo por componente conectado16. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para los mercados distribuidos en N nodos con agentes estratégicos y rutas de longitud limitada k (problema B.6) es suficiente para eliminar en la mayoría de los conjuntos de adquisiciones de K ∗ n. Prueba. Sketch: estos crearán al menos K que abarca árboles, por lo tanto, podemos cubrir desarticulado cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de la reducción de los conjuntos de adquisiciones N2. Proporcionamos resultados para dos casos especiales de CA de doble cara con jugadores de valor único (problema B.8).14 Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no tradeador que es la competencia externa necesaria.15 Similar a las subastas de doble cara, a veces habrá suficiente competencia sin una reducción.16 Similar a las subastas de doble cara, a veces habrá suficiente competencia sin una reducción.26 Corolario 4.5.Si hay como mayoría diferentes tipos de conjuntos de adquisiciones, es suficiente para eliminar los conjuntos de adquisiciones. Corolario 4.6. Si hay k tipos de bienes y cada conjunto de adquisiciones consiste en como máximo uno de cada tipo que es suficiente para eliminar en la mayoría de los conjuntos de adquisiciones.5. Conclusiones y trabajo futuro En este documento presentamos un procedimiento de solución general llamado Reducción del Comercio Generalizado (GTR). GTR acepta un mecanismo IR e IC como mecanismos de entrada y salida que son IR, IC y BB. Los mecanismos de salida logran el bienestar que es casi óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes, como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos, como mercados distribuidos con bordes de transporte estratégico y caminos limitados, subastas combinatorias de doble cara con conjuntos de adquisiciones de tamaño limitado,y subastas combinatorias de doblaje con un número limitado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación de bienestar, tanto en dominios de clase como en los dominios de clase que no son dominios de clase de adquisición, es una pregunta abierta importante e interesante. También dejamos abierto la cuestión de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar que se puede lograr en un mecanismo IR, IC y BB. El procedimiento GTR genera un mecanismo que depende de un conjunto x ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos et al por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud a los útiles comentarios de los revisores anónimos.6. Referencias [1] A. Archer y E. Tardos. Mecanismos de ruta frugal. Simposio sobre algoritmos discretos, Actas del decimotercer Simposio ACM-SIAM anual sobre algoritmos discretos, 2002.[2] M. Babaioff y N. Nisan. Subastas concurrentes en la cadena de suministro. Revista de Investigación de Inteligencia Artificial, 2004.[3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un mercado distribuido espacialmente. En Actas de la 5ª Conferencia de ACM sobre Comercio Electrónico, 2004.[4] M. Babaioff y W. E. Walsh. Subastas de incentivos compatibles con el presupuesto, pero altamente eficientes para la formación de la cadena de suministro. En Actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003.[5] Y. Bartal, R. Gonen y P. la Mura. Mecanismos de rango de negociación: explorar los límites de los mercados eficientes sinceros. EC 04: Actas de la 5ª Conferencia ACM sobre Comercio Electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Networks con agentes de fijación de precios. En Actas de la 8ª Conferencia de ACM sobre Comercio Electrónico, 2007.[7] Cavallo R. toma de decisiones óptimas con residuos mínimos: redistribución a prueba de estrategias de los pagos de VCG. En Proc.5to int. Conf.en Auton. Agentes y sistemas de múltiples agentes (AAMAS06).[8] E. H. Clarke Precio multipart de bienes públicos. En Journal Public Choice 1971, vol.2, págs. 17-33.[9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de subasta de doble competencia de agentes. Management Science, Vol 52 (8), 2006.[10] T. Groves Incentivos en equipos. En Journal Econometrica 1973, vol.41, págs. 617-631.[11] D. Lehmann, L. I. Ocallaghan e Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol.49 (5), pp. 577-602.[12] Leonard H. Poner la obtención de preferencias honestas para la asignación de individuos a posiciones. Journal of Political Econ, 1983.[13] McAfee R. P. Una subasta de doble estrategia dominante. Journal of Economic Theory, Vol 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de aproximación veraz para subastas combinatorias restringidas. Procedimiento de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Journal of Economic Theory, Vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001.[17] W. Vickrey Counterspeculación, subastas y licitaciones selladas competitivas. En Journal of Finance 1961, vol.16, pp. 8-37. APÉNDICE A. Calculando la función de división óptima en los dominios de la clase de adquisición en el tiempo polinomial en esta sección mostramos cómo calcular la función de división óptima para los dominios de la clase de adquisición en el tiempo polinomial. Primero definimos una función divisoria especial D0 que es fácil de calcular: definimos la función divisoria D0 de manera recursiva de la siguiente manera: en la etapa J, D0 divide a los jugadores comerciales en dos conjuntos AJ y AJ S.T.• AJ es un conjunto de adquisiciones • AJ se puede dividir en una unión disjunta de conjuntos de adquisiciones.• AJ tiene un valor mínimo de todas las particiones posibles. Definir SJ = AJ e invocar recursivamente D0 y AJ hasta AJ = ∅. Ahora demostramos que D0 es la función divisoria requerida. Lema A.1. Para dominios de clase de adquisición D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisición, ya que cada conjunto de adquisiciones reducido se fija el conjunto de jugadores que logran la competencia (interna o externa).27 Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función divisoria D. Dado que el objetivo es optimizar el bienestar al reducir los conjuntos de adquisiciones con el menor valor que podemos optimizar el bienestar. Esto se logra por D0. B. Problemas y ejemplos de integridad que presentamos en esta sección las definiciones formales de los problemas que usamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: hay M vendedores cada uno de los cuales tienen un solo bien (todos los bienes son idénticos) y n compradores, cada uno de los cuales está interesado en recibir un bien. Denotamos el conjunto de vendedores por S y el conjunto de compradores por B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor VI para el bien. En este modelo, un conjunto de adquisiciones consta de un solo comprador y un solo vendedor, es decir, | S |= 2. El valor de un conjunto de adquisiciones es w (s) = vj - vi donde j ∈ B e i ∈ S, es decir, la ganancia del comercio. Si los conjuntos de adquisiciones se crean coincidiendo con el comprador de valor más alto con el vendedor de valor más bajo, entonces [13] s mecanismo de reducción de comercio determinista17 reduce el conjunto de adquisiciones de valor más bajo. Un modelo relacionado es el modelo de costos relacionados [9]. Problema B.2. Los costos relacionados con el par: una subasta de doble cara b.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado f (i, j) ≥ 0 para comerciar. F (i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar.[9] define dos mecanismos equilibrados del presupuesto para este caso. Uno de los mecanismos de [9] S tiene el conjunto de compradores B como el conjunto X para el mecanismo X-Extern y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-External. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un gráfico que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: hay un gráfico g = (v, e) de modo que cada v ∈ V tiene un conjunto de vendedores SV y un conjunto de compradores BV. Cada borde e ∈ E tiene un costo asociado, que es el costo de transportar una sola unidad de bien a lo largo del borde. Los bordes no son estratégicos, pero todos los jugadores son estratégicos.[3] Define un mecanismo equilibrado presupuestario para este caso. Nuestro documento mejora el resultado [3]. Otro modelo gráfico es el modelo definido en [6]. Problema B.4. Redes comerciales: dado un gráfico y compradores y vendedores que están situados en nodos del gráfico. Todo el comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones son del formulario (comprador, vendedor, comerciante) donde los posibles conjuntos de este formulario están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede verse como una generalización de [6] en la que los conjuntos de adquisiciones consisten en la forma (productor, consumidor, comerciante1, ..., Traderk).17 También es posible aleatorizar la reducción de los conjuntos de adquisiciones para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y omitidos. Problema B.5. Cadena de suministro: hay un conjunto de agentes y un conjunto de bienes y un gráfico g = (v, e) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para obtener un solo bien. El tipo de jugador productor puede producir productos de la nada, el consumidor tiene una valoración y es necesaria una cadena completa de comerciantes intermedios para crear un conjunto de adquisiciones viable.[2, 4] Considere una tecnología de fabricación única en la que el gráfico que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisición. También consideramos varios problemas que no son dominios de clase de adquisición y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un gráfico g = (v, e) de modo que cada v ∈ V tiene un conjunto de vendedores SV y un conjunto de compradores BV. Cada borde e ∈ E tiene un costo asociado, que es el costo de transportar una sola unidad de bien a lo largo del borde. Cada comprador, vendedor y borde tiene un valor para el comercio, es decir, todas las entidades son estratégicas.[2, 4] dejó abierto la cuestión de los mecanismos de equilibrio presupuestario para las cadenas de suministro donde no hay tecnología de fabricación única. Es fácil ver que este problema no es un dominio de clase de adquisición. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: un gráfico g = (v, e) donde los bordes son jugadores estratégicos con costos y el objetivo es encontrar una ruta mínima de transporte de costos entre un par de nodos privilegiados, objetivo ∈ V. Se mostró en [1] que la asignación eficiente puede tener un déficit presupuestario que sea lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisición y [1] dejó la cuestión de un mecanismo equilibrado presupuestario abierto. Otro mecanismo de dominio basado en la clase no de adquisición es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: existe un conjunto de vendedores, cada uno vende un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de una sola mentalidad, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples mentes, cada comprador puede tener múltiples paquetes con valoración positiva, pero todos los valores son los mismos. En ambos casos, asumimos la eliminación gratuita para que todos los paquetes que contengan el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no son dominios de clase. Problema B.9. Subasta combinatoria (CA) de doble cara con jugadores generales de múltiples mentalidades: igual que B.8 pero cada comprador puede tener múltiples paquetes con una valoración positiva que no son necesariamente las mismas.18 Abusamos de la notación e identificamos al vendedor con el bien.28 C. Comparación de diferentes opciones de x La elección de X puede tener un gran impacto en el bienestar (e ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debe elegir el conjunto X. Como se requiere el mecanismo X-External para mantener claramente la elección de X no puede depender del valor de los jugadores, ya que de lo contrario el mecanismo reducido no será sincero. En esta sección motivamos la elección de pequeños conjuntos X para dominios de clase de adquisición y damos intuición de que también puede ser el caso de otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos es B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectados (incomparables) x = {compradores} e y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo X -External generará una ganancia del comercio de 0 y el mecanismo y el mecanismo y el mecanismo interno producirá una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los vendedores son 2, 3, el mecanismo X -Exterlal producirá una ganancia del comercio de 98 y el mecanismo y -external producirá una ganancia del comercio de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X -EXTERNAL Y EL EXTERNAL Y está ilimitado, aunque como se muestra arriba de la fracción que se reduce, se puede unir y, por lo tanto, la relación multiplicativa entre ellos puede estar unida (en función del númerode oficios). En el lado de los ingresos ni siquiera podemos limitar la relación como se ve en el siguiente ejemplo: Ejemplo c.2. Considere K Compradores con Valores 100 y K+ 1 vendedores con valor 1. Si x = {compradores}, entonces no hay necesidad de reducir ningún comercio y todos los compradores reciben el bien y pagan 1. K + 1 de los vendedores venden y cada uno de ellos recibe 1. Esto produce un ingreso neto de cero. Si y = {vendedores}, ¡uno debe reducir un intercambio! Esto significa que todos los compradores pagan 100, mientras que todos los vendedores aún reciben 1. Los ingresos son entonces 99k. Del mismo modo, se puede construir un ejemplo que produce ingresos mucho más altos para el mecanismo X -EXTERNAL en comparación con el mecanismo Y -EXTERNISM. Los ejemplos anteriores se refieren a los conjuntos X e Y que no se cruzan y son incomparables. El siguiente teorema compara los mecanismos X -External e Y -External para los dominios de la clase de adquisición donde X es un subconjunto de y. Teorema C.1. Para dominios de clase de adquisición, si x ⊂ y y para cualquier s ∈ S, S ∩ x ∩ y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y, por lo tanto, GTR-2) es al menos la del mecanismo y-External.2. Cualquier jugador ganador que gane tanto en los mecanismos X-External e Y-External que pague no menos en el Y-Exterlal que en la X-External y, por lo tanto.. Prueba.1. Para cualquier función divisoria D si hay un conjunto de adquisiciones SJ que se reduce en el mecanismo X-External, hay dos posibles razones: (a) SJ carece de competencia externa en el mecanismo X-External. En este caso, SJ carece de competencia externa en el mecanismo interno.(b) SJ tiene todas las competiciones externas requeridas en X-External. En este caso, SJ ha requerido competencias internas requeridas en Y -Exter por Lemma 3.1, pero podría carecer de una competencia externa para SJ ∪ {y \\ x} y reducirse, 2. Esto se deduce del hecho de que para cualquier orden d, cualquier conjunto de adquisiciones que se reduzca en el mecanismo X -External también se reduce en el mecanismo y -Externo. Por lo tanto, el valor crítico no es menos en el mecanismo yexternal que el mecanismo X-External. Observación c.1. Para dos conjuntos x, y es fácil construir un ejemplo en el que los mecanismos X -Exter e -Y -External reduzcan los mismos conjuntos de adquisiciones para que la desigualdad sea débil. El teorema C.1 muestra una desigualdad en el bienestar, así como para los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que, en general, queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X.29",
    "original_sentences": [
        "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
        "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
        "Research Yahoo!",
        "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
        "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
        "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
        "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
        "We bound the welfare achieved by our procedure for a wide range of domains.",
        "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
        "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
        "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
        "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
        "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
        "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
        "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
        "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
        "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
        "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
        "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
        "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
        "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
        "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
        "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
        "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
        "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
        "The solution procedure called the Generalized Trade Reduction (GTR).",
        "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
        "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
        "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
        "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
        "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
        "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
        "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
        "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
        "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
        "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
        "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
        "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
        "We define class based domain and procurement class based domains.",
        "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
        "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
        "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
        "For some classes of mechanisms we bound the competitive approximation of welfare.",
        "In our model there are N players divided into sets of trade.",
        "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
        "A procurement set s is the smallest set of players that is required for trade to occur.",
        "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
        "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
        "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
        "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
        "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
        "The set Vi ⊆ R is the set of all possible valuations vi.",
        "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
        "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
        "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
        "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
        "Let the size of a procurement set s be denoted as |s|.",
        "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
        "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
        "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
        "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
        "In the case where F is identically zero, then W(A) = i∈A vi.",
        "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
        "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
        "We say that the allocation A is efficient if there is no other allocation with a higher value.",
        "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
        "We assume w.l.o.g. that there are no two allocations with the same value3 .",
        "A mechanism M defines an allocation and payment rules, M = (R, P).",
        "A payment rule P decides is payment pi where P is a function P : V → RN .",
        "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
        "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
        "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
        "Let b ∈ V be the bids of all players.",
        "An allocation rule R decides the allocation according to the reported values b ∈ V .",
        "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
        "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
        "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
        "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
        "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
        "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
        "Definition 2.2.",
        "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
        "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
        "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
        "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
        "The right conditions that need to be met are conditions of competition among the players in the given problem.",
        "The following definitions leads us to the competition conditions we are looking for.",
        "Definition 2.3.",
        "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
        "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
        "Note that a set can replace a single player.",
        "Furthermore, this relationship is transitive but not necessarily symmetric.",
        "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
        "Definition 2.4.",
        "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
        "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
        "Definition 2.5.",
        "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
        "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
        "In case of ties, these can be broken by using the identities of the players4 .",
        "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
        "Definition 2.6.",
        "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
        "The set X5 denotes this competition and is closed under replacement.",
        "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
        "Definition 2.7.",
        "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
        "Each player i ∈ X has an external competition. 2.",
        "Each player i /∈ X has an internal competition. 3.",
        "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
        "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
        "In appendix C we give an example where two possible choices of X yield greatly different results.",
        "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
        "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
        "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
        "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
        "The algorithms order the procurements sets defined by D in order of increasing value.",
        "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
        "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
        "The reduction of procurement sets will also be referred to as a trade reduction.",
        "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
        "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
        "The two generalized trade reduction algorithms presented accept problems in different domains.",
        "The formal domain definitions follow: Definition 2.9.",
        "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
        "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
        "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
        "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
        "Definition 2.10.",
        "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
        "Example 2.1.",
        "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
        "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
        "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
        "In this case, the buyer is a class and each set of sellers of the same good is a class.",
        "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
        "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
        "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
        "The next sections present two algorithms GTR-1 and GTR2.",
        "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
        "We prove the GTR-2s properties with specific dividing function D0.",
        "The function will be defined in section 4.",
        "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
        "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
        "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
        "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
        "Example 3.1.",
        "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
        "In this domain there are two classes.",
        "The class of buyers and the class of sellers.",
        "Each procurement set consists of a single buyer and a single seller.",
        "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
        "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
        "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
        "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
        "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
        "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
        "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
        "In this context each seller sells a single good and each buyer wants a set of goods.",
        "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
        "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
        "A definition of the mechanism follows: Definition 3.1.",
        "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
        "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
        "Order the procurement sets by increasing value. 3.",
        "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
        "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
        "All trading players are charged the critical value for trading.",
        "All non trading players are charged nothing.",
        "Remark 3.1.",
        "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
        "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
        "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
        "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
        "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
        "Theorem 3.1.",
        "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
        "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
        "Observation 3.1.",
        "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
        "Then M1 and M2 must have the same payment rule.",
        "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
        "Lemma 3.1.",
        "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
        "Proof.",
        "This follows from the definition of procurement class domains.",
        "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
        "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
        "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
        "It is possible to define an X that does not intersect every possible procurement set.",
        "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
        "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
        "Proof.",
        "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
        "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
        "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
        "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
        "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
        "So the likelihood of competition can only increase if i appears in later procurement sets.",
        "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
        "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
        "Finally we prove BB: Lemma 3.3.",
        "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
        "Proof.",
        "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
        "Let s ∈ S be a procurement set that is not reduced.",
        "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
        "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
        "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
        "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
        "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
        "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
        "Thus i pays no less than min −W(Ei(A, s)).",
        "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
        "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
        "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
        "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
        "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
        "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
        "The above two lemmas yield the following theorem: Theorem 3.2.",
        "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
        "Remark 3.2.",
        "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
        "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
        "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
        "Therefore, the chance of i lacking the requisite competition is decreased.",
        "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
        "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
        "GTR-1 is IC for procurement-class domains.",
        "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
        "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
        "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
        "We therefore define a different algorithm for non procurement class domains.",
        "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
        "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
        "For ease of presentation in this section we assume that F = 0.",
        "The dividing function for general domains is defined by looking at all possible dividing functions.",
        "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
        "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
        "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
        "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
        "Remark 4.1.",
        "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
        "The second generalized trade reduction algorithm GTR-2 follows.",
        "Definition 4.1.",
        "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
        "Calculate the dividing function D0 as defined above. 2.",
        "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
        "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
        "Otherwise, reduce the trade sj. 4.",
        "All trading players are charged the critical value for trading.",
        "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
        "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
        "Lemma 4.1.",
        "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
        "Proof.",
        "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
        "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
        "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
        "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
        "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
        "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
        "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
        "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
        "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
        "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
        "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
        "Lemma 4.2.",
        "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
        "Proof.",
        "This proof is similar to the proof of lemma 3.3.",
        "Combining the two lemmas above we get: Theorem 4.1.",
        "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
        "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
        "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
        "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
        "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
        "Definition 4.2.",
        "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
        "Definition 4.3.",
        "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
        "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
        "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
        "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
        "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
        "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
        "Let D be an arbitrary dividing function.",
        "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
        "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
        "Once s is reduced all players of [i] have internal competition.",
        "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
        "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
        "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
        "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
        "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
        "The following corollaries are direct results of theorem 4.2.",
        "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
        "Corollary 4.1.",
        "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
        "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
        "Corollary 4.2.",
        "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
        "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
        "Corollary 4.3.",
        "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
        "The following corollary solves the open problem at [3].",
        "Corollary 4.4.",
        "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
        "Proof.",
        "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
        "This improves the naive algorithm of reducing n2 procurement sets.",
        "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
        "Corollary 4.6.",
        "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
        "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
        "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
        "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
        "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
        "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
        "We also leave open the question of upper bounds for the quality of approximation of welfare.",
        "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
        "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
        "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
        "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
        "REFERENCES [1] A. Archer and E. Tardos.",
        "Frugal path mechanisms.",
        "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
        "Concurrent Auctions Across the Supply Chain.",
        "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
        "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
        "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
        "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
        "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
        "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
        "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
        "In Proc. 5th Int.",
        "Conf. on Auton.",
        "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
        "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
        "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
        "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
        "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
        "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
        "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
        "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
        "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
        "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
        "Efficient Mechanisms for Bilateral Trading.",
        "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
        "Efficient Auction Mechanisms for Supply Chain Procurement.",
        "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
        "In Journal of Finance 1961, vol. 16, pp. 8-37.",
        "APPENDIX A.",
        "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
        "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
        "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
        "We now prove that D0 is the required dividing function.",
        "Lemma A.1.",
        "For procurement class domains D0 = D0.",
        "Proof.",
        "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
        "This is achieved by D0.",
        "B.",
        "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
        "The first problem that we define is the double-sided auction with homogeneous goods.",
        "Problem B.1.",
        "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
        "We denote the set of sellers by S and the set of buyers by B.",
        "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
        "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
        "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
        "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
        "A related model is the pair related costs [9] model.",
        "Problem B.2.",
        "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
        "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
        "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
        "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
        "Problem B.3.",
        "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
        "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
        "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
        "Our paper improves on [3] result.",
        "Another graph model is the model defined in [6].",
        "Problem B.4.",
        "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
        "All trade must pass through a trader.",
        "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
        "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
        "Problem B.5.",
        "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
        "Agents can require an input of multiple quantities of goods in order to output a single good.",
        "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
        "All of the above problems are procurement-class domains.",
        "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
        "An open problem raised in [3] is the SDM model in which edges are strategic.",
        "Problem B.6.",
        "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
        "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
        "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
        "It is easy to see that this problem is not a procurement class domain.",
        "Another interesting problem is transport networks.",
        "Problem B.7.",
        "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
        "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
        "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
        "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
        "Problem B.8.",
        "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
        "There also exists a set B of buyers each interested in bundles of 2S18 .",
        "There are two variants of this problem.",
        "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
        "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
        "We also consider problems that are non class domains.",
        "Problem B.9.",
        "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
        "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
        "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
        "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
        "Similar examples can be constructed for the other problems defined is B.",
        "The following example shows an effect on the welfare.",
        "Example C.1.",
        "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
        "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
        "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
        "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
        "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
        "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
        "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
        "This yields a net revenue of zero.",
        "If Y = {sellers} then one must reduce a trade!",
        "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
        "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
        "The above examples refer to sets X and Y which do not intersect and are incomparable.",
        "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
        "Theorem C.1.",
        "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
        "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
        "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
        "Proof. 1.",
        "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
        "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
        "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
        "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
        "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
        "Remark C.1.",
        "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
        "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
        "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
    ],
    "error_count": 0,
    "keys": {
        "trade reduction": {
            "translated_key": "reducción del comercio",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized <br>trade reduction</br> Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized <br>trade reduction</br> (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized <br>trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no <br>trade reduction</br> at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized <br>trade reduction</br> algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized <br>trade reduction</br> algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized <br>trade reduction</br> algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized <br>trade reduction</br> algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a <br>trade reduction</br>.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized <br>trade reduction</br> algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized <br>trade reduction</br> algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized <br>trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic <br>trade reduction</br> mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Mecanismos generalizados de \"reducción del comercio\" Mira Gonen Departamento de Ingeniería Eléctrica.",
                "En este artículo, proporcionamos un procedimiento llamado \"Reducción comercial\" generalizada (GTR) para jugadores de un solo valor, que dio un mecanismo IR e IC, genera un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
                "El procedimiento de solución llamó la \"reducción comercial\" generalizada (GTR).",
                "Para las subastas homogéneas de DoubleDid, el procedimiento de la solución GTR mejora la conocida solución [13] al permitir algunos casos de no \"reducción comercial\" en absoluto.",
                "Denotamos por CI el precio de valor crítico calculado para el jugador i.2.2 Competiciones y dominios En este documento presentamos dos algoritmos generalizados de \"reducción del comercio\".",
                "Nuestros dos algoritmos generalizados de \"reducción del comercio\" asegurarán que para cualquier asignación tengamos los tipos de competencia deseados.",
                "Los dos algoritmos generalizados de \"reducción comercial\" utilizan una función divisoria D que divide la asignación A en conjuntos de adquisiciones disjuntas.",
                "Los algoritmos generalizados de \"reducción comercial\" pasan por alto los conjuntos de adquisiciones en orden (de lo más pequeño a lo más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el set.",
                "La reducción de los conjuntos de adquisiciones también se denominará una \"reducción del comercio\".",
                "Los dos algoritmos generalizados de \"reducción del comercio\" presentados aceptan problemas en diferentes dominios.",
                "El segundo algoritmo generalizado de \"reducción comercial\" GTR-2 sigue.",
                "Conclusiones y trabajo futuro En este documento presentamos un procedimiento de solución general llamado \"Reducción comercial\" generalizada (GTR).",
                "Si los conjuntos de adquisiciones se crean coincidiendo con el comprador de valor más alto con el vendedor de valor más bajo, entonces [13] s determinista de \"reducción comercial\" del mecanismo17 reduce el conjunto de adquisiciones de valor más bajo."
            ],
            "translated_text": "",
            "candidates": [
                "Reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "Reducción comercial",
                "reducción del comercio",
                "reducción comercial",
                "reducción del comercio",
                "reducción comercial",
                "reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "reducción comercial",
                "reducción del comercio",
                "reducción comercial",
                "reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "reducción del comercio",
                "reducción comercial",
                "reducción del comercio",
                "Reducción comercial",
                "reducción del comercio",
                "reducción comercial"
            ],
            "error": []
        },
        "budget balance": {
            "translated_key": "Balance presupuestario",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and <br>budget balance</br> (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and <br>budget balance</br> (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve <br>budget balance</br>.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve <br>budget balance</br> in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of <br>budget balance</br> have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab Mit Cambridge MA, 02149 Elan@mit.edu Resumen Al diseñar un mecanismo hay varias propiedades deseables para mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR)y \"Balance presupuestario\" (BB).",
                "Algunos de los más importantes son la racionalidad individual (IR), para que valga la pena que todos los jugadores participen, compatibilidad con incentivos (IC), para dar incentivos a los jugadores para informar su verdadero valor al mecanismo y el \"equilibrio presupuestario\" (BB)- No ejecutar el mecanismo en una pérdida.",
                "Por ejemplo, en el importante dominio de las subastas de doblaje combinatorias no hay un resultado conocido que limite la pérdida de bienestar social necesario para lograr el \"equilibrio presupuestario\".",
                "Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el \"equilibrio presupuestario\" en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos?",
                "También consideramos varios problemas que no son dominios de clase de adquisición y, en general, las cuestiones de \"saldo presupuestario\" se han dejado como problemas abiertos."
            ],
            "translated_text": "",
            "candidates": [
                "Balance del presupuesto",
                "Balance presupuestario",
                "Balance del presupuesto",
                "equilibrio presupuestario",
                "Balance del presupuesto",
                "equilibrio presupuestario",
                "Balance del presupuesto",
                "equilibrio presupuestario",
                "Balance del presupuesto",
                "saldo presupuestario"
            ],
            "error": []
        },
        "internal competition": {
            "translated_key": "competencia interna",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an <br>internal competition</br> for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an <br>internal competition</br>. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is <br>internal competition</br> then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has <br>internal competition</br>.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required <br>internal competition</br>.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have <br>internal competition</br>.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have <br>internal competition</br> their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 <br>internal competition</br> i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an <br>internal competition</br> then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both <br>internal competition</br> and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have <br>internal competition</br>.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with <br>internal competition</br>.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Para cualquier asignación A, el conjunto de adquisiciones S ⊆ A, y cualquier I ∈ S Decimos Ri (a, S) es una \"competencia interna\" para I con respecto a A y S, si Ri (a, S) ⊆ n \\ aes un conjunto de reemplazo para i s.t.",
                "Cada jugador i /∈ X tiene una \"competencia interna\".3.",
                "Para cada SJ, a partir del conjunto de adquisiciones de valor más bajo: si para cada i ∈ Sj ∩ x hay competencia externa y cada i ∈ Sj \\ x hay \"competencia interna\", entonces 23 mantienen sj.",
                "Para los dominios de la clase de adquisición si existe un conjunto de adquisiciones SJ S.T.i ∈ Sj y i tiene competencia externa que todas t = i t ∈ Sj, t tiene \"competencia interna\".",
                "Dado que el dominio es un dominio de clase de adquisición existe una función de biyección F entre SJ y SJ.F define la \"competencia interna\" requerida.",
                "Suponga W.L.O.G.8 que yo es el único jugador con competencia externa en S y todos los demás jugadores j = i, j ∈ S tienen \"competencia interna\".",
                "Dado que todos los demás jugadores J ∈ S tienen \"competencia interna\", su precio crítico no puede ser menor que su valor máximo de la competencia interna (SET), es decir, Max W (RJ (A, S)).",
                "Como posible Ei (a, s) es ∪j∈Srj (a, s) se puede unir el valor máximo de la competencia externa w (ei (a, s)) por la suma de los valores máximos del resto del resto del resto del resto del resto del resto del resto del resto del resto del restoJugadores en S 8 Dado que el dominio es un dominio de clase de adquisición, podemos usar Lemma 3.1 24 \"Competencia interna\", es decir, j∈S Max W (RJ (A, S)).",
                "Para cada SJ, a partir del conjunto de adquisiciones de valor más bajo, haga lo siguiente: si para i ∈ Sj ∩ x hay una competencia externa y hay como máximo uno i ∈ SJ que no tiene una \"competencia interna\", entonces mantenga SJ.",
                "Observamos que, por definición, cualquier conjunto de adquisiciones SJ no se reducirá si cada i ∈ SJ tiene \"competencia interna\" y competencia externa.12 El bienestar logrado por GTR-1 también puede estar limitado para los casos presentados en esta sección.",
                "Una vez que S se reduce, todos los jugadores de [i] tienen \"competencia interna\".",
                "Entonces, reduciendo el número de clases de equivalencia | EC |Conjuntos de adquisiciones cubrimos a todos los jugadores restantes con \"competencia interna\"."
            ],
            "translated_text": "",
            "candidates": [
                "competencia interna",
                "competencia interna",
                "Competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "Competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna",
                "competencia interna"
            ],
            "error": []
        },
        "external competition": {
            "translated_key": "competencia externa",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and <br>external competition</br>.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an <br>external competition</br> for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with <br>external competition</br> Ei(A, s), there exists exactly one set representing the maximally valued <br>external competition</br>.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an <br>external competition</br>. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is <br>external competition</br> and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has <br>external competition</br> than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has <br>external competition</br>, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an <br>external competition</br>.",
                "Assume w.l.o.g.8 that i is the only player with <br>external competition</br> in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of <br>external competition</br> 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have <br>external competition</br> and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is <br>external competition</br> W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an <br>external competition</br> and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and <br>external competition</br>. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have <br>external competition</br> as all the internal competitors of players ¯t = t, ¯t ∈ sk are an <br>external competition</br> for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and <br>external competition</br> exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite <br>external competition</br>. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks <br>external competition</br> in the X-external mechanism.",
                "In this case sj lacks <br>external competition</br> in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some <br>external competition</br> for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Las definiciones anteriores se basan en los diferentes poderes de competencia de los jugadores en un mecanismos llamados \"competencia interna y externa\".",
                "Para cualquier asignación A y Conjunto de adquisiciones S ⊆ A y cualquier I ∈ S, decimos que Ei (A, S) es una \"competencia externa\" para I con respecto a A y S, si Ei (A, S) ⊆ N \\ Aes un set s.t., t = {i} ∪ ei (a, s) ∈ S y w (t) ≥ 0.",
                "Entonces, para cualquier asignación A, Set S y Jugador I con \"Competencia Externa\" EI (A, S), existe exactamente un conjunto que representa la \"competencia externa\" valorada al máximo.",
                "Cada jugador i ∈ X tiene una \"competencia externa\".2.",
                "Para cada SJ, a partir del conjunto de adquisiciones de valor más bajo: si para cada i ∈ Sj ∩ x hay \"competencia externa\" y cada i ∈ Sj \\ x hay competencia interna, entonces 23 mantienen sj.",
                "Para los dominios de la clase de adquisición si existe un conjunto de adquisiciones SJ S.T.i ∈ Sj y i tiene \"competencia externa\" que todas t = i t ∈ Sj, t tiene competencia interna.",
                "Supongamos que tengo \"competencia externa\", entonces existe un conjunto de jugadores ei (a, s) tal que {i} ∪ ei (a, s) ∈ S. Denotemos por sj = {i} ∪ ei (a, s).",
                "Según I ∈ S ∩ X, de acuerdo con la definición de X-Exterina EXTERNAL 2.7 y el algoritmo GTR-1 3.1 I tiene una \"competencia externa\".",
                "Suponga W.L.O.G.8 que yo es el único jugador con \"competencia externa\" en S y todos los demás jugadores j = i, j ∈ S tienen competencia interna.",
                "De acuerdo con la definición de \"competencia externa\" 2.5, existe un conjunto ei (a, s) ⊂ n \\ a tal que i ∪ ei (a, s) ∈ S y w (i ∪ ei (a, s)) ≥0.",
                "Según la definición del esquema de precios de valor crítico 2.2, significa que si el jugador I ofrece menos que −W (EI (A, S)), no tendrá \"competencia externa\" y, por lo tanto, se eliminará de la operación.",
                "Como posible EI (A, S) es ∪j∈Srj (a, s) se puede unir el valor máximo de IS \"competencia externa\" w (ei (a, s)) por la suma de los valores máximos del restoDe los jugadores en S 8, ya que el dominio es un dominio de clase de adquisición, podemos usar el Lemma 3.1 24 competencia interna, es decir, j∈S max w (rj (a, s)).",
                "Para cada SJ, a partir del conjunto de adquisiciones de valor más bajo, haga lo siguiente: si para i ∈ Sj ∩ x hay una \"competencia externa\" y hay como máximo uno I ∈ SJ que no tiene una competencia interna, entonces mantenga SJ.",
                "Observamos que, por definición, cualquier conjunto de adquisiciones SJ no se reducirá si cada i ∈ SJ tiene tanto competencia interna como \"competencia externa\".12 El bienestar logrado por GTR-1 también puede estar limitado para los casos presentados en esta sección.",
                "Si la frecuencia máxima de cada clases de equivalencia era una, entonces, cada jugador restante T en el conjunto de adquisiciones SK también tiene \"competencia externa\", ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ Sk son una \"competencia externa\" para t.Si tenemos jugadores de Freqk ([t], S) de la clase [t] que se redujeron, entonces hay suficiente competencia externa para todos los jugadores en SK.",
                "Por lo tanto, es suficiente para reducir los conjuntos de adquisiciones O ([i] ∈C freqk ([i], s)) para garantizar que exista tanto la \"competencia interna y externa\" requerida.",
                "Proporcionamos resultados para dos casos especiales de CA de doble cara con jugadores de valor único (problema B.8).14 Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no tradeador que es la \"competencia externa\" necesaria.15 Similar a las subastas de doble cara, a veces habrá suficiente competencia sin una reducción.16 Similar a las subastas de doble cara, a veces habrá suficiente competencia sin una reducción.26 Corolario 4.5.Si hay como mayoría diferentes tipos de conjuntos de adquisiciones, es suficiente para eliminar los conjuntos de adquisiciones.",
                "Para cualquier función divisoria D si hay un conjunto de adquisiciones SJ que se reduce en el mecanismo X-External, hay dos posibles razones: (a) SJ carece de \"competencia externa\" en el mecanismo X-External.",
                "En este caso, SJ carece de \"competencia externa\" en el mecanismo interno.(b) SJ tiene todas las competiciones externas requeridas en X-External.",
                "En este caso, SJ ha requerido competiciones internas requeridas en Y -external por Lemma 3.1, pero podría carecer de una \"competencia externa\" para SJ ∪ {y \\ x} y ser reducido, 2."
            ],
            "translated_text": "",
            "candidates": [
                "competencia externa",
                "competencia interna y externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "Competencia Externa",
                "competencia externa",
                "Competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "Competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia interna y externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "competencia externa",
                "Competencia externa",
                "competencia externa"
            ],
            "error": []
        },
        "efficiency": {
            "translated_key": "eficiencia",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as <br>efficiency</br> in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The <br>efficiency</br> of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the <br>efficiency</br> is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The <br>efficiency</br> of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Además, hay varios dominios en los que la cuestión de cómo diseñar un mecanismo IR, IC y BB que aproveche el bienestar social de aprox1 también se denomina \"eficiencia\" en la literatura económica.2 Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B 20 Images El bienestar social sigue siendo un problema abierto.",
                "La \"eficiencia\" de la asignación ˆA es w (ˆa) w (a), donde a es una asignación de valor máximo.",
                "Dados los mecanismos de dominio basados en la clase de adquisición con conjuntos de adquisiciones H, la \"eficiencia\" es al menos una fracción de 1-o (o ([i] ∈EC freqk ([i], s)) H) H) de bienestar óptimo.",
                "La \"eficiencia\" del mecanismo externo X en GTR-1 (y, por lo tanto, GTR-2) es al menos la del mecanismo y-External.2."
            ],
            "translated_text": "",
            "candidates": [
                "eficiencia",
                "eficiencia",
                "eficiencia",
                "eficiencia",
                "eficiencia",
                "eficiencia",
                "Eficiencia",
                "eficiencia"
            ],
            "error": []
        },
        "powers of players": {
            "translated_key": "poderes de jugadores",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition <br>powers of players</br> in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Las definiciones anteriores se basan en los diferentes \"poderes de jugadores\" de la competencia en los mecanismos llamados competencia interna y externa."
            ],
            "translated_text": "",
            "candidates": [
                "poderes de jugadores",
                "poderes de jugadores"
            ],
            "error": []
        },
        "player power": {
            "translated_key": "poder del jugador",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "generalized trade reduction": {
            "translated_key": "Reducción del comercio generalizado",
            "is_in_text": true,
            "original_annotated_sentences": [
                "<br>generalized trade reduction</br> Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a <br>generalized trade reduction</br> (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the <br>generalized trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two <br>generalized trade reduction</br> algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two <br>generalized trade reduction</br> algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two <br>generalized trade reduction</br> algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The <br>generalized trade reduction</br> algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two <br>generalized trade reduction</br> algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second <br>generalized trade reduction</br> algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the <br>generalized trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Mecanismos de \"Reducción comercial generalizada\" Mira Gonen Departamento de Ingeniería Eléctrica.",
                "En este artículo proporcionamos un procedimiento llamado \"Reducción del comercio generalizado\" (GTR) para jugadores de un solo valor, que dio un mecanismo IR e IC, genera un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
                "El procedimiento de solución llamó la \"Reducción del comercio generalizado\" (GTR).",
                "Denotamos por CI el precio de valor crítico calculado para el jugador i.2.2 Competiciones y dominios En este documento presentamos dos algoritmos de \"reducción del comercio generalizado\".",
                "Nuestros dos algoritmos de \"reducción de comercio generalizado\" asegurarán que para cualquier asignación tengamos los tipos de competencia deseados.",
                "Los dos algoritmos de \"reducción del comercio generalizado\" utilizan una función divisoria D que divide la asignación A en conjuntos de adquisiciones disjuntas.",
                "Los algoritmos de \"reducción del comercio generalizado\" pasan por alto los conjuntos de adquisiciones en orden (de los más pequeños a los más grandes) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto.",
                "Los dos algoritmos de \"reducción del comercio generalizado\" presentados aceptan problemas en diferentes dominios.",
                "Sigue el segundo algoritmo de \"Reducción comercial generalizada\" GTR-2.",
                "Conclusiones y trabajo futuro En este documento presentamos un procedimiento de solución general llamado \"Reducción del comercio generalizado\" (GTR)."
            ],
            "translated_text": "",
            "candidates": [
                "Reducción del comercio generalizado",
                "Reducción comercial generalizada",
                "Reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "reducción de comercio generalizado",
                "Reducción del comercio generalizado",
                "reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "reducción del comercio generalizado",
                "Reducción del comercio generalizado",
                "Reducción comercial generalizada",
                "Reducción del comercio generalizado",
                "Reducción del comercio generalizado"
            ],
            "error": []
        },
        "gtr": {
            "translated_key": "GTR",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (<br>gtr</br>) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (<br>gtr</br>).",
                "<br>gtr</br> accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the <br>gtr</br> procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our <br>gtr</br> procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the <br>gtr</br> solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the <br>gtr</br> solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the <br>gtr</br> procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by <br>gtr</br> are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms <br>gtr</br>-1 and GTR2.",
                "<br>gtr</br>-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The <br>gtr</br>-2 algorithm accepts problems in any domain.",
                "We prove the <br>gtr</br>-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of <br>gtr</br> − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called <br>gtr</br>-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The <br>gtr</br>-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, <br>gtr</br>-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The <br>gtr</br>-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the <br>gtr</br>-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove <br>gtr</br>-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external <br>gtr</br>-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the <br>gtr</br>-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the <br>gtr</br>-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the <br>gtr</br>-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external <br>gtr</br>-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since <br>gtr</br>-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as <br>gtr</br>-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the <br>gtr</br>-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the <br>gtr</br>-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that <br>gtr</br>-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "<br>gtr</br>-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the <br>gtr</br>-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that <br>gtr</br>-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as <br>gtr</br>-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm <br>gtr</br>-2 follows.",
                "Definition 4.1.",
                "The <br>gtr</br>-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, <br>gtr</br>-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by <br>gtr</br>-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the <br>gtr</br>-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the <br>gtr</br>-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by <br>gtr</br>-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by <br>gtr</br>-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in <br>gtr</br>-1 reducing i when reporting bi.",
                "Assume to the contrary that <br>gtr</br>-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, <br>gtr</br>-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version <br>gtr</br>-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and <br>gtr</br>-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, <br>gtr</br>-2 also produces a mechanism that maintains high welfare.",
                "Since the <br>gtr</br>-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the <br>gtr</br>-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by <br>gtr</br>-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by <br>gtr</br>-1 can also be bounded for the cases presented in this section.",
                "However, we focus on <br>gtr</br>-2 as it always achieves better welfare. 13 or <br>gtr</br>-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using <br>gtr</br>-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using <br>gtr</br>-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using <br>gtr</br>-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using <br>gtr</br>-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using <br>gtr</br>-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (<br>gtr</br>).",
                "<br>gtr</br> accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The <br>gtr</br> procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The <br>gtr</br> procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in <br>gtr</br>-1 (and hence <br>gtr</br>-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En este documento, proporcionamos un procedimiento llamado Reducción de Comercio Generalizado (\"GTR\") para jugadores de un solo valor, que dio un mecanismo IR e IC, genera un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
                "El procedimiento de solución llamó la reducción del comercio generalizado (\"GTR\").",
                "\"GTR\" acepta un mecanismo IR e IC para jugadores de un solo valor y genera un mecanismo IR, IC y BB.",
                "Además de unificar muchos de los problemas de BB en un solo concepto de solución, el procedimiento \"GTR\" mejora los resultados existentes y resuelve varios problemas abiertos en la literatura.",
                "Las soluciones existentes que mejora nuestro procedimiento \"GTR\" son subastas homogéneas de doble cara, mercados distribuidos [3] y cadena de suministro [2, 4].",
                "Para las subastas homogéneas de DoubleDided, el procedimiento de solución \"GTR\" mejora en la solución bien conocida [13] al permitir algunos casos de reducción de comercio sin comercio.",
                "Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución \"GTR\" mejora en las pérdidas de bienestar vinculadas, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social.",
                "Recientemente también aprendimos que el procedimiento \"GTR\" le permite a uno convertir el modelo recientemente presentado [6] en un mecanismo BB.",
                "Los problemas abiertos que responden \"GTR\" son los mercados distribuidos con bordes de transporte estratégico y rutas limitadas, subastas combinatorias de doble cara con un tamaño limitado del grupo de negociación, es decir, un comprador y sus vendedores de artículos de paquete, subastas combinatorias de doble cara con acorreo acordeadoNúmero de posibles grupos comerciales.",
                "Las siguientes secciones presentan dos algoritmos \"GTR\" -1 y GTR2.",
                "\"GTR\" -1 acepta problemas en los dominios basados en la clase de adquisición, sus propiedades se prueban con una función divisoria general D. El algoritmo \"GTR\" -2 acepta problemas en cualquier dominio.",
                "Probamos las propiedades \"GTR\" -2S con la función divisoria específica D0.",
                "Dado que la función divisoria puede tener un gran impacto práctico en el bienestar (e ingresos), la generalidad de \"GTR\" - 1 (aunque en dominios especiales) puede ser una consideración práctica importante.3.",
                "Para este dominio, presentamos un algoritmo llamado \"GTR\" -1, que dio un mecanismo que es IR y IC produce un mecanismo con un bienestar reducido que es IR, IC y presupuesto equilibrado.",
                "El algoritmo \"GTR\" -1: dado un mecanismo m, un conjunto x ⊂ n que se cierra bajo reemplazo, una función divisoria D y asignación A, \"GTR\" -1 funciona de la siguiente manera: 1.",
                "El caso especial donde x = n ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]).3.1 El \"GTR\" -1 produce un mecanismo X-External que es IR, IC y BB en esta subsección, demostramos que el algoritmo \"GTR\" -1 produce un mecanismo X-External que es IR, IC y BB.",
                "Para probar las propiedades \"GTR\" -1s, utilizamos el Teorema 3.1, que es un resultado bien conocido (por ejemplo, [14, 11]).",
                "A continuación, demostramos que el algoritmo X-External \"GTR\" -1 produce un mecanismo IR, IC y BB, pero primero se muestra una subsidiaria Lemma.",
                "Para cualquier X, el mecanismo X-External con un esquema de precios de valor crítico producido por el algoritmo \"GTR\" -1 es un mecanismo IR e IC.",
                "Mediante la definición de un esquema de precios de valor crítico 2.2 y el algoritmo \"GTR\" -1 3.1 se deduce que para cada jugador comercial I, vi ≥ 0.",
                "Por el algoritmo \"GTR\" -1 3.1 Jugadores no comerciales tengo un pago de cero.",
                "Como el algoritmo X-External \"GTR\" -1 es IR y aplica el esquema de pago de valor crítico de acuerdo con el Teorema 3.1, para demostrar que el mecanismo X-External producido con el esquema de pago de valor crítico es IC, queda por mostrar queLa regla de asignación de mecanismos producidos es una oferta monotónica.",
                "Dado que \"GTR\" -1 ordena los conjuntos de adquisiciones de acuerdo con el valor creciente, si el jugador I aumenta su oferta de bi a bi> bi, entonces para cualquier función de división d de conjuntos de adquisiciones, el conjunto de adquisiciones que contiene siempre aparece más tarde con la oferta bique con la oferta bi.",
                "Esto sigue como \"GTR\" -1 puede reducir más conjuntos de adquisiciones de valor más bajo, lo que dará como resultado jugadores más no comerciales.",
                "Para cualquier X, el mecanismo X-External con esquema de precios de valor crítico producido por el algoritmo \"GTR\" -1 es un mecanismo BB.",
                "Según I ∈ S ∩ x, de acuerdo con la definición de X-Exterino-Definición 2.7 y el algoritmo \"GTR\" -1 3.1 I tiene una competencia externa.",
                "Deje que A sea la asignación después de la reducción de la adquisición por el algoritmo \"GTR\" -1.",
                "Para los dominios de la clase de adquisición para cualquier X, el mecanismo X-External con un esquema de precios de valor crítico producido por el algoritmo \"GTR\" -1 es un mecanismo IR, IC y BB.",
                "Dominios basados en la clase de adquisición La razón principal por la que \"GTR\" -1 funciona para los dominios de la clase de adquisiciones es que cada jugador la posibilidad de reducirse es monotónico.",
                "\"GTR\" -1 es IC para dominios de clase de adquisición.",
                "Para cada función divisoria DI y cada conjunto de ofertas, el algoritmo \"GTR\" -1 produce un bienestar que es una función de las ofertas y la función divisoria9.",
                "Denotamos por D0 la función divisoria que divide a los jugadores en sets s.t.El bienestar que \"GTR\" -1 encuentra es máximo10.9 Tenga en cuenta que para cualquier DI en particular esto podría no ser IC como \"GTR\" -1 es IC solo para dominios de clase de adquisición y no para dominios generales 10 en el Apéndice A, mostramos cómo calcular D0 en polinoformalmente, sea el conjunto de todosFunciones divisorias D. denota el bienestar alcanzado por el mecanismo producido por GTR1 cuando se usa la función divisiva D y un conjunto de ofertas ¯b por Gtr1 (d, ¯b).",
                "El segundo algoritmo de reducción de comercio generalizado \"GTR\" -2 sigue.",
                "El algoritmo \"GTR\" -2: el mecanismo dado M, la asignación A, y un conjunto x ⊂ n cerrado bajo reemplazo, \"GTR\" -2 funciona de la siguiente manera: 1.",
                "A todos los jugadores que no se comercializan se cobran cero.11 demostraremos que el mecanismo producido por \"GTR\" -2 mantiene las propiedades deseadas de IR, IC y BB.",
                "El siguiente lema muestra que el mecanismo producido \"GTR\" -2 es IR e IC.",
                "Para cualquier X, el mecanismo X-External con esquema de precios de valor crítico producido por el algoritmo \"GTR\" -2 es un mecanismo IR e IC.",
                "Por el Teorema 3.1 es suficiente para demostrar que el mecanismo producido por el algoritmo \"GTR\" -2 es una oferta monotónica para cada jugador i.",
                "Denote por D1 = D0 (b) La función divisoria utilizada por \"GTR\" -2 cuando informé BI y el resto de los jugadores informaron B-I.",
                "Denote por D1 = D0 (BI, B-I) La función divisoria utilizada por \"GTR\" -2 cuando informé BI y el resto de los jugadores informaron B-I.",
                "Denota por ¯d1 (b) una función divisoria máxima que da como resultado \"GTR\" -1 reduciendo I al informar BI.",
                "Suponga al contrario que \"GTR\" -2 redujo I del comercio cuando informé BI y luego GTR1 (D1, (BI, B-I)) = Gtr1 (¯d1, b).",
                "Sin embargo, de acuerdo con la definición d1 ∈ D, \"GTR\" -2 no debería haber reducido el tiempo i Mial para los dominios de clase de adquisición.",
                "Calcular D0 en el tiempo polinomial para dominios generales es un problema abierto importante.11 En la versión completa \"GTR\" -2 se extiende de tal manera que es suficiente que exista algún tiempo en el que se mantenga el tercer paso.",
                "Por lo tanto, surge una contradicción y \"GTR\" -2 no reduce I del comercio cuando informo BI> BI.",
                "Para cualquier X, el mecanismo X-External con esquema de precios de valor crítico producido por el algoritmo \"GTR\" -2 es un mecanismo BB.",
                "Para cualquier X cerrado bajo reemplazo, el mecanismo X-External con un esquema de precios de valor crítico producido por el algoritmo \"GTR\" -2 es un mecanismo IR, IC y BB.",
                "La creación de un método general para calcular la función de división necesaria en el tiempo polinomial sigue siendo una pregunta abierta.4.1 Limitando el bienestar de los dominios basados en la clase de adquisición y otros casos de dominios generales Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, \"GTR\" -2 también produce un mecanismo que mantiene un alto bienestar.",
                "Dado que el algoritmo \"GTR\" -2 encuentra un mecanismo equilibrado presupuestario en dominios arbitrarios, no podemos limitar el bienestar de los casos generales.",
                "Usando la definición de frecuencia de apariencia de clase, podemos vincular el bienestar alcanzado por el mecanismo producido \"GTR\" -2 para los dominios de clase de adquisición12: Lemma 4.3.",
                "Para los dominios de la clase de adquisición con F = 0, el número de conjuntos de adquisiciones que se reducen por \"GTR\" -213 es como máximo | EC |veces la frecuencia máxima de cada clase.",
                "Observamos que, por definición, cualquier conjunto de adquisiciones SJ no se reducirá si cada i ∈ SJ tiene competencia interna y competencia externa.12 El bienestar logrado por \"GTR\" -1 también puede estar limitado para los casos presentados en esta sección.",
                "Sin embargo, nos centramos en \"GTR\" -2, ya que siempre logra un mejor bienestar.13 o \"GTR\" -1 Cada conjunto de adquisiciones que se reduce tiene al menos un jugador que no tiene competencia.",
                "El uso de \"GTR\" -2 para subastas homogéneas de doble cara (problema B.1) como máximo 14 se debe reducir un conjunto de adquisiciones.",
                "Del mismo modo, para los mercados distribuidos espacialmente sin bordes estratégicos (problema B.3) usando \"GTR\" -2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye un comprador y un vendedor.",
                "Se reducirá el uso de \"GTR\" -2 para mercados distribuidos espacialmente sin bordes estratégicos en la mayoría de un ciclo por componente conectado15.",
                "Para las cadenas de suministro (problema B.5) usando \"GTR\" -2 mejora el resultado de [2, 4] similar al Corolario 4.2.",
                "Se reducirá el uso de \"GTR\" -2 para las cadenas de suministro en la mayoría de un ciclo por componente conectado16.",
                "Conclusiones y trabajo futuro En este documento presentamos un procedimiento de solución general llamado reducción del comercio generalizado (\"GTR\").",
                "\"GTR\" acepta un mecanismo IR e IC como mecanismos de entrada y salida que son IR, IC y BB.",
                "El procedimiento \"GTR\" mejora los resultados existentes, como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos, como mercados distribuidos con bordes de transporte estratégico y caminos limitados, subastas combinatorias de doble cara con adquisiciones de tamaño limitado.Conjuntos y subastas combinatorias duplicadas con un número limitado de conjuntos de adquisiciones.",
                "El procedimiento \"GTR\" genera un mecanismo que depende de un conjunto x ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de declararse las valoraciones.",
                "La eficiencia del mecanismo externo x en \"GTR\" -1 (y, por lo tanto, \"GTR\" -2) es al menos la del mecanismo y-Externo.2."
            ],
            "translated_text": "",
            "candidates": [
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR",
                "GTR"
            ],
            "error": []
        },
        "optimality": {
            "translated_key": "optimización",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the <br>optimality</br> of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the <br>optimality</br> of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Para mantener la propiedad BB en un mecanismo IR e IC, es necesario comprometer la \"optimización\" del bienestar social.1.1 Trabajo relacionado y soluciones específicas Ha habido varios intentos de diseñar mecanismos presupuestarios equilibrados para dominios particulares2.",
                "Aunque mostramos que X debe elegirse lo más pequeño posible, no damos ninguna caracterización de la \"optimización\" de X y este es un problema abierto importante."
            ],
            "translated_text": "",
            "candidates": [
                "optimización",
                "optimización",
                "optimización",
                "optimización"
            ],
            "error": []
        },
        "inequality in welfare": {
            "translated_key": "desigualdad en el bienestar",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an <br>inequality in welfare</br> as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El teorema C.1 muestra una \"desigualdad en el bienestar\", así como para los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario."
            ],
            "translated_text": "",
            "candidates": [
                "desigualdad en el bienestar",
                "desigualdad en el bienestar"
            ],
            "error": []
        },
        "multi-minded player": {
            "translated_key": "jugador multidisciplinario",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general <br>multi-minded player</br>s: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                ""
            ],
            "translated_text": "",
            "candidates": [
                "",
                "jugador múltiple"
            ],
            "error": []
        },
        "budget-balanced mechanism": {
            "translated_key": "mecanismo equilibrado con presupuesto",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two <br>budget-balanced mechanism</br>s for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "F (i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar.[9] define dos \"mecanismo equilibrado con presupuesto\" para este caso."
            ],
            "translated_text": "",
            "candidates": [
                "mecanismo equilibrado con presupuesto",
                "mecanismo equilibrado con presupuesto"
            ],
            "error": []
        },
        "homogeneous good": {
            "translated_key": "bien homogéneo",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with <br>homogeneous good</br>s.",
                "Problem B.1.",
                "Double-sided auction with <br>homogeneous good</br>s: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with <br>homogeneous good</br>s problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El primer problema que definimos es la subasta de doble cara con \"bien homogéneo\".",
                "Subasta de doble cara con \"bien homogéneo\": Hay M vendedores cada uno de los cuales tiene un solo bien (todos los bienes son idénticos) y n compradores, cada uno de los cuales está interesado en recibir un bien.",
                "Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema \"bien homogéneo\" B.1."
            ],
            "translated_text": "",
            "candidates": [
                "bien homogéneo",
                "bien homogéneo",
                "bien homogéneo",
                "bien homogéneo",
                "bien homogéneo",
                "bien homogéneo"
            ],
            "error": []
        },
        "spatially distributed market": {
            "translated_key": "mercado distribuido espacialmente",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a <br>spatially distributed market</br>.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Revista de Investigación de Inteligencia Artificial, 2004.[3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un \"mercado distribuido espacialmente\"."
            ],
            "translated_text": "",
            "candidates": [
                "mercado distribuido espacialmente",
                "mercado distribuido espacialmente"
            ],
            "error": []
        }
    }
}