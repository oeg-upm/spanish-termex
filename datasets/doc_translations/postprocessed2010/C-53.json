{
    "id": "C-53",
    "original_text": "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R. China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG). Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG. However, DR cannot maintain high consistency, and this constrains its application in highly interactive games. With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency. In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented. Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications. General Terms Algorithms, Performance, Experimentation. 1. INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures. In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2]. These games are referred to as Continuous Distributed Multiplayer Games (CDMG). Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay. Although new network techniques (e.g. QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3]. There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7]. In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc. In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches. Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications. It synchronizes the physical clocks of all sites in a system. After an operation is issued at local site, it delays the execution of the operation for a short time. During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time. In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state. Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites. Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited. DR is based on state transmission mechanism. In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities). After each update of its own entities, a site compares the accurate state with the estimated one. If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected. Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates. Compared with aforementioned local lag, DR cannot maintain high consistency. Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update. In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates. Detailed description of GS-DR can be found in Section 3. When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure. Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8]. In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR. The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2. CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain. Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g. DR). Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well. Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t). DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites. Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent. Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites. De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point. If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2. If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period. If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4. If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities). Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3. INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update. The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency. Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8]. After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system. By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency. Before inconsistency is caused by two reasons. The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold. The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update. Figure 1. The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity. To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity. Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0. Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same. At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0. Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold. At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j. The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp. At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity. Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again. From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2. D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4. GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency. In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency. In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity. In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site. At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters). Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate. Remote site keep only one state Sremote, which is the real state of the entity at remote site. Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0). In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock). Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time. Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time. After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time. At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal. Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote. After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold. If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate. Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps. At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates. If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote. After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal. That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago. Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately. The aforementioned is the basic mechanism of GS-DR-LL. In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites. Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL. All conditions are the same with the conditions used in the aforementioned example describing GS-DR. Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description. At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0. By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j. At time point t2, the state update is received by remote site j. Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately. The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL. Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR. If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0). In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used. Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency. Figure 2. The paths of a shared entity by using GS-DR and GS-DR-LL. To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered. According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task. For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5]. Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value. Else n can be set in terms of the effects of local lag on the interaction of a system [14]. In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag. In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency. Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system. However GS-DR-LL allows n to be smaller than typical network transmission delay. In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5. PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1]. Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams. If a spaceship is hit by a laser beam, its life points decrease one. If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game. In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site. In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value. The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays. Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees. Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories. In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used. In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used. Therefore the total number of settings used in the evaluation was 12 (2 × 6). The procedure of performance evaluation was composed of three steps. In the first step, two participants were employed to play the game, and the operation sequences were recorded. Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected. In the second step, the physical clocks of the two computers were synchronized first. Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move. Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple. Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24. In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel. Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple. The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)). In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results. Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms. It can been seen that inconsistency does exist, but in most of the time it is 0. Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold. Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0. With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency. It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3. Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4. Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5. Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms. Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms. It can be seen that with GS-DR-LL before inconsistency decreases with the lag. In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system. From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay. The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6. Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7. Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8. Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6. CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game. In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene. Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. GS-DR-LL has significant implications to consistency maintenance approaches. First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency. As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games). Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used. As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g. Internet based games). 7. REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications. IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W. Supporting Continuous Consistency in Multiplayer Online Games. In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games. In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment. Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C. On the Impact of Delay on RealTime Multiplayer Games. In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P. Effect of Latency on Presence in Stressful Virtual Environments. In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W. Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization. In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A. Accuracy in Dead-Reckoning based Distributed Multi-Player Games. In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A. From Causal Consistency to Sequential Consistency in Shared Memory Systems. In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory. In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects. ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems. ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V. Is 100 Milliseconds too Fast. In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C. Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System. Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C. Echo: a Method to Improve the Interaction Quality of CVEs. In Proc. of IEEE VR, 2005, 269-270. The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7",
    "original_translation": "Reckoning muerto sincronizado globalmente con retraso local para juegos multijugador distribuidos continuos Yi Zhang1, Ling Chen1, 2, Gencai Chen1 1College of Computer Science, Universidad de Zhejiang, Hangzhou 310027, P.R. China 2School of Computer Science e IT, Universidad de Nottingham, Nottingham Ng8 1BB, Reino Unido {M05zhangyi, Lingchen, chengc}@cs.zju.edu.cn abstracto de la reducción muerta (DR) es un método efectivo para mantener la coherencia para distribuidos continuos distribuidos continuosJuegos multijugador (CDMG). Dado que DR puede filtrar las actualizaciones de estado más innecesarias y mejorar la escalabilidad de un sistema, se usa ampliamente en CDMG comercial. Sin embargo, el DR no puede mantener una alta consistencia, y esto limita su aplicación en juegos altamente interactivos. Con la ayuda de la sincronización global, el DR puede lograr una mayor consistencia, pero aún no puede eliminar antes de la inconsistencia. En este artículo, se presenta un método llamado DR sincronizado globalmente con retraso local (GS-DR-LL), que combina retraso local y DR sincronizado globalmente (GS-DR). La evaluación del rendimiento muestra que GS-DR-LL puede disminuir efectivamente antes de la inconsistencia, y los efectos aumentan con el retraso. Categorías y descriptores de sujetos c.2.4 [Redes de comunicación por computadora]: sistemas distribuidos - aplicaciones distribuidas. Algoritmos de términos generales, rendimiento, experimentación.1. Introducción hoy en día, muchos juegos multijugador distribuidos adoptan arquitecturas replicadas. En tales juegos, los estados de entidades cambian no solo por las operaciones de los jugadores, sino también por el paso del tiempo [1, 2]. Estos juegos se denominan juegos multijugador distribuidos continuos (CDMG). Al igual que otras aplicaciones distribuidas, CDMG también sufre el problema de consistencia causado por el retraso de la transmisión de la red. Aunque nuevas técnicas de red (p. Ej. QoS) pueden reducir o al menos unirse al retraso, no pueden eliminarlo por completo, ya que existe la limitación de la velocidad física de la luz, por ejemplo, se necesitan 100 ms para que la luz se propague de Europa a Australia [3]. Hay muchos estudios sobre los efectos del retraso de la transmisión de la red en diferentes aplicaciones [4, 5, 6, 7]. En los juegos basados en la replicación, el retraso de la transmisión de la red hace que los estados de los sitios locales y remotos sean inconsistentes, lo que puede causar serios problemas, como reducir la equidad de un juego y conducir a situaciones paradójicas, etc. Para mantener la consistencia para los sistemas distribuidos, se han propuesto muchos enfoques diferentes, entre los cuales el retraso local y la madera muerta (DR) son dos enfoques representativos. Mauve et al [1] propusieron retraso local para mantener una alta consistencia para aplicaciones continuas replicadas. Sincroniza los relojes físicos de todos los sitios en un sistema. Después de emitir una operación en el sitio local, retrasa la ejecución de la operación por un corto tiempo. Durante este corto período de tiempo, la operación se transmite a sitios remotos, y todos los sitios intentan ejecutar la operación al mismo tiempo físico. Para abordar la inconsistencia causada por un retraso de transmisión de red excepcional, se propone un mecanismo basado en Warp Time para reparar el estado. El retraso local puede lograr una alta consistencia significativa, pero se basa en la transmisión de operación, que reenvía cada operación en una entidad compartida a sitios remotos. Dado que el mecanismo de transmisión de operación solicita que todas las operaciones deben transmitirse de manera confiable, el filtrado de mensajes es difícil de implementar y la escalabilidad de un sistema es limitada. DR se basa en el mecanismo de transmisión de estado. Además del modelo de alta fidelidad que mantiene los estados precisos de sus propias entidades, cada sitio también tiene un modelo DR que estima los estados de todas las entidades (incluidas sus propias entidades). Después de cada actualización de sus propias entidades, un sitio compara el estado preciso con el estimado. Si la diferencia excede un umbral predefinido, una actualización de estado se transmitiría a todos los sitios y todos los modelos DR se corregirían. A través de la estimación de estado, el DR no solo puede mantener la consistencia sino también disminuir el número de actualizaciones de estado transmitidas. En comparación con el retraso local antes mencionado, el DR no puede mantener una alta consistencia. Debido al retraso de la transmisión de la red, cuando un sitio remoto recibe una actualización estatal de una entidad, el estado de la entidad podría haber cambiado en el sitio enviando la actualización del estado. Para hacer que DR mantenga una alta consistencia, Aggarwal et al [8] propusieron DR sincronizado globalmente (GS-DR), que sincroniza los relojes físicos de todos los sitios en un sistema y agrega sellos de tiempo a las actualizaciones de estado transmitidas. La descripción detallada de GS-DR se puede encontrar en la Sección 3. Cuando hay una actualización estatal disponible, GS-DR actualiza inmediatamente el estado del sitio local y luego transmite la actualización estatal a sitios remotos, lo que hace que los estados del sitio local y los sitios remotos sean inconsistentes en el procedimiento de transmisión. Por lo tanto, con la sincronización de relojes físicos, GS-DR puede eliminar después de la inconsistencia, pero no puede abordar antes de la inconsistencia [8]. En este artículo, proponemos un nuevo método llamado DR sincronizado globalmente con LAG local (GS-DR-LL), que combina LAG local y GS-DR.Al retrasar la actualización al sitio local, GS-DR-LL puede lograr una mayor consistencia que GS-DR. El resto de este documento se organiza de la siguiente manera: la Sección 2 da la definición de consistencia y métricas correspondientes;La causa de la inconsistencia de la DR se analiza en la Sección 3;La Sección 4 describe cómo funciona GS-DR-LL;La evaluación del rendimiento se presenta en la Sección 5;La Sección 6 concluye el documento.2. Definiciones y métricas de consistencia La consistencia de las aplicaciones replicadas ya se ha definido bien en el dominio discreto [9, 10, 11, 12], pero se han realizado pocos trabajos relacionados en el dominio continuo. Mauve et al [1] han dado una definición de consistencia para aplicaciones replicadas en dominio continuo, pero la definición se basa en la transmisión de operación y es difícil para la definición describir los métodos basados en la transmisión del estado (p. Ej. DR). Aquí, presentamos una definición alternativa de consistencia en el dominio continuo, que se adapta bien a los métodos basados en la transmisión del estado. Dados dos sitios distintos I y J, que han replicado una entidad compartida e, en un momento t, los estados de E en los sitios I y J son SI (T) y SJ (T). Definición 1: Los estados de E en los Sitios I y J son consistentes en el tiempo t, Iff: de (i, j, t) = | si (t) - sj (t) |= 0 (1) Definición 2: Los estados de E en los Sitios I y J son consistentes entre el tiempo T1 y T2 (T1 <T2), Iff: De (I, J, T1, T2) = Dt |) t (S)T (S | T2 T1 Ji = 0 (2) En este documento, las fórmulas (1) y (2) se utilizan para determinar si los estados de las entidades compartidas son consistentes entre los sitios locales y remotos. Debido al retraso de la transmisión de la red, es difícil mantener los estados de entidades compartidas absolutamente consistentes. Se necesitan métricas correspondientes para medir la consistencia de entidades compartidas entre sitios locales y remotos. De (I, J, T) se puede usar como una métrica para medir el grado de consistencia en un punto de tiempo determinado. Si de (i, j, t1)> de (i, j, t2), se puede afirmar que entre los sitios I y J, la consistencia de los estados de entidad E en el punto de tiempo T1 es menor que el en el punto de tiempo T2. Si de (i, j, t)> de (l, k, t), se puede afirmar que, en el punto de tiempo t, la consistencia de los estados de entidad e entre los sitios I y J es menor que la entre los sitios ly k.Del mismo modo, DE (I, J, T1, T2) se puede utilizar como métrica para medir el grado de consistencia en un período de tiempo determinado. Si de (i, j, t1, t2)> de (i, j, t3, t4) y | t1 - t2 |= | T3 - T4 |, se puede afirmar que entre los sitios I y J, la consistencia de los estados de entidad E entre los puntos de tiempo T1 y T2 es menor que el de los puntos de tiempo T3 y T4. Si de (i, j, t1, t2)> de (l, k, t1, t2), se puede afirmar que entre los puntos de tiempo T1 y T2, la consistencia de los estados de entidad E entre los sitios I y J es más bajoque eso entre los sitios L y K.En DR, los estados de entidades están compuestos por las posiciones y orientaciones de las entidades y algunos parámetros relacionados con la predicción (por ejemplo, las velocidades de las entidades). Dados dos sitios distintos I y J, que han replicado una entidad compartida e, en un punto de tiempo t, las posiciones de E en los sitios I y J son (XIT, YIT, ZIT) y (XJT, YJT, ZJT), DE(I, J, T) y D (i, J, T1, T2) podrían calcularse como: de (i, j, t) =) zz () yy () xx (jtit 2 jtit 2 jtit 2 (3)De (i, j, t1, t2) = dt) zz () yy () xx (2t 1t jtit 2 jtit 2 jtit 2 (4) En este documento, las fórmulas (3) y (4) se usan como métricas para medirLa consistencia de entidades compartidas entre sitios locales y remotos. 3. Inconsistencia en DR La inconsistencia en DR se puede dividir en dos secciones para el punto de tiempo cuando un sitio remoto recibe una actualización de estado. La inconsistencia antes de que un sitio remoto reciba una actualización de estado se denomina como la inconsistencia, y la inconsistencia después de que un sitio remoto recibe una actualización de estado se denomina después de la inconsistencia. Antes de la inconsistencia y después de la inconsistencia son similares con los términos antes del error de exportación y después del error de exportación [8]. Después de que la inconsistencia es causada por la falta de sincronización entre los relojes físicos de todos los sitios en un sistema. Al emplear la sincronización del reloj físico, GS-DR puede calcular con precisión los estados de las entidades compartidas después de recibir actualizaciones estatales, y puede eliminar después de la inconsistencia. Antes de que la inconsistencia sea causada por dos razones. La primera razón es el retraso de enviar actualizaciones de estado, ya que el sitio local no envía una actualización de estado a menos que la diferencia entre el estado preciso y el estimado sea mayor que un umbral predefinido. La segunda razón es el retraso de la transmisión de red, ya que una entidad compartida se puede sincronizar solo después de los sitios remotos que reciben la actualización de estado correspondiente. Figura 1. Los caminos de una entidad compartida mediante el uso de GS-DR.Por ejemplo, se supone que la velocidad de una entidad compartida es el único parámetro para predecir la posición de las entidades, y la posición actual de la entidad puede calcularse mediante su última posición y velocidad de corriente. Para simplificar la descripción, también se supone que solo hay dos sitios I y J en una sesión de juego, el sitio I actúa como 2 el quinto taller sobre el soporte de redes y sistemas para los juegos 2006 - NetGames 2006 Local Site y Site J actúan como remoto como remotoSitio, y T1 es el punto de tiempo que el sitio local actualiza el estado de la entidad compartida. La Figura 1 ilustra las rutas de la entidad compartida en el sitio local y el sitio remoto en el eje x utilizando GS-DR.Al principio, las posiciones de la entidad compartida son las mismas en los sitios I y J y la velocidad de la entidad compartida es 0. Antes del punto de tiempo T0, los caminos de la entidad compartida en los Sitios I y J en X coordenadas son exactamente los mismos. En el punto de tiempo T0, el jugador en el sitio I emite una operación, que cambia la velocidad en el eje x a V0. Sitio I Primero verifica periódicamente si la diferencia entre la posición precisa de la entidad compartida y la estimada, 0 en este caso, es mayor que un umbral predefinido. En el punto de tiempo T1, sitio que encuentro que la diferencia es mayor que el umbral y envía una actualización de estado al sitio j. La actualización del estado contiene la posición y la velocidad de la entidad compartida en el punto de tiempo T1 y el punto de tiempo T1 también se adjunta como una marca de tiempo. En el punto de tiempo T2, la actualización de estado llega al sitio J, y el estado recibido y la desviación del tiempo entre los puntos de tiempo T1 y T2 se utilizan para calcular la posición actual de la entidad compartida. Luego, el sitio J actualiza su posición y velocidad de entidades replicadas, y las rutas de la entidad compartida en los Sitios I y J se superponen nuevamente. De la Figura 1, se puede ver que la inconsistencia posterior es 0, y la consistencia anterior está compuesta de dos partes, D1 y D2. D1 es DE (I, J, T0, T1) y es causado por el mecanismo de filtrado de estado de DR.D2 es DE (I, J, T1, T2) y es causado por el retraso de la transmisión de la red.4. DR sincronizado globalmente con un retraso local del análisis en la Sección 3, se puede ver que GS-DR puede eliminar después de la inconsistencia, pero no puede abordar de manera efectiva antes de la inconsistencia. Para disminuir antes de la inconsistencia, proponemos GS-DR-LL, que combina GS-DR con el retraso local y puede disminuir efectivamente antes de la inconsistencia. En GS-DR-LL, el estado de una entidad compartida en un punto de tiempo T se observa como S = (t, pos, par 1, par 2, ……, par n), en el que POS significa la posición de laentidad y par 1 a par n significa los parámetros para calcular la posición de la entidad. Para simplificar la descripción de GS-DR-LL, se supone que solo hay una entidad compartida y un sitio remoto. Al comienzo de una sesión de juego, los estados de la entidad compartida son los mismos en sitios locales y remotos, con la misma posición P0 y parámetros PARS0 (PARS representa todos los parámetros). El sitio local mantiene tres estados: el estado real de la entidad Sreal, el estado predicho en el sitio remoto SP-Remote y el último estado actualizado a la pizarra del sitio remoto. El sitio remoto mantiene solo un estado sremote, que es el verdadero estado de la entidad en el sitio remoto. Por lo tanto, al comienzo de una sesión de juego sreal = sp-remote = slate = sremote = (t0, p0, pars0). En GS-DR-LL, se supone que los relojes físicos de todos los sitios se sincronizan con una desviación de menos de 50 ms (usando NTP o reloj GPS). Además, es necesario hacer correcciones a un reloj físico de una manera que no resulte en disminuir el valor del reloj, por ejemplo, disminuyendo o deteniendo el reloj por un período de tiempo. Además, se supone que la escena del juego se actualiza a una frecuencia fija y T representa el intervalo de tiempo entre dos actualizaciones consecutivas, por ejemplo, si la frecuencia de actualización de la escena es de 50 Hz, T sería de 20 ms.N significa el valor de retraso utilizado por el retraso local, y T representa el tiempo físico actual. Después de actualizar la escena, el sitio local espera una cantidad constante de tiempo T. Durante este período de tiempo, el sitio local recibe las operaciones del jugador y las almacena en una lista L. Todas las operaciones en L están ordenadas por su tiempo de problema. Al final del período de tiempo T, el sitio local ejecuta todas las operaciones almacenadas, cuyo tiempo de problema es entre t y t, en la pizarra para obtener la nueva pizarra, y también ejecuta todas las operaciones almacenadas, cuyo tiempo de problema es entre t - (n + t) y t - n, en sreal para obtener el nuevo sreal. Además, el sitio local utiliza los métodos de predicción SP-Remote y correspondientes para estimar el nuevo SP-Remote. Después de calcular la nueva pizarra, Sreal y SP-Remote, el sitio local compara si la diferencia entre la nueva pizarra y el spremote excede el umbral predefinido. En caso afirmativo, el sitio local envía nueva pizarra al sitio remoto y SP-Remote se actualiza con una nueva pizarra. Tenga en cuenta que la marca de tiempo de la actualización del estado enviado es t.Después de eso, el sitio local usa Sreal para actualizar la escena local y elimina las operaciones, cuyo tiempo de emisión es menor que T - n, de L. Después de actualizar la escena, el sitio remoto espera una cantidad constante de tiempo T. Durante este período de tiempo,Las tiendas de sitios remotas recibieron actualizaciones estatales en una lista R. Todas las actualizaciones de estado en R están ordenadas por sus marcas de tiempo. Al final del período de tiempo T, el sitio remoto verifica si R contiene actualizaciones estatales cuyas marcas de tiempo son inferiores a T - n.Tenga en cuenta que T es el tiempo físico actual y aumenta durante la transmisión de actualizaciones de estado. En caso afirmativo, utiliza estas actualizaciones de estado y los métodos de predicción correspondientes para calcular el nuevo Sremote, de lo contrario, usan los métodos de predicción Sremote y correspondientes para estimar el nuevo Sremote. Después de eso, el sitio local usa Sremote para actualizar la escena local y elimina las actualizaciones del sate, cuyas marcas de tiempo son inferiores a T-n, de R. De la descripción anterior, se puede ver que la principal diferencia entre GS-DR y GS-DR-Ll es que GS-DR-LL usa las operaciones, cuyo tiempo de problema es menor que T-N, para calcular sreal. Eso significa que la escena vista por el jugador local son los resultados de las operaciones emitidas por un período de tiempo (es decir, hace). Mientras tanto, si los resultados de las operaciones emitidas marcan la diferencia entre Slate y SP-Remote exceden un umbral predefinido, las actualizaciones de estado correspondientes se envían a sitios remotos de inmediato. El mencionado anteriormente es el mecanismo básico de GS-DR-LL. En el caso de múltiples entidades compartidas y sitios remotos, el sitio local calcula la pizarra, el sreal y el sp-retremote para diferentes entidades compartidas respectivamente, si hay que transmitir múltiples pizarras, los paquetes del sitio local los paquete en una actualización de estado y luego envíeloa todos los sitios remotos. La Figura 2 ilustra las rutas de una entidad compartida en el sitio local y el sitio remoto mientras usa GS-DR y GS-DR-LL. Todas las condiciones son las mismas con las condiciones utilizadas en el ejemplo mencionado anteriormente que describe GS-DR. En comparación con T1, T2 y N, T (es decir, el intervalo de tiempo entre dos actualizaciones consecutivas) es bastante pequeño y se ignora en la siguiente descripción. En el punto de tiempo T0, el jugador en el Sitio I emite una operación, que cambia la velocidad de la entidad compartida Formulario 0 a V0. Al usar GS-DR-LL, los resultados de la operación se actualizan a la escena local en el punto de tiempo T0 + N.Sin embargo, la operación se usa inmediatamente para calcular la pizarra, por lo tanto, a pesar de GS-DR o GS-DR-LL,, en el punto de tiempo T1, encuentro que la diferencia entre la posición precisa y la estimada es más grande que el umbral y envía unActualización estatal al sitio j. En el punto de tiempo T2, la actualización de estado es recibida por el sitio remoto j. Suponiendo que la marca de tiempo de la actualización estatal es menor que T - N, el sitio J lo usa para actualizar la escena local de inmediato. El quinto taller sobre el soporte de red y sistema para los juegos 2006 - NetGames 2006 3 con GS -DR, el período de tiempo antes de la inconsistencia es (T2 - T1) + (T1 - T0), mientras que disminuye a (T2 - T1 - N)+ (T1-T0) con la ayuda de GS-DR-ll. Tenga en cuenta que T2 - T1 es causado por el retraso de la transmisión de la red y T1 - T0 es causado por el mecanismo de filtrado de estado de DR. Si N es más grande que T2-T1, GS-DR-Ll puede eliminar la inconsistencia anterior causada por el retraso de la transmisión de la red, pero no puede eliminar la inconsistencia anterior causada por el mecanismo de filtrado de estado de DR (a menos que el umbral esté configurado en 0). En juegos altamente interactivos, que solicitan una alta consistencia y se puede emplear GS-DR-LL-LL, los resultados de las operaciones son bastante difíciles de estimar y se debe usar un umbral pequeño. Por lo tanto, en la práctica, la mayoría antes de la inconsistencia es causada por el retraso de la transmisión de la red y GS-DR-LLL tiene la capacidad de eliminar tal antes de la inconsistencia. Figura 2. Los caminos de una entidad compartida utilizando GS-DR y GS-DR-LL. Para GS-DR-LL, la selección del valor de retraso N es muy importante, y se deben considerar tanto el retraso de la transmisión de la red como los efectos del retraso local en la interacción. Según los resultados de las investigaciones relacionadas con HCI, los humanos no pueden percibir el retraso impuesto a un sistema cuando es más pequeño que un valor específico, y el valor específico depende tanto del sistema como de la tarea. Por ejemplo, en una interfaz gráfica de usuario, no se puede notar un retraso de aproximadamente 150 ms para la interacción del teclado y el umbral aumenta a 195 ms para la interacción del ratón [13], y un retraso de hasta 50 ms no es crítico para un juego de racción de automóviles[5]. Por lo tanto, si el retraso de la transmisión de la red es menor que el valor específico de un sistema de juego, N se puede establecer en el valor específico. De lo contrario, se puede establecer en términos de los efectos del retraso local en la interacción de un sistema [14]. En el caso de que se debe usar una N grande, algunos métodos HCI (por ejemplo, eco [15]) se pueden usar para aliviar los efectos negativos del retraso grande. En el caso de que N sea mayor que el retraso de la transmisión de la red, GS-DR-LL puede eliminar la mayoría de la inconsistencia. Las solicitudes de retraso locales tradicionales de que el valor de retraso debe ser mayor que el retraso típico de la transmisión de la red; de lo contrario, las reparaciones de estado inundarían el sistema. Sin embargo, GS-DR-LL permite que N sea más pequeño que el retraso típico de transmisión de red. En este caso, la inconsistencia anterior causada por el retraso de la transmisión de la red todavía existe, pero puede disminuir.5. Evaluación del rendimiento Para evaluar GS-DR-LL y compararlo con GS-DR en una aplicación real, habíamos implementado ambos métodos en un juego en red llamado SpaceShip [1]. La nave espacial es un juego de computadora en red muy simple, en el que los jugadores pueden controlar sus naves espaciales para acelerar, desacelerar, girar y disparar naves espaciales controladas por jugadores remotos con vigas láser. Si una nave espacial es golpeada por un haz láser, sus puntos de vida disminuyen uno. Si los puntos de vida de una nave espacial disminuyen a 0, la nave espacial se elimina del juego y el jugador que controla la nave espacial pierde el juego. En nuestra implementación práctica, GS-DR-LL y GS-DR coexistieron en el sistema de juego, y el lecho de prueba estaba compuesto por dos computadoras conectadas por Ethernet de 100 m, con una computadora actuada como sitio local y el otro actuó como sitio remoto. Para simular el retraso de la transmisión de la red, se desarrolló un módulo específico para retrasar todos los paquetes transmitidos entre las dos computadoras en términos de un valor de retraso predefinido. El objetivo principal de la evaluación del desempeño es estudiar los efectos de GS-DR-LL en disminución antes de la inconsistencia en un sistema de juego particular bajo diferentes umbrales, retrasos y retrasos en la transmisión de red. Se usaron dos umbrales diferentes en la evaluación, uno es una desviación de 10 píxeles en posición o 15 grados de desviación en orientación, y el otro es de 4 píxeles o 5 grados. Se utilizaron seis combinaciones diferentes de retraso de retraso y transmisión de red en la evaluación y podrían dividirse en dos categorías. En una categoría, el retraso se fijó en 300 ms y se utilizaron tres retrasos diferentes de transmisión de red (100 ms, 300 ms y 500 ms). En la otra categoría, el retraso de la transmisión de la red se fijó en 800 ms y se usaron tres retrasos diferentes (100 ms, 300 ms y 500 ms). Por lo tanto, el número total de configuraciones utilizadas en la evaluación fue de 12 (2 × 6). El procedimiento de evaluación del desempeño estaba compuesto por tres pasos. En el primer paso, se emplearon dos participantes para jugar el juego, y se registraron las secuencias de operación. Según los registros, se seleccionó una secuencia de suboperación, que duró aproximadamente un minuto e incluyó diferentes operaciones (por ejemplo, acelerar, desacelerar y girar). En el segundo paso, los relojes físicos de las dos computadoras se sincronizaron primero. En diferentes entornos y enfoques de mantenimiento de consistencia, la secuencia de suboperación seleccionada se reprodujo en una computadora, y condujo las dos naves espaciales, una era local y la otra era remota, para moverse. Mientras tanto, las pistas de las naves espaciales en las dos computadoras se grabaron por separado y se llamaron como una pareja de pistas. Dado que hay 12 ajustes y 2 enfoques de mantenimiento de consistencia, el número total de parejas de pista grabadas fue de 24. En el último paso, a cada pareja de pistas, se calculó la inconsistencia entre ellos, y la unidad de inconsistencia era píxel. Dado que los relojes físicos de las dos computadoras se sincronizaron, el cálculo de la inconsistencia fue bastante simple. La inconsistencia en un punto de tiempo particular era la distancia entre las posiciones de las dos naves espaciales en ese momento (es decir, fórmula (3)). Para mostrar los resultados de la inconsistencia de manera clara, solo las partes de los resultados, que duran aproximadamente 7 segundos, se usan en las siguientes figuras, y las cifras muestran casi las mismas partes de los resultados. Las Figuras 3, 4 y 5 muestran los resultados de la inconsistencia cuando el retraso se fija en 300 ms y los retrasos en la transmisión de la red son 100, 300 y 500 ms. Se puede ver que la inconsistencia existe, pero en la mayor parte del tiempo es 0. Además, la inconsistencia aumenta con el retraso de la transmisión de la red, pero disminuye con el umbral. En comparación con GS-DR, GS-DR-LL puede disminuir más inconsistencia, y elimina la mayor inconsistencia cuando el retraso de la transmisión de la red es de 100 ms y el umbral es de 4 píxeles o 5 grados.4 El quinto taller sobre soporte de red y sistema para los juegos 2006 - NetGames 2006 Según los mecanismos de predicción y filtrado de estado de DR, la inconsistencia no puede eliminarse por completo si el umbral no es 0. Con las definiciones de la inconsistencia antes y después de la inconsistencia, se puede indicar que GS-DR y GS-DR-LL pueden eliminar después de la inconsistencia, y GS-DR-LL puede disminuir efectivamente antes de la inconsistencia. Se puede prever que con retraso y umbral adecuados (por ejemplo, el retraso es más grande que el retraso de la transmisión de la red y el umbral es 0), GS-DR-Ll incluso puede eliminar antes de la inconsistencia.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-Ll GS-DR El umbral es de 4 píxeles o 5 grados Figura 3. Inconsistencia cuando el retraso de la transmisión de la red es de 100 ms y el retraso es de 300 ms.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-Ll GS-DR El umbral es de 4 píxeles o 5 grados Figura 4. Inconsistencia cuando el retraso de la transmisión de la red es de 300 ms y el retraso es de 300 ms.0 10 20 30 40 40 0.0 1.5 3.1 4.6 6.2 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles) GS-DR-Ll GS-DR El umbral es de 4 píxeles o 5 grados Figura 5. Inconsistencia cuando el retraso de la transmisión de la red es de 500 ms y el retraso es de 300 ms. Las Figuras 6, 7 y 8 muestran los resultados de la inconsistencia cuando el retraso de la transmisión de la red se fija en 800 ms y el retraso es de 100, 300 y 500 ms. Se puede ver que con GS-DR-ll antes de la inconsistencia disminuye con el retraso. En el retraso local tradicional, el retraso debe establecerse en un valor mayor que el retraso típico de la transmisión de la red, de lo contrario, las reparaciones del estado inundarían el sistema. De los resultados anteriores, se puede ver que no existe ninguna restricción en la selección del retraso, con GS-DR-Ll, un sistema funcionaría bien incluso si el retraso es mucho más pequeño que el retraso de la transmisión de la red. El quinto taller sobre soporte de red y sistema para los juegos 2006-NetGames 2006 5 De todos los resultados anteriores, puede indicarse que GS-DR y GSDR-LL pueden eliminar después de la inconsistencia, y GS-DR-LLL puede disminuir efectivamente antes de la inconsistencia,y los efectos aumentan con el retraso.0 10 20 30 40 40 0.0 1.5 3.1 4.7 6.2 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) inconsistencia (píxeles (píxeles) GS-DR-Ll GS-DR El umbral es de 4 píxeles o 5 grados Figura 6. Inconsistencia cuando el retraso de la transmisión de la red es de 800 ms y el retraso es de 100 ms.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-Ll GS-DR El umbral es de 4 píxeles o 5 grados Figura 7. Inconsistencia cuando el retraso de la transmisión de la red es de 800 ms y el retraso es de 300 ms.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-Ll GS-DR El umbral es de 4 píxeles o 5 grados Figura 8. Inconsistencia cuando el retraso de la transmisión de la red es de 800 ms y el retraso es de 500 ms.6. Conclusiones en comparación con el DR tradicional, GS-DR puede eliminar después de la inconsistencia a través de la sincronización de los relojes físicos, pero no puede abordar antes de la inconsistencia, lo que influiría significativamente en la usabilidad y la equidad de un juego. En este documento, propusimos un método llamado GS-DR-LL, que combina retraso local y GS-DR, para disminuir antes de la inconsistencia al retrasar la actualización de los resultados de ejecución de las operaciones locales a la escena local. La evaluación del rendimiento indica que GS-DR-LL puede disminuir efectivamente antes de la inconsistencia, y los efectos aumentan con el retraso. GS-DR-LL tiene implicaciones significativas para los enfoques de mantenimiento de consistencia. Primero, GS-DR-LL muestra que el DR mejorado no solo puede eliminarse después de la inconsistencia, sino que también disminuirá 6 El 5º taller en el soporte de redes y sistemas para los juegos 2006-NetGames 2006 antes de la inconsistencia, con el retraso y el umbral adecuados, incluso eliminaría antes de la inconsistencia. Como resultado, la aplicación de DR se puede ampliar enormemente y podría usarse en los sistemas que solicitan una alta consistencia (por ejemplo, juegos altamente interactivos). En segundo lugar, GS-DR-LL muestra que al combinar retraso local y GSDR, se elimina la restricción de seleccionar el valor de retraso y se podría usar un retraso, que es más pequeño que el retraso de transmisión de red típico. Como resultado, la aplicación del retraso local se puede ampliar enormemente y podría usarse en los sistemas que tienen un gran retraso de transmisión de red típico (p. Ej. Juegos basados en Internet).7. Referencias [1] Mauve, M., Vogel, J., Hilt, V. y Effelsberg, W. Local-Lag y TimeWarp: proporcionando consistencia para aplicaciones continuas replicadas. Transacciones IEEE en Multimedia, vol.6, No.1, 2004, 47-57.[2] Li, F.W., Li, L.W. y Lau, R.W. Apoyo a la consistencia continua en los juegos en línea multijugador. En Proc.de ACM Multimedia, 2004, 388-391.[3] Pantel, L. y Wolf, L. Sobre la idoneidad de los esquemas de cálculo muerto para los juegos. En Proc.de NetGames, 2002, 79-84.[4] Alhalabi, M.O., Horiguchi, S. y Kunifuji, S. Un estudio experimental sobre los efectos del retraso de la red en el entorno virtual háptico compartido cooperativo. Computadoras y gráficos, vol.27, No. 2, 2003, 205-213.[5] Pantel, L. y Wolf, L.C. Sobre el impacto del retraso en los juegos multijugador en tiempo real. En Proc.de Nossdav, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C. y Brooks, F.P. Efecto de la latencia en la presencia en entornos virtuales estresantes. En Proc.de IEEE VR, 2003, 141-148.[7] Bernier, Y.W. Métodos de compensación de latencia en el diseño y optimización del protocolo del cliente/servidor. En Proc.de la conferencia de desarrolladores de juegos, 2001. [8] Aggarwal, S., Banavar, H. y Khandelwal, A. Precisión en juegos de juego múltiples basados en la reducción muerta. En Proc.de NetGames, 2004, 161-165.[9] Raynal, M. y Schiper, A. Desde la consistencia causal hasta la consistencia secuencial en los sistemas de memoria compartida. En Proc.de la Conferencia sobre Fundamentos de la Tecnología de Software e Informática Teórica, 1995, 180-194.[10] Ahamad, M., Burns, J.E., Hutto, P.W. y Neiger, G. Memoria causal. En Proc.del taller internacional sobre algoritmos distribuidos, 1991, 9-30.[11] Herlihy, M. y Wing, J. Linealizabilidad: una condición de corrección para objetos concurrentes. Transacciones ACM en lenguajes y sistemas de programación, vol.12, No. 3, 1990, 463-492.[12] Misra, J. Axioms para el acceso a la memoria en sistemas de hardware asincrónicos. Transacciones ACM en lenguajes y sistemas de programación, vol.8, No. 1, 1986, 142-153.[13] Dabrowski, J.R. y Munson, E.V. Es 100 milisegundos demasiado rápido. En Proc.de la Conferencia Sigchi sobre Factores Humanos en Sistemas de Computación, 2001, 317-318.[14] Chen, H., Chen, L. y Chen, G.C. Efectos del mecanismo de retraso local en el rendimiento de la cooperación en un sistema CVE de escritorio. Journal of Computer Science and Technology, vol.20, No. 3, 2005, 396-401.[15] Chen, L., Chen, H. y Chen, G.C. Echo: un método para mejorar la calidad de interacción de las CVE. En Proc.de IEEE VR, 2005, 269-270. El quinto taller sobre el soporte de redes y sistemas para los juegos 2006 - NetGames 2006 7",
    "original_sentences": [
        "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
        "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
        "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
        "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
        "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
        "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
        "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
        "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
        "General Terms Algorithms, Performance, Experimentation. 1.",
        "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
        "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
        "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
        "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
        "Although new network techniques (e.g.",
        "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
        "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
        "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
        "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
        "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
        "It synchronizes the physical clocks of all sites in a system.",
        "After an operation is issued at local site, it delays the execution of the operation for a short time.",
        "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
        "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
        "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
        "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
        "DR is based on state transmission mechanism.",
        "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
        "After each update of its own entities, a site compares the accurate state with the estimated one.",
        "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
        "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
        "Compared with aforementioned local lag, DR cannot maintain high consistency.",
        "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
        "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
        "Detailed description of GS-DR can be found in Section 3.",
        "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
        "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
        "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
        "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
        "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
        "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
        "DR).",
        "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
        "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
        "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
        "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
        "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
        "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
        "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
        "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
        "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
        "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
        "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
        "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
        "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
        "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
        "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
        "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
        "Before inconsistency is caused by two reasons.",
        "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
        "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
        "Figure 1.",
        "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
        "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
        "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
        "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
        "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
        "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
        "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
        "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
        "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
        "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
        "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
        "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
        "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
        "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
        "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
        "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
        "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
        "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
        "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
        "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
        "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
        "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
        "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
        "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
        "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
        "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
        "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
        "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
        "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
        "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
        "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
        "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
        "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
        "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
        "The aforementioned is the basic mechanism of GS-DR-LL.",
        "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
        "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
        "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
        "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
        "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
        "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
        "At time point t2, the state update is received by remote site j.",
        "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
        "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
        "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
        "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
        "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
        "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
        "Figure 2.",
        "The paths of a shared entity by using GS-DR and GS-DR-LL.",
        "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
        "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
        "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
        "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
        "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
        "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
        "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
        "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
        "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
        "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
        "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
        "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
        "If a spaceship is hit by a laser beam, its life points decrease one.",
        "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
        "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
        "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
        "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
        "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
        "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
        "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
        "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
        "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
        "The procedure of performance evaluation was composed of three steps.",
        "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
        "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
        "In the second step, the physical clocks of the two computers were synchronized first.",
        "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
        "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
        "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
        "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
        "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
        "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
        "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
        "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
        "It can been seen that inconsistency does exist, but in most of the time it is 0.",
        "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
        "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
        "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
        "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
        "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
        "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
        "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
        "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
        "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
        "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
        "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
        "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
        "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
        "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
        "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
        "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
        "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
        "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
        "GS-DR-LL has significant implications to consistency maintenance approaches.",
        "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
        "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
        "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
        "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
        "Internet based games). 7.",
        "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
        "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
        "Supporting Continuous Consistency in Multiplayer Online Games.",
        "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
        "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
        "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
        "On the Impact of Delay on RealTime Multiplayer Games.",
        "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
        "Effect of Latency on Presence in Stressful Virtual Environments.",
        "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
        "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
        "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
        "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
        "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
        "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
        "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
        "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
        "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
        "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
        "Is 100 Milliseconds too Fast.",
        "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
        "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
        "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
        "Echo: a Method to Improve the Interaction Quality of CVEs.",
        "In Proc. of IEEE VR, 2005, 269-270.",
        "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
    ],
    "error_count": 0,
    "keys": {
        "local lag": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with <br>local lag</br> for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with <br>local lag</br> (GS-DR-LL), which combines <br>local lag</br> and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which <br>local lag</br> and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed <br>local lag</br> to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "<br>local lag</br> can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned <br>local lag</br>, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with <br>local lag</br> (GS-DR-LL), which combines <br>local lag</br> and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH <br>local lag</br> From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with <br>local lag</br> and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by <br>local lag</br>, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of <br>local lag</br> on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of <br>local lag</br> on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional <br>local lag</br> requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional <br>local lag</br>, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines <br>local lag</br> and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining <br>local lag</br> and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of <br>local lag</br> can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Reckoning muerto sincronizado globalmente con \"retraso local\" para juegos multijugador distribuidos continuos Yi Zhang1, Ling Chen1, 2, Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R. Local Lag",
                "En este artículo, se presenta un método llamado DR sincronizado globalmente con \"LAG local\" (GS-DR-LL), que combina \"retraso local\" y DR sincronizado globalmente (GS-DR).retraso local",
                "Para mantener la consistencia para los sistemas distribuidos, se han propuesto muchos enfoques diferentes, entre los cuales el \"retraso local\" y la madera muerta (DR) son dos enfoques representativos.retraso local",
                "Mauve et al [1] propusieron \"retraso local\" para mantener una alta consistencia para aplicaciones continuas replicadas.retraso local",
                "El \"retraso local\" puede lograr una alta consistencia significativa, pero se basa en la transmisión de operación, que reenvía cada operación en una entidad compartida a sitios remotos.retraso local",
                "En comparación con el \"retraso local\" mencionado anteriormente, el DR no puede mantener una alta consistencia.retraso local",
                "En este artículo, proponemos un nuevo método llamado DR sincronizado globalmente con \"LAG LOCAL\" (GS-DR-LL), que combina \"LAG local\" y GS-DR.Al retrasar la actualización al sitio local, GS-DR-LL puede lograr una mayor consistencia que GS-DR.retraso local",
                "DR sincronizado globalmente con \"retraso local\" del análisis en la Sección 3, se puede ver que GS-DR puede eliminar después de la inconsistencia, pero no puede abordar de manera efectiva antes de la inconsistencia.retraso local",
                "Para disminuir antes de la inconsistencia, proponemos GS-DR-LL, que combina GS-DR con el \"retraso local\" y puede disminuir efectivamente antes de la inconsistencia.retraso local",
                "Además, se supone que la escena del juego se actualiza a una frecuencia fija y T representa el intervalo de tiempo entre dos actualizaciones consecutivas, por ejemplo, si la frecuencia de actualización de la escena es de 50 Hz, T sería de 20 ms.N significa el valor de retraso utilizado por el \"retraso local\", y T representa el tiempo físico actual.retraso local",
                "Para GS-DR-LL, la selección del valor de retraso N es muy importante, y se deben considerar tanto el retraso de la transmisión de la red como los efectos del \"retraso local\" en la interacción.retraso local",
                "De lo contrario, se puede establecer en términos de los efectos del \"retraso local\" en la interacción de un sistema [14].retraso local",
                "Las solicitudes tradicionales de \"retraso local\" de que el valor de retraso debe ser mayor que el retraso típico de la transmisión de la red; de lo contrario, las reparaciones de estado inundarían el sistema.retraso local",
                "En el \"retraso local\" tradicional, el retraso debe establecerse en un valor mayor que el retraso de transmisión de red típico, de lo contrario, las reparaciones de estado inundarían el sistema.retraso local",
                "En este documento, propusimos un método llamado GS-DR-LL, que combina el \"retraso local\" y GS-DR, para disminuir antes de la inconsistencia mediante la retrasación de la actualización de los resultados de ejecución de las operaciones locales a la escena local.retraso local",
                "En segundo lugar, GS-DR-LL muestra que al combinar el \"retraso local\" y GSDR, se elimina la restricción de seleccionar el valor de retraso y se podría usar un retraso, que es más pequeño que el retraso de transmisión de red típico.retraso local",
                "Como resultado, la aplicación de \"retraso local\" puede ampliarse enormemente y podría usarse en los sistemas que tienen un gran retraso de transmisión de red típico (por ejemplo, retraso local"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "multiplayer game": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed <br>multiplayer game</br>s adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Introducción hoy en día, muchos juegos distribuidos de \"juego multijugador\" adoptan arquitecturas replicadas.juego multijugador"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "consistency": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain <br>consistency</br> for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high <br>consistency</br>, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher <br>consistency</br>, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the <br>consistency</br> problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain <br>consistency</br> for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high <br>consistency</br> for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high <br>consistency</br>, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain <br>consistency</br> but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high <br>consistency</br>.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high <br>consistency</br>, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher <br>consistency</br> than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of <br>consistency</br> and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "<br>consistency</br> DEFINITIONS AND METRICS The <br>consistency</br> of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of <br>consistency</br> for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of <br>consistency</br> in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the <br>consistency</br> of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of <br>consistency</br> at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the <br>consistency</br> of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the <br>consistency</br> of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of <br>consistency</br> in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the <br>consistency</br> of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the <br>consistency</br> of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the <br>consistency</br> of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before <br>consistency</br> is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high <br>consistency</br> and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and <br>consistency</br> maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 <br>consistency</br> maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to <br>consistency</br> maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high <br>consistency</br> (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing <br>consistency</br> for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous <br>consistency</br> in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal <br>consistency</br> to Sequential <br>consistency</br> in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "China 2School of Computer Science and IT, Universidad de Nottingham, Nottingham NG8 1BB, Reino Unido {M05zhangyi, Lingchen, chengc}@cs.zju.edu.cn abstracto de rescate (DR) es un método efectivo para mantener la \"consistencia\" para \"para\"Juegos multijugador distribuidos continuos (CDMG).consistencia",
                "Sin embargo, el DR no puede mantener una alta \"consistencia\", y esto limita su aplicación en juegos altamente interactivos.consistencia",
                "Con la ayuda de la sincronización global, el DR puede lograr una \"consistencia\" más alta, pero aún no puede eliminar antes de la inconsistencia.consistencia",
                "Al igual que otras aplicaciones distribuidas, CDMG también sufre el problema de \"consistencia\" causado por el retraso de la transmisión de la red.consistencia",
                "Para mantener la \"consistencia\" para los sistemas distribuidos, se han propuesto muchos enfoques diferentes, entre los cuales el retraso local y la madera muerta (DR) son dos enfoques representativos.consistencia",
                "Mauve et al [1] propusieron un retraso local para mantener una alta \"consistencia\" para aplicaciones continuas replicadas.consistencia",
                "El retraso local puede lograr una \"consistencia\" alta significativa, pero se basa en la transmisión de operación, que reenvía cada operación en una entidad compartida a sitios remotos.consistencia",
                "A través de la estimación de estado, el DR no solo puede mantener la \"consistencia\" sino que también disminuir el número de actualizaciones de estado transmitidas.consistencia",
                "En comparación con el retraso local antes mencionado, el DR no puede mantener una alta \"consistencia\".consistencia",
                "Para hacer que DR mantenga una alta \"consistencia\", Aggarwal et al [8] propusieron DR sincronizado globalmente (GS-DR), que sincroniza los relojes físicos de todos los sitios en un sistema y agrega sellos de tiempo a las actualizaciones de estado transmitidas.consistencia",
                "En este artículo, proponemos un nuevo método llamado DR sincronizado globalmente con LAG local (GS-DR-LL), que combina LAG local y GS-DR.Al retrasar la actualización al sitio local, GS-DR-LL puede lograr una \"consistencia\" más alta que GS-DR.consistencia",
                "El resto de este documento se organiza de la siguiente manera: la Sección 2 da la definición de \"consistencia\" y las métricas correspondientes;La causa de la inconsistencia de la DR se analiza en la Sección 3;La Sección 4 describe cómo funciona GS-DR-LL;La evaluación del rendimiento se presenta en la Sección 5;La Sección 6 concluye el documento.2. consistencia",
                "Definiciones y métricas de \"consistencia\" La \"consistencia\" de las aplicaciones replicadas ya se ha definido bien en dominio discreto [9, 10, 11, 12], pero se han realizado pocos trabajos relacionados en el dominio continuo.consistencia",
                "Mauve et al [1] han dado una definición de \"consistencia\" para aplicaciones replicadas en dominio continuo, pero la definición se basa en la transmisión de operación y es difícil para la definición describir los métodos basados en la transmisión del estado (por ejemplo, consistencia",
                "Aquí, presentamos una definición alternativa de \"consistencia\" en el dominio continuo, que se adapta bien a los métodos basados en la transmisión del estado.consistencia",
                "Se necesitan métricas correspondientes para medir la \"consistencia\" de las entidades compartidas entre sitios locales y remotos.consistencia",
                "De (I, J, T) se puede usar como métrica para medir el grado de \"consistencia\" en un punto de tiempo determinado.consistencia",
                "Si de (i, j, t1)> de (i, j, t2), se puede afirmar que entre los sitios I y J, la \"consistencia\" de los estados de la entidad E en el tiempo T1 es más bajo que el momento en el momentopunto T2.consistencia",
                "Si de (i, j, t)> de (l, k, t), se puede afirmar que, en el punto de tiempo t, la \"consistencia\" de los estados de entidad e entre los sitios I y J es más bajo que la entre lasSitios L y K.Del mismo modo, DE (I, J, T1, T2) se puede utilizar como métrica para medir el grado de \"consistencia\" en un período de tiempo determinado.consistencia",
                "Si de (i, j, t1, t2)> de (i, j, t3, t4) y | t1 - t2 |= | T3 - T4 |, se puede afirmar que entre los sitios I y J, la \"consistencia\" de los estados de entidad E entre los puntos de tiempo T1 y T2 es más bajo que el de los puntos de tiempo T3 y T4.consistencia",
                "Si de (i, j, t1, t2)> de (l, k, t1, t2), se puede afirmar que entre los puntos de tiempo T1 y T2, la \"consistencia\" de los estados de entidad E entre los sitios I y Jes más bajo que el de los sitios L y K.En DR, los estados de entidades están compuestos por las posiciones y orientaciones de las entidades y algunos parámetros relacionados con la predicción (por ejemplo, las velocidades de las entidades).consistencia",
                "Dados dos sitios distintos I y J, que han replicado una entidad compartida e, en un punto de tiempo t, las posiciones de E en los sitios I y J son (XIT, YIT, ZIT) y (XJT, YJT, ZJT), DE(I, J, T) y D (i, J, T1, T2) podrían calcularse como: de (i, j, t) =) zz () yy () xx (jtit 2 jtit 2 jtit 2 (3)De (i, j, t1, t2) = dt) zz () yy () xx (2t 1t jtit 2 jtit 2 jtit 2 (4) En este documento, las fórmulas (3) y (4) se usan como métricas para medirLa \"consistencia\" de las entidades compartidas entre sitios locales y remotos. 3. Consistencia",
                "De la Figura 1, se puede ver que la inconsistencia posterior es 0, y la \"consistencia\" anterior está compuesta de dos partes, D1 y D2.consistencia",
                "En juegos altamente interactivos, que solicitan una alta \"consistencia\" y se pueden emplear GS-DR-LL-LL, los resultados de las operaciones son bastante difíciles de estimar y se debe usar un umbral pequeño.consistencia",
                "Bajo diferentes entornos y enfoques de mantenimiento de \"consistencia\", la secuencia de suboperación seleccionada se reprodujo en una computadora, y condujo las dos naves espaciales, una era local y la otra era remota, para moverse.consistencia",
                "Dado que hay 12 ajustes y 2 enfoques de mantenimiento de \"consistencia\", el número total de parejas de pista grabadas fue 24. Consistencia",
                "GS-DR-LL tiene implicaciones significativas para los enfoques de mantenimiento de \"consistencia\".consistencia",
                "Como resultado, la aplicación de DR se puede ampliar enormemente y podría usarse en los sistemas que solicitan una alta \"consistencia\" (por ejemplo, juegos altamente interactivos).consistencia",
                "Referencias [1] Mauve, M., Vogel, J., Hilt, V. y Effelsberg, W. Local-Lag y TimeWarp: proporcionando \"consistencia\" para aplicaciones continuas replicadas.consistencia",
                "Apoyo a la \"consistencia\" continua en los juegos en línea multijugador.consistencia",
                "Desde la \"consistencia\" causal hasta la \"consistencia\" secuencial en los sistemas de memoria compartida.consistencia"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "network transmission delay": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by <br>network transmission delay</br>.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of <br>network transmission delay</br> in different applications [4, 5, 6, 7].",
                "In replication based games, <br>network transmission delay</br> makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional <br>network transmission delay</br>, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to <br>network transmission delay</br>, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to <br>network transmission delay</br>, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is <br>network transmission delay</br>, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by <br>network transmission delay</br>. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by <br>network transmission delay</br> and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by <br>network transmission delay</br>, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by <br>network transmission delay</br> and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both <br>network transmission delay</br> and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if <br>network transmission delay</br> is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the <br>network transmission delay</br>, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical <br>network transmission delay</br>, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical <br>network transmission delay</br>.",
                "In this case, the before inconsistency caused by <br>network transmission delay</br> still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate <br>network transmission delay</br>, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and <br>network transmission delay</br> were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the <br>network transmission delay</br> was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the <br>network transmission delay</br>, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the <br>network transmission delay</br> is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the <br>network transmission delay</br> and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the <br>network transmission delay</br> is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the <br>network transmission delay</br> is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the <br>network transmission delay</br> is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the <br>network transmission delay</br> is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical <br>network transmission delay</br>, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the <br>network transmission delay</br>.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the <br>network transmission delay</br> is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the <br>network transmission delay</br> is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the <br>network transmission delay</br> is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical <br>network transmission delay</br>, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical <br>network transmission delay</br> (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Al igual que otras aplicaciones distribuidas, CDMG también sufre el problema de consistencia causado por el \"retraso de la transmisión de red\".Retraso de transmisión de red",
                "Hay muchos estudios sobre los efectos del \"retraso de la transmisión de la red\" en diferentes aplicaciones [4, 5, 6, 7].Retraso de transmisión de red",
                "En los juegos basados en la replicación, el \"retraso de la transmisión de red\" hace que los estados de los sitios locales y remotos sean inconsistentes, lo que puede causar serios problemas, como reducir la equidad de un juego y conducir a situaciones paradójicas, etc. Retraso de transmisión de red",
                "Para abordar la inconsistencia causada por un \"retraso de transmisión de red\" excepcional, se propone un mecanismo basado en la urdimbre de tiempo para reparar el estado.Retraso de transmisión de red",
                "Debido a \"retraso de transmisión de red\", cuando un sitio remoto recibe una actualización estatal de una entidad, el estado de la entidad podría haber cambiado en el sitio enviando la actualización del estado.Retraso de transmisión de red",
                "Debido al \"retraso de la transmisión de la red\", es difícil mantener los estados de las entidades compartidas absolutamente consistentes.Retraso de transmisión de red",
                "La segunda razón es el \"retraso de la transmisión de red\", ya que una entidad compartida se puede sincronizar solo después de que los sitios remotos que reciban la actualización del estado correspondiente.Retraso de transmisión de red",
                "D1 es DE (I, J, T0, T1) y es causado por el mecanismo de filtrado de estado de DR.D2 es DE (I, J, T1, T2) y es causado por \"retraso de transmisión de red\".4. Retraso de transmisión de red",
                "Tenga en cuenta que T2 - T1 es causado por \"retraso de transmisión de red\" y T1 - T0 es causado por el mecanismo de filtrado de estado de DR.Retraso de transmisión de red",
                "Si N es más grande que T2-T1, GS-DR-LLL puede eliminar la inconsistencia anterior causada por el \"retraso de la transmisión de la red\", pero no puede eliminar la inconsistencia anterior causada por el mecanismo de filtrado de estado de DR (a menos que el umbral esté configurado en 0).Retraso de transmisión de red",
                "Por lo tanto, en la práctica, la mayoría antes de la inconsistencia es causada por el \"retraso de la transmisión de la red\" y GS-DR-LL tiene la capacidad de eliminar tal antes de la inconsistencia.Retraso de transmisión de red",
                "Para GS-DR-LL, la selección del valor de retraso N es muy importante, y tanto el \"retraso de la transmisión de red\" como los efectos del retraso local en la interacción.Retraso de transmisión de red",
                "Por lo tanto, si el \"retraso de la transmisión de red\" es menor que el valor específico de un sistema de juego, N se puede establecer en el valor específico.Retraso de transmisión de red",
                "En el caso de que N sea mayor que el \"retraso de la transmisión de red\", GS-DR-LL puede eliminar más antes de la inconsistencia.Retraso de transmisión de red",
                "Las solicitudes de retraso locales tradicionales de que el valor de retraso debe ser mayor que el \"retraso de transmisión de red\" típico, de lo contrario, las reparaciones de estado inundarían el sistema.Retraso de transmisión de red",
                "Sin embargo, GS-DR-LL permite que N sea más pequeño que el \"retraso de transmisión de red\" típico.Retraso de transmisión de red",
                "En este caso, la inconsistencia anterior causada por el \"retraso de la transmisión de la red\" todavía existe, pero puede disminuir.5. Retraso de transmisión de red",
                "Para simular \"retraso de transmisión de red\", se desarrolló un módulo específico para retrasar todos los paquetes transmitidos entre las dos computadoras en términos de un valor de retraso predefinido.Retraso de transmisión de red",
                "Se utilizaron seis combinaciones diferentes de retraso y \"retraso de transmisión de red\" en la evaluación y podrían dividirse en dos categorías.Retraso de transmisión de red",
                "En la otra categoría, el \"retraso de la transmisión de red\" se solucionó a 800 ms y se usaron tres retrasos diferentes (100 ms, 300 ms y 500 ms).Retraso de transmisión de red",
                "Además, la inconsistencia aumenta con el \"retraso de la transmisión de la red\", pero disminuye con el umbral.Retraso de transmisión de red",
                "En comparación con GS-DR, GS-DR-LL puede disminuir más inconsistencia, y elimina la mayor inconsistencia cuando el \"retraso de la transmisión de red\" es de 100 ms y el umbral es de 4 píxeles o 5 grados.4 El quinto taller sobre soporte de red y sistema para los juegos 2006 - NetGames 2006 Según los mecanismos de predicción y filtrado de estado de DR, la inconsistencia no puede eliminarse por completo si el umbral no es 0. Retraso de transmisión de red",
                "Se puede prever que con retraso y umbral adecuados (por ejemplo, el retraso es mayor que el \"retraso de la transmisión de red\" y el umbral es 0), GS-DR-LL incluso puede eliminar antes de la inconsistencia.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 3. Retraso de transmisión de red",
                "Inconsistencia cuando el \"retraso de la transmisión de red\" es de 100 ms y el retraso es de 300 ms.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 4. Retraso de transmisión de red",
                "Inconsistencia cuando el \"retraso de la transmisión de red\" es de 300 ms y el retraso es de 300 ms.0 10 20 30 40 40 0.0 1.5 3.1 4.6 6.2 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 5. Retraso de transmisión de red",
                "Inconsistencia cuando el \"retraso de la transmisión de red\" es de 500 ms y el retraso es de 300 ms.Retraso de transmisión de red",
                "Las Figuras 6, 7 y 8 muestran los resultados de la inconsistencia cuando el \"retraso de la transmisión de red\" se fija en 800 ms y el retraso es de 100, 300 y 500 ms.Retraso de transmisión de red",
                "En el retraso local tradicional, el retraso debe establecerse en un valor mayor que el \"retraso de transmisión de red\" típico, de lo contrario, las reparaciones de estado inundarían el sistema.Retraso de transmisión de red",
                "De los resultados anteriores, se puede ver que no existe ninguna restricción en la selección del retraso, con GS-DR-Ll, un sistema funcionaría bien incluso si el retraso es mucho más pequeño que el \"retraso de la transmisión de red\".Retraso de transmisión de red",
                "Inconsistencia cuando el \"retraso de la transmisión de red\" es de 800 ms y el retraso es de 100 ms.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 7. Retraso de transmisión de red",
                "Inconsistencia cuando el \"retraso de la transmisión de red\" es de 800 ms y el retraso es de 300 ms.0 10 20 30 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) GS-DR-LL GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Inconsistencia (segundos) (píxeles (píxeles) (píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 8. Retraso de transmisión de red",
                "Inconsistencia cuando el \"retraso de la transmisión de red\" es de 800 ms y el retraso es de 500 ms.6. Retraso de transmisión de red",
                "En segundo lugar, GS-DR-LL muestra que al combinar LAG y GSDR locales, se elimina la restricción de seleccionar el valor de retraso y se podría usar un retraso, que es más pequeño que el \"retraso de transmisión de red\" típico.Retraso de transmisión de red",
                "Como resultado, la aplicación del retraso local se puede ampliar enormemente y podría usarse en los sistemas que tienen un \"retraso de transmisión de red\" típico (por ejemplo, retraso de transmisión de red"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "time warp": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a <br>time warp</br> based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Para abordar la inconsistencia causada por un retraso de transmisión de red excepcional, se propone un mecanismo basado en la \"deformación del tiempo\" para reparar el estado.túnel del tiempo"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "accurate state": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the <br>accurate state</br> with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between <br>accurate state</br> and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Después de cada actualización de sus propias entidades, un sitio compara el \"estado preciso\" con el estimado.estado preciso",
                "La primera razón es el retraso de enviar actualizaciones de estado, ya que el sitio local no envía una actualización de estado a menos que la diferencia entre \"estado preciso\" y el estimado sea mayor que un umbral predefinido.estado preciso"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "correction": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make <br>correction</br>s to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Además, es necesario hacer \"corrección\" a un reloj físico de una manera que no resulte en disminuir el valor del reloj, por ejemplo, disminuyendo o deteniendo el reloj por un período de tiempo.corrección"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "physical clock": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing <br>physical clock</br> synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a <br>physical clock</br> in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Al emplear la sincronización del \"reloj físico\", GS-DR puede calcular con precisión los estados de las entidades compartidas después de recibir actualizaciones estatales, y puede eliminar después de la inconsistencia.reloj físico",
                "Además, es necesario hacer correcciones a un \"reloj físico\" de una manera que no resulte en disminuir el valor del reloj, por ejemplo, disminuyendo o deteniendo el reloj por un período de tiempo.reloj físico"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "usability and fairness": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the <br>usability and fairness</br> of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Conclusiones en comparación con el DR tradicional, GS-DR puede eliminar después de la inconsistencia a través de la sincronización de los relojes físicos, pero no puede abordar antes de la inconsistencia, lo que influiría significativamente en la \"usabilidad y la equidad\" de un juego.usabilidad y justicia"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "gs-dr-ll": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (<br>gs-dr-ll</br>), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that <br>gs-dr-ll</br> can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (<br>gs-dr-ll</br>), which combines local lag and GS-DR. By delaying the update to local site, <br>gs-dr-ll</br> can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how <br>gs-dr-ll</br> works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose <br>gs-dr-ll</br>, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In <br>gs-dr-ll</br>, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of <br>gs-dr-ll</br>, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In <br>gs-dr-ll</br>, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and <br>gs-dr-ll</br> is that <br>gs-dr-ll</br> uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of <br>gs-dr-ll</br>.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and <br>gs-dr-ll</br>.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using <br>gs-dr-ll</br>, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or <br>gs-dr-ll</br>, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of <br>gs-dr-ll</br>.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, <br>gs-dr-ll</br> can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and <br>gs-dr-ll</br> might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and <br>gs-dr-ll</br> has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and <br>gs-dr-ll</br>.",
                "To <br>gs-dr-ll</br>, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, <br>gs-dr-ll</br> can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However <br>gs-dr-ll</br> allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate <br>gs-dr-ll</br> and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, <br>gs-dr-ll</br> and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of <br>gs-dr-ll</br> on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, <br>gs-dr-ll</br> can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and <br>gs-dr-ll</br> both can eliminate after inconsistency, and <br>gs-dr-ll</br> can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), <br>gs-dr-ll</br> even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with <br>gs-dr-ll</br> before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with <br>gs-dr-ll</br> a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and <br>gs-dr-ll</br> can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) <br>gs-dr-ll</br> GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named <br>gs-dr-ll</br>, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that <br>gs-dr-ll</br> can effectively decrease before inconsistency, and the effects increase with the lag.",
                "<br>gs-dr-ll</br> has significant implications to consistency maintenance approaches.",
                "First, <br>gs-dr-ll</br> shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, <br>gs-dr-ll</br> shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En este artículo, se presenta un método llamado DR sincronizado globalmente con retraso local (\"GS-DR-LL\"), que combina retraso local y DR sincronizado globalmente (GS-DR).GS-DR-ll",
                "La evaluación del rendimiento muestra que \"GS-DR-LL\" puede disminuir efectivamente antes de la inconsistencia, y los efectos aumentan con el retraso.GS-DR-ll",
                "En este documento, proponemos un nuevo método llamado DR sincronizado globalmente con retraso local (\"GS-DR-ll\"), que combina retraso local y GS-DR.Al retrasar la actualización al sitio local, \"GS-DR-LL\" puede lograr una mayor consistencia que GS-DR.GS-DR-ll",
                "El resto de este documento se organiza de la siguiente manera: la Sección 2 da la definición de consistencia y métricas correspondientes;La causa de la inconsistencia de la DR se analiza en la Sección 3;La Sección 4 describe cómo funciona \"GS-DR-LL\";La evaluación del rendimiento se presenta en la Sección 5;La Sección 6 concluye el documento.2. GS-DR-LL",
                "Para disminuir antes de la inconsistencia, proponemos \"GS-DR-LL\", que combina GS-DR con el retraso local y puede disminuir efectivamente antes de la inconsistencia.GS-DR-ll",
                "En \"GS-DR-ll\", el estado de una entidad compartida en un punto de tiempo T se observa como S = (t, pos, par 1, par 2, ...... par n), en el que POS significa la posiciónde la entidad y el par 1 a par n significa los parámetros para calcular la posición de la entidad.GS-DR-ll",
                "Para simplificar la descripción de \"GS-DR-LL\", se supone que solo hay una entidad compartida y un sitio remoto.GS-DR-ll",
                "En \"GS-DR-ll\", se supone que los relojes físicos de todos los sitios se sincronizan con una desviación de menos de 50 ms (usando NTP o reloj GPS).GS-DR-ll",
                "Después de eso, el sitio local usa Sremote para actualizar la escena local y elimina las actualizaciones del sate, cuyas marcas de tiempo son inferiores a T- n, de R. De la descripción anterior, se puede ver que la principal diferencia entre GS-DR y \"GS-DR-ll \"es que\" GS-DR-LL \"usa las operaciones, cuyo tiempo de problema es menor que T-N, para calcular Sreal.GS-DR-ll",
                "El mencionado anteriormente es el mecanismo básico de \"GS-DR-LL\".GS-DR-ll",
                "La Figura 2 ilustra las rutas de una entidad compartida en el sitio local y el sitio remoto mientras usa GS-DR y \"GS-DR-LL\".GS-DR-ll",
                "Al usar \"GS-DR-LL\", los resultados de la operación se actualizan a la escena local en el punto de tiempo T0 + N.Sin embargo, la operación se usa inmediatamente para calcular la pizarra, por lo tanto, a pesar de GS-DR o \"GS-DR-LL-LL\", en el punto de tiempo T1, encuentro que la diferencia entre la posición precisa y la estimada es más grande que el umbral y élEnvía una actualización estatal al sitio j.GS-DR-ll",
                "El quinto taller sobre el soporte de red y sistema para los juegos 2006 - NetGames 2006 3 con GS -DR, el período de tiempo antes de la inconsistencia es (T2 - T1) + (T1 - T0), mientras que disminuye a (T2 - T1 - N)+ (T1-T0) con la ayuda de \"GS-DR-LL\".GS-DR-ll",
                "Si N es más grande que T2-T1, \"GS-DR-LL\" puede eliminar la inconsistencia anterior causada por el retraso de la transmisión de la red, pero no puede eliminar la inconsistencia anterior causada por el mecanismo de filtrado de estado de DR (a menos que el umbral esté configurado en 0).GS-DR-ll",
                "En juegos altamente interactivos, que solicitan una alta consistencia y se puede emplear \"GS-DR-LL\", los resultados de las operaciones son bastante difíciles de estimar y se debe usar un umbral pequeño.GS-DR-ll",
                "Por lo tanto, en la práctica, la mayoría antes de la inconsistencia es causada por el retraso de la transmisión de la red y \"GS-DR-LL\" tiene la capacidad de eliminar tal antes de la inconsistencia.GS-DR-ll",
                "Los caminos de una entidad compartida utilizando GS-DR y \"GS-DR-LL\".GS-DR-ll",
                "Para \"GS-DR-LL\", la selección del valor de retraso N es muy importante, y se deben considerar tanto el retraso de transmisión de la red como los efectos del retraso local en la interacción.GS-DR-ll",
                "En el caso de que N sea mayor que el retraso de la transmisión de la red, \"GS-DR-LL\" puede eliminar la mayoría de la inconsistencia.GS-DR-ll",
                "Sin embargo, \"GS-DR-LL\" permite que N sea más pequeño que el retraso típico de la transmisión de la red.GS-DR-ll",
                "Evaluación del rendimiento Para evaluar \"GS-DR-LL\" y compararlo con GS-DR en una aplicación real, habíamos implementado ambos métodos en un juego en red llamado SpaceShip [1].GS-DR-ll",
                "En nuestra implementación práctica, \"GS-DR-ll\" y GS-DR coexistieron en el sistema de juego, y el lecho de prueba estaba compuesto por dos computadoras conectadas por Ethernet de 100 m, con una computadora actuada como sitio local y el otro actuó comositio remoto.GS-DR-ll",
                "El objetivo principal de la evaluación del desempeño es estudiar los efectos de \"GS-DR-LL\" al disminuir antes de la inconsistencia en un sistema de juego particular bajo diferentes umbrales, retrasos y retrasos en la transmisión de red.GS-DR-ll",
                "En comparación con GS-DR, \"GS-DR-LL\" puede disminuir más inconsistencia, y elimina la mayor inconsistencia cuando el retraso de la transmisión de la red es de 100 ms y el umbral es de 4 píxeles o 5 grados.4 El quinto taller sobre soporte de red y sistema para los juegos 2006-NetGames 2006 Según los mecanismos de predicción y filtrado de estado de DR, la inconsistencia no puede eliminarse por completo si el umbral no es 0. GS-DR-LLL",
                "Con las definiciones de la inconsistencia antes y después de la inconsistencia, se puede indicar que GS-DR y \"GS-DR-LL\" pueden eliminar después de la inconsistencia, y \"GS-DR-LL\" puede disminuir efectivamente antes de la inconsistencia.GS-DR-ll",
                "Se puede prever que con el retraso y el umbral adecuados (por ejemplo, el retraso es más grande que el retraso de la transmisión de la red y el umbral es 0), \"GS-DR-LL\" incluso puede eliminar antes de la inconsistencia.0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) \"GS-DR-ll\" GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia(píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 3. GS-DR-LL",
                "Inconsistencia cuando el retraso de la transmisión de la red es de 100 ms y el retraso es de 300 ms.0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) \"GS-DR-ll\" GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia(píxeles) \"GS-DR-Ll\" GS-DR El umbral es de 4 píxeles o 5 grados Figura 4. GS-DR-LL",
                "Inconsistencia cuando el retraso de la transmisión de la red es de 300 ms y el retraso es de 300 ms.0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Tiempo (segundos) Inconsistencia (píxeles) \"GS-DR-ll\" GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) inconsistencia(píxeles) \"GS-DR-ll\" GS-DR El umbral es de 4 píxeles o 5 grados Figura 5. GS-DR-LL",
                "Se puede ver que con \"GS-DR-ll\" antes de que la inconsistencia disminuya con el retraso.GS-DR-ll",
                "De los resultados anteriores, se puede ver que no existe ninguna restricción en la selección del retraso, con \"GS-DR-ll\", un sistema funcionaría bien incluso si el retraso es mucho más pequeño que el retraso de la transmisión de la red.GS-DR-ll",
                "El quinto taller sobre el soporte de red y sistema para los juegos 2006-NetGames 2006 5 De todos los resultados anteriores, puede indicarse que GS-DR y GSDR-LL pueden eliminar después de la inconsistencia, y \"GS-DR-LL\" puede disminuir efectivamente antesinconsistencia, y los efectos aumentan con el retraso.0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Tiempo (segundos) Inconsistencia (píxeles) \"GS-DR-ll\" GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia(píxeles) GS-DR-LL GS-DR El umbral es de 4 píxeles o 5 grados Figura 6. GS-DR-LL",
                "Inconsistencia cuando el retraso de la transmisión de la red es de 800 ms y el retraso es de 100 ms.0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) \"GS-DR-ll\" GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia(píxeles) \"GS-DR-ll\" GS-DR El umbral es de 4 píxeles o 5 grados Figura 7. GS-DR-LL",
                "Inconsistencia cuando el retraso de la transmisión de la red es de 800 ms y el retraso es de 300 ms.0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia (píxeles) \"GS-DR-ll\" GS-DR El umbral es de 10 píxeles o 15 grados 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Tiempo (segundos) Inconsistencia(píxeles) \"GS-DR-ll\" GS-DR El umbral es de 4 píxeles o 5 grados Figura 8. GS-DR-LL",
                "En este documento, propusimos un método llamado \"GS-DR-LL\", que combina retraso local y GS-DR, para disminuir antes de la inconsistencia mediante la retrasación de la actualización de los resultados de ejecución de las operaciones locales a la escena local.GS-DR-ll",
                "La evaluación del rendimiento indica que \"GS-DR-LL\" puede disminuir efectivamente antes de la inconsistencia, y los efectos aumentan con el retraso.GS-DR-ll",
                "\"GS-DR-LL\" tiene implicaciones significativas para los enfoques de mantenimiento de consistencia.GS-DR-ll",
                "Primero, \"GS-DR-LL\" muestra que el DR mejorado no solo puede eliminarse después de la inconsistencia, sino también disminuir 6 El 5º taller en el soporte de redes y sistemas para los juegos 2006-NetGames 2006 antes de la inconsistencia, con un retraso y un umbral adecuados, incluso eliminaríaantes de la inconsistencia.GS-DR-ll",
                "En segundo lugar, \"GS-DR-LL\" muestra que al combinar LAG y GSDR locales, se elimina la restricción de seleccionar el valor de retraso y se podría usar un retraso, que es más pequeño que el retraso de transmisión de red típico.GS-DR-ll"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "distribute multi-player game": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "continuous replicate application": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "dead-reckon": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Globally Synchronized Dead-Reckoning with Local Lag for Continuous Distributed Multiplayer Games Yi Zhang1 , Ling Chen1, 2 , Gencai Chen1 1College of Computer Science, Zhejiang University, Hangzhou 310027, P.R.",
                "China 2School of Computer Science and IT, The University of Nottingham, Nottingham NG8 1BB, UK {m05zhangyi, lingchen, chengc}@cs.zju.edu.cn ABSTRACT Dead-Reckoning (DR) is an effective method to maintain consistency for Continuous Distributed Multiplayer Games (CDMG).",
                "Since DR can filter most unnecessary state updates and improve the scalability of a system, it is widely used in commercial CDMG.",
                "However, DR cannot maintain high consistency, and this constrains its application in highly interactive games.",
                "With the help of global synchronization, DR can achieve higher consistency, but it still cannot eliminate before inconsistency.",
                "In this paper, a method named Globally Synchronized DR with Local Lag (GS-DR-LL), which combines local lag and Globally Synchronized DR (GS-DR), is presented.",
                "Performance evaluation shows that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems - distributed applications.",
                "General Terms Algorithms, Performance, Experimentation. 1.",
                "INTRODUCTION Nowadays, many distributed multiplayer games adopt replicated architectures.",
                "In such games, the states of entities are changed not only by the operations of players, but also by the passing of time [1, 2].",
                "These games are referred to as Continuous Distributed Multiplayer Games (CDMG).",
                "Like other distributed applications, CDMG also suffer from the consistency problem caused by network transmission delay.",
                "Although new network techniques (e.g.",
                "QoS) can reduce or at least bound the delay, they can not completely eliminate it, as there exists the physical speed limitation of light, for instance, 100 ms is needed for light to propagate from Europe to Australia [3].",
                "There are many studies about the effects of network transmission delay in different applications [4, 5, 6, 7].",
                "In replication based games, network transmission delay makes the states of local and remote sites to be inconsistent, which can cause serious problems, such as reducing the fairness of a game and leading to paradoxical situations etc.",
                "In order to maintain consistency for distributed systems, many different approaches have been proposed, among which local lag and Dead-Reckoning (DR) are two representative approaches.",
                "Mauve et al [1] proposed local lag to maintain high consistency for replicated continuous applications.",
                "It synchronizes the physical clocks of all sites in a system.",
                "After an operation is issued at local site, it delays the execution of the operation for a short time.",
                "During this short time period the operation is transmitted to remote sites, and all sites try to execute the operation at a same physical time.",
                "In order to tackle the inconsistency caused by exceptional network transmission delay, a time warp based mechanism is proposed to repair the state.",
                "Local lag can achieve significant high consistency, but it is based on operation transmission, which forwards every operation on a shared entity to remote sites.",
                "Since operation transmission mechanism requests that all operations should be transmitted in a reliable way, message filtering is difficult to be deployed and the scalability of a system is limited.",
                "DR is based on state transmission mechanism.",
                "In addition to the high fidelity model that maintains the accurate states of its own entities, each site also has a DR model that estimates the states of all entities (including its own entities).",
                "After each update of its own entities, a site compares the accurate state with the estimated one.",
                "If the difference exceeds a pre-defined threshold, a state update would be transmitted to all sites and all DR models would be corrected.",
                "Through state estimation, DR can not only maintain consistency but also decrease the number of transmitted state updates.",
                "Compared with aforementioned local lag, DR cannot maintain high consistency.",
                "Due to network transmission delay, when a remote site receives a state update of an entity the state of the entity might have changed at the site sending the state update.",
                "In order to make DR maintain high consistency, Aggarwal et al [8] proposed Globally Synchronized DR (GS-DR), which synchronizes the physical clocks of all sites in a system and adds time stamps to transmitted state updates.",
                "Detailed description of GS-DR can be found in Section 3.",
                "When a state update is available, GS-DR immediately updates the state of local site and then transmits the state update to remote sites, which causes the states of local site and remote sites to be inconsistent in the transmission procedure.",
                "Thus with the synchronization of physical clocks, GS-DR can eliminate after inconsistency, but it cannot tackle before inconsistency [8].",
                "In this paper, we propose a new method named globally synchronized DR with Local Lag (GS-DR-LL), which combines local lag and GS-DR. By delaying the update to local site, GS-DR-LL can achieve higher consistency than GS-DR.",
                "The rest of this paper is organized as follows: Section 2 gives the definition of consistency and corresponding metrics; the cause of the inconsistency of DR is analyzed in Section 3; Section 4 describes how GS-DR-LL works; performance evaluation is presented in Section 5; Section 6 concludes the paper. 2.",
                "CONSISTENCY DEFINITIONS AND METRICS The consistency of replicated applications has already been well defined in discrete domain [9, 10, 11, 12], but few related work has been done in continuous domain.",
                "Mauve et al [1] have given a definition of consistency for replicated applications in continuous domain, but the definition is based on operation transmission and it is difficult for the definition to describe state transmission based methods (e.g.",
                "DR).",
                "Here, we present an alternative definition of consistency in continuous domain, which suits state transmission based methods well.",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time t, the states of e at sites i and j are Si(t) and Sj(t).",
                "DEFINITION 1: the states of e at sites i and j are consistent at time t, iff: De(i, j, t) = |Si(t) - Sj(t)| = 0 (1) DEFINITION 2: the states of e at sites i and j are consistent between time t1 and t2 (t1 < t2), iff: De(i, j, t1, t2) = dt|)t(S)t(S| t2 t1 ji = 0 (2) In this paper, formulas (1) and (2) are used to determine whether the states of shared entities are consistent between local and remote sites.",
                "Due to network transmission delay, it is difficult to maintain the states of shared entities absolutely consistent.",
                "Corresponding metrics are needed to measure the consistency of shared entities between local and remote sites.",
                "De(i, j, t) can be used as a metric to measure the degree of consistency at a certain time point.",
                "If De(i, j, t1) > De(i, j, t2), it can be stated that between sites i and j, the consistency of the states of entity e at time point t1 is lower than that at time point t2.",
                "If De(i, j, t) > De(l, k, t), it can be stated that, at time point t, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. Similarly, De(i, j, t1, t2) can been used as a metric to measure the degree of consistency in a certain time period.",
                "If De(i, j, t1, t2) > De(i, j, t3, t4) and |t1 - t2| = |t3 - t4|, it can be stated that between sites i and j, the consistency of the states of entity e between time points t1 and t2 is lower than that between time points t3 and t4.",
                "If De(i, j, t1, t2) > De(l, k, t1, t2), it can be stated that between time points t1 and t2, the consistency of the states of entity e between sites i and j is lower than that between sites l and k. In DR, the states of entities are composed of the positions and orientations of entities and some prediction related parameters (e.g. the velocities of entities).",
                "Given two distinct sites i and j, which have replicated a shared entity e, at a given time point t, the positions of e at sites i and j are (xit, yit, zit) and (xjt, yjt, zjt), De(i, j, t) and D (i, j, t1, t2) could be calculated as: De(i, j, t) = )zz()yy()xx( jtit 2 jtit 2 jtit 2 (3) De(i, j, t1, t2) = dt)zz()yy()xx( 2t 1t jtit 2 jtit 2 jtit 2 (4) In this paper, formulas (3) and (4) are used as metrics to measure the consistency of shared entities between local and remote sites. 3.",
                "INCONSISTENCY IN DR The inconsistency in DR can be divided into two sections by the time point when a remote site receives a state update.",
                "The inconsistency before a remote site receives a state update is referred to as before inconsistency, and the inconsistency after a remote site receives a state update is referred to as after inconsistency.",
                "Before inconsistency and after inconsistency are similar with the terms before export error and after export error [8].",
                "After inconsistency is caused by the lack of synchronization between the physical clocks of all sites in a system.",
                "By employing physical clock synchronization, GS-DR can accurately calculate the states of shared entities after receiving state updates, and it can eliminate after inconsistency.",
                "Before inconsistency is caused by two reasons.",
                "The first reason is the delay of sending state updates, as local site does not send a state update unless the difference between accurate state and the estimated one is larger than a predefined threshold.",
                "The second reason is network transmission delay, as a shared entity can be synchronized only after remote sites receiving corresponding state update.",
                "Figure 1.",
                "The paths of a shared entity by using GS-DR. For example, it is assumed that the velocity of a shared entity is the only parameter to predict the entitys position, and current position of the entity can be calculated by its last position and current velocity.",
                "To simplify the description, it is also assumed that there are only two sites i and j in a game session, site i acts as 2 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 local site and site j acts as remote site, and t1 is the time point the local site updates the state of the shared entity.",
                "Figure 1 illustrates the paths of the shared entity at local site and remote site in x axis by using GS-DR. At the beginning, the positions of the shared entity are the same at sites i and j and the velocity of the shared entity is 0.",
                "Before time point t0, the paths of the shared entity at sites i and j in x coordinate are exactly the same.",
                "At time point t0, the player at site i issues an operation, which changes the velocity in x axis to v0.",
                "Site i first periodically checks whether the difference between the accurate position of the shared entity and the estimated one, 0 in this case, is larger than a predefined threshold.",
                "At time point t1, site i finds that the difference is larger than the threshold and it sends a state update to site j.",
                "The state update contains the position and velocity of the shared entity at time point t1 and time point t1 is also attached as a timestamp.",
                "At time point t2, the state update reaches site j, and the received state and the time deviation between time points t1 and t2 are used to calculate the current position of the shared entity.",
                "Then site j updates its replicated entitys position and velocity, and the paths of the shared entity at sites i and j overlap again.",
                "From Figure 1, it can be seen that the after inconsistency is 0, and the before consistency is composed of two parts, D1 and D2.",
                "D1 is De(i, j, t0, t1) and it is caused by the state filtering mechanism of DR. D2 is De(i, j, t1, t2) and it is caused by network transmission delay. 4.",
                "GLOBALLY SYNCHRONIZED DR WITH LOCAL LAG From the analysis in Section 3, It can be seen that GS-DR can eliminate after inconsistency, but it cannot effectively tackle before inconsistency.",
                "In order to decrease before inconsistency, we propose GS-DR-LL, which combines GS-DR with local lag and can effectively decrease before inconsistency.",
                "In GS-DR-LL, the state of a shared entity at a certain time point t is notated as S = (t, pos, par 1, par 2, ……, par n), in which pos means the position of the entity and par 1 to par n means the parameters to calculate the position of the entity.",
                "In order to simplify the description of GS-DR-LL, it is assumed that there are only one shared entity and one remote site.",
                "At the beginning of a game session, the states of the shared entity are the same at local and remote sites, with the same position p0 and parameters pars0 (pars represents all the parameters).",
                "Local site keeps three states: the real state of the entity Sreal, the predicted state at remote site Sp-remote, and the latest state updated to remote site Slate.",
                "Remote site keep only one state Sremote, which is the real state of the entity at remote site.",
                "Therefore, at the beginning of a game session Sreal = Sp-remote = Slate = Sremote = (t0, p0, pars0).",
                "In GS-DR-LL, it is assumed that the physical clocks of all sites are synchronized with a deviation of less than 50 ms (using NTP or GPS clock).",
                "Furthermore, it is necessary to make corrections to a physical clock in a way that does not result in decreasing the value of the clock, for example by slowing down or halting the clock for a period of time.",
                "Additionally it is assumed that the game scene is updated at a fixed frequency and T stands for the time interval between two consecutive updates, for example, if the scene update frequency is 50 Hz, T would be 20 ms. n stands for the lag value used by local lag, and t stands for current physical time.",
                "After updating the scene, local site waits for a constant amount of time T. During this time period, local site receives the operations of the player and stores them in a list L. All operations in L are sorted by their issue time.",
                "At the end of time period T, local site executes all stored operations, whose issue time is between t - T and t, on Slate to get the new Slate, and it also executes all stored operations, whose issue time is between t - (n + T) and t - n, on Sreal to get the new Sreal.",
                "Additionally, local site uses Sp-remote and corresponding prediction methods to estimate the new Sp-remote.",
                "After new Slate, Sreal, and Sp-remote are calculated, local site compares whether the difference between the new Slate and Spremote exceeds the predefined threshold.",
                "If YES, local site sends new Slate to remote site and Sp-remote is updated with new Slate.",
                "Note that the timestamp of the sent state update is t. After that, local site uses Sreal to update local scene and deletes the operations, whose issue time is less than t - n, from L. After updating the scene, remote site waits for a constant amount of time T. During this time period, remote site stores received state update(s) in a list R. All state updates in R are sorted by their timestamps.",
                "At the end of time period T, remote site checks whether R contains state updates whose timestamps are less than t - n. Note that t is current physical time and it increases during the transmission of state updates.",
                "If YES, it uses these state updates and corresponding prediction methods to calculate the new Sremote, else they use Sremote and corresponding prediction methods to estimate the new Sremote.",
                "After that, local site uses Sremote to update local scene and deletes the sate updates, whose timestamps are less than t - n, from R. From the above description, it can been see that the main difference between GS-DR and GS-DR-LL is that GS-DR-LL uses the operations, whose issue time is less than t - n, to calculate Sreal.",
                "That means that the scene seen by local player is the results of the operations issued a period of time (i.e. n) ago.",
                "Meanwhile, if the results of issued operations make the difference between Slate and Sp-remote exceed a predefined threshold, corresponding state updates are sent to remote sites immediately.",
                "The aforementioned is the basic mechanism of GS-DR-LL.",
                "In the case with multiple shared entities and remote sites, local site calculates Slate, Sreal, and Sp-remote for different shared entities respectively, if there are multiple Slate need to be transmitted, local site packets them in one state update and then send it to all remote sites.",
                "Figure 2 illustrates the paths of a shared entity at local site and remote site while using GS-DR and GS-DR-LL.",
                "All conditions are the same with the conditions used in the aforementioned example describing GS-DR.",
                "Compared with t1, t2, and n, T (i.e. the time interval between two consecutive updates) is quite small and it is ignored in the following description.",
                "At time point t0, the player at site i issues an operation, which changes the velocity of the shared entity form 0 to v0.",
                "By using GS-DR-LL, the results of the operation are updated to local scene at time point t0 + n. However the operation is immediately used to calculate Slate, thus in spite of GS-DR or GS-DR-LL, at time point t1 site i finds that the difference between accurate position and the estimated one is larger than the threshold and it sends a state update to site j.",
                "At time point t2, the state update is received by remote site j.",
                "Assuming that the timestamp of the state update is less than t - n, site j uses it to update local scene immediately.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 3 With GS-DR, the time period of before inconsistency is (t2 - t1) + (t1 - t0), whereas it decreases to (t2 - t1 - n) + (t1 - t0) with the help of GS-DR-LL.",
                "Note that t2 - t1 is caused by network transmission delay and t1 - t0 is caused by the state filtering mechanism of DR.",
                "If n is larger than t2 - t1, GS-DR-LL can eliminate the before inconsistency caused by network transmission delay, but it cannot eliminate the before inconsistency caused by the state filtering mechanism of DR (unless the threshold is set to 0).",
                "In highly interactive games, which request high consistency and GS-DR-LL might be employed, the results of operations are quite difficult to be estimated and a small threshold must be used.",
                "Thus, in practice, most before inconsistency is caused by network transmission delay and GS-DR-LL has the capability to eliminate such before inconsistency.",
                "Figure 2.",
                "The paths of a shared entity by using GS-DR and GS-DR-LL.",
                "To GS-DR-LL, the selection of lag value n is very important, and both network transmission delay and the effects of local lag on interaction should be considered.",
                "According to the results of HCI related researches, humans cannot perceive the delay imposed on a system when it is smaller than a specific value, and the specific value depends on both the system and the task.",
                "For example, in a graphical user interface a delay of approximately 150 ms cannot be noticed for keyboard interaction and the threshold increases to 195 ms for mouse interaction [13], and a delay of up to 50 ms is uncritical for a car-racing game [5].",
                "Thus if network transmission delay is less than the specific value of a game system, n can be set to the specific value.",
                "Else n can be set in terms of the effects of local lag on the interaction of a system [14].",
                "In the case that a large n must be used, some HCI methods (e.g. echo [15]) can be used to relieve the negative effects of the large lag.",
                "In the case that n is larger than the network transmission delay, GS-DR-LL can eliminate most before inconsistency.",
                "Traditional local lag requests that the lag value must be larger than typical network transmission delay, otherwise state repairs would flood the system.",
                "However GS-DR-LL allows n to be smaller than typical network transmission delay.",
                "In this case, the before inconsistency caused by network transmission delay still exists, but it can be decreased. 5.",
                "PERFORMANCE EVALUATION In order to evaluate GS-DR-LL and compare it with GS-DR in a real application, we had implemented both two methods in a networked game named spaceship [1].",
                "Spaceship is a very simple networked computer game, in which players can control their spaceships to accelerate, decelerate, turn, and shoot spaceships controlled by remote players with laser beams.",
                "If a spaceship is hit by a laser beam, its life points decrease one.",
                "If the life points of a spaceship decrease to 0, the spaceship is removed from the game and the player controlling the spaceship loses the game.",
                "In our practical implementation, GS-DR-LL and GS-DR coexisted in the game system, and the test bed was composed of two computers connected by 100 M switched Ethernet, with one computer acted as local site and the other acted as remote site.",
                "In order to simulate network transmission delay, a specific module was developed to delay all packets transmitted between the two computers in terms of a predefined delay value.",
                "The main purpose of performance evaluation is to study the effects of GS-DR-LL on decreasing before inconsistency in a particular game system under different thresholds, lags, and network transmission delays.",
                "Two different thresholds were used in the evaluation, one is 10 pixels deviation in position or 15 degrees deviation in orientation, and the other is 4 pixels or 5 degrees.",
                "Six different combinations of lag and network transmission delay were used in the evaluation and they could be divided into two categories.",
                "In one category, the lag was fixed at 300 ms and three different network transmission delays (100 ms, 300 ms, and 500 ms) were used.",
                "In the other category, the network transmission delay was fixed at 800 ms and three different lags (100 ms, 300 ms, and 500 ms) were used.",
                "Therefore the total number of settings used in the evaluation was 12 (2 × 6).",
                "The procedure of performance evaluation was composed of three steps.",
                "In the first step, two participants were employed to play the game, and the operation sequences were recorded.",
                "Based on the records, a sub operation sequence, which lasted about one minute and included different operations (e.g. accelerate, decelerate, and turn), was selected.",
                "In the second step, the physical clocks of the two computers were synchronized first.",
                "Under different settings and consistency maintenance approaches, the selected sub operation sequence was played back on one computer, and it drove the two spaceships, one was local and the other was remote, to move.",
                "Meanwhile, the tracks of the spaceships on the two computers were recorded separately and they were called as a track couple.",
                "Since there are 12 settings and 2 consistency maintenance approaches, the total number of recorded track couples was 24.",
                "In the last step, to each track couple, the inconsistency between them was calculated, and the unit of inconsistency was pixel.",
                "Since the physical clocks of the two computers were synchronized, the calculation of inconsistency was quite simple.",
                "The inconsistency at a particular time point was the distance between the positions of the two spaceships at that time point (i.e. formula (3)).",
                "In order to show the results of inconsistency in a clear way, only parts of the results, which last about 7 seconds, are used in the following figures, and the figures show almost the same parts of the results.",
                "Figures 3, 4, and 5 show the results of inconsistency when the lag is fixed at 300 ms and the network transmission delays are 100, 300, and 500 ms.",
                "It can been seen that inconsistency does exist, but in most of the time it is 0.",
                "Additionally, inconsistency increases with the network transmission delay, but decreases with the threshold.",
                "Compared with GS-DR, GS-DR-LL can decrease more inconsistency, and it eliminates most inconsistency when the network transmission delay is 100 ms and the threshold is 4 pixels or 5 degrees. 4 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 According to the prediction and state filtering mechanisms of DR, inconsistency cannot be completely eliminated if the threshold is not 0.",
                "With the definitions of before inconsistency and after inconsistency, it can be indicated that GS-DR and GS-DR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency.",
                "It can be foreseen that with proper lag and threshold (e.g. the lag is larger than the network transmission delay and the threshold is 0), GS-DR-LL even can eliminate before inconsistency. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 3.",
                "Inconsistency when the network transmission delay is 100 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 4.",
                "Inconsistency when the network transmission delay is 300 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 5.",
                "Inconsistency when the network transmission delay is 500 ms and the lag is 300 ms.",
                "Figures 6, 7, and 8 show the results of inconsistency when the network transmission delay is fixed at 800 ms and the lag are 100, 300, and 500 ms.",
                "It can be seen that with GS-DR-LL before inconsistency decreases with the lag.",
                "In traditional local lag, the lag must be set to a value larger than typical network transmission delay, otherwise the state repairs would flood the system.",
                "From the above results it can be seen that there does not exist any constraint on the selection of the lag, with GS-DR-LL a system would work fine even if the lag is much smaller than the network transmission delay.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 5 From all above results, it can be indicated that GS-DR and GSDR-LL both can eliminate after inconsistency, and GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag. 0 10 20 30 40 0.0 1.5 3.1 4.7 6.2 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 6.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 100 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 7.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 300 ms. 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 10 pixels or 15degrees 0 10 20 30 40 0.0 1.5 3.1 4.6 6.1 Time (seconds) Inconsistency(pixels) GS-DR-LL GS-DR The threshold is 4 pixels or 5degrees Figure 8.",
                "Inconsistency when the network transmission delay is 800 ms and the lag is 500 ms. 6.",
                "CONCLUSIONS Compared with traditional DR, GS-DR can eliminate after inconsistency through the synchronization of physical clocks, but it cannot tackle before inconsistency, which would significantly influence the usability and fairness of a game.",
                "In this paper, we proposed a method named GS-DR-LL, which combines local lag and GS-DR, to decrease before inconsistency through delaying updating the execution results of local operations to local scene.",
                "Performance evaluation indicates that GS-DR-LL can effectively decrease before inconsistency, and the effects increase with the lag.",
                "GS-DR-LL has significant implications to consistency maintenance approaches.",
                "First, GS-DR-LL shows that improved DR can not only eliminate after inconsistency but also decrease 6 The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 before inconsistency, with proper lag and threshold, it would even eliminate before inconsistency.",
                "As a result, the application of DR can be greatly broadened and it could be used in the systems which request high consistency (e.g. highly interactive games).",
                "Second, GS-DR-LL shows that by combining local lag and GSDR, the constraint on selecting lag value is removed and a lag, which is smaller than typical network transmission delay, could be used.",
                "As a result, the application of local lag can be greatly broadened and it could be used in the systems which have large typical network transmission delay (e.g.",
                "Internet based games). 7.",
                "REFERENCES [1] Mauve, M., Vogel, J., Hilt, V., and Effelsberg, W. Local-Lag and Timewarp: Providing Consistency for Replicated Continuous Applications.",
                "IEEE Transactions on Multimedia, Vol. 6, No.1, 2004, 47-57. [2] Li, F.W., Li, L.W., and Lau, R.W.",
                "Supporting Continuous Consistency in Multiplayer Online Games.",
                "In Proc. of ACM Multimedia, 2004, 388-391. [3] Pantel, L. and Wolf, L. On the Suitability of Dead Reckoning Schemes for Games.",
                "In Proc. of NetGames, 2002, 79-84. [4] Alhalabi, M.O., Horiguchi, S., and Kunifuji, S. An Experimental Study on the Effects of Network Delay in Cooperative Shared Haptic Virtual Environment.",
                "Computers and Graphics, Vol. 27, No. 2, 2003, 205-213. [5] Pantel, L. and Wolf, L.C.",
                "On the Impact of Delay on RealTime Multiplayer Games.",
                "In Proc. of NOSSDAV, 2002, 2329. [6] Meehan, M., Razzaque, S., Whitton, M.C., and Brooks, F.P.",
                "Effect of Latency on Presence in Stressful Virtual Environments.",
                "In Proc. of IEEE VR, 2003, 141-148. [7] Bernier, Y.W.",
                "Latency Compensation Methods in Client/Server In-Game Protocol Design and Optimization.",
                "In Proc. of Game Developers Conference, 2001. [8] Aggarwal, S., Banavar, H., and Khandelwal, A.",
                "Accuracy in Dead-Reckoning based Distributed Multi-Player Games.",
                "In Proc. of NetGames, 2004, 161-165. [9] Raynal, M. and Schiper, A.",
                "From Causal Consistency to Sequential Consistency in Shared Memory Systems.",
                "In Proc. of Conference on Foundations of Software Technology and Theoretical Computer Science, 1995, 180-194. [10] Ahamad, M., Burns, J.E., Hutto, P.W., and Neiger, G. Causal Memory.",
                "In Proc. of International Workshop on Distributed Algorithms, 1991, 9-30. [11] Herlihy, M. and Wing, J. Linearizability: a Correctness Condition for Concurrent Objects.",
                "ACM Transactions on Programming Languages and Systems, Vol. 12, No. 3, 1990, 463-492. [12] Misra, J. Axioms for Memory Access in Asynchronous Hardware Systems.",
                "ACM Transactions on Programming Languages and Systems, Vol. 8, No. 1, 1986, 142-153. [13] Dabrowski, J.R. and Munson, E.V.",
                "Is 100 Milliseconds too Fast.",
                "In Proc. of SIGCHI Conference on Human Factors in Computing Systems, 2001, 317-318. [14] Chen, H., Chen, L., and Chen, G.C.",
                "Effects of Local-Lag Mechanism on Cooperation Performance in a Desktop CVE System.",
                "Journal of Computer Science and Technology, Vol. 20, No. 3, 2005, 396-401. [15] Chen, L., Chen, H., and Chen, G.C.",
                "Echo: a Method to Improve the Interaction Quality of CVEs.",
                "In Proc. of IEEE VR, 2005, 269-270.",
                "The 5th Workshop on Network & System Support for Games 2006 - NETGAMES 2006 7"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        }
    }
}