{
    "id": "J-52",
    "original_text": "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C. Berkeley 2 Computer Science Division U.C. Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful. Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all. Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases. We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system. In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action. Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1. INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver. In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so. Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all. This rational behavior may lead to suboptimal system performance. The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets. However, the actions of the intermediate nodes are often hidden from the endpoints. In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path. Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption. The problem of hidden action is hardly unique to networks. Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory. We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27]. Our results are threefold. First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service. If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility. Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium. For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring. However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring. Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action. In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2. BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints. The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents. If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract. When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents. We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold. For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort. We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively. Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later. Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination. The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort. In some network scenarios, the topology and costs are common knowledge. That is, the sender knows in advance the path that its packet will take and the costs on that path. In other routing scenarios, the sender does not have this a priori information. We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts. We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system. S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination. Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node. The remainder of this paper is organized as follows. In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge. In Section 4, we extend the model to scenarios with unknown transit costs. In Section 5, we distinguish between recursive and direct contracts and discuss their relationship. In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service. We consider Internet routing as a case study in Section 7. In Section 8 we present related work, and Section 9 concludes the paper. 3. KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1. We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets. The principal uses no monitoring to observe per-hop outcomes. Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2. Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j. PROPOSITION 3.1. Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF. The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward. The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]). Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3. We next prove that the expected payment to a node equals its expected cost in equilibrium. The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk. The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node. The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path. PROPOSITION 3.2. Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper. Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path. PROOF. The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 . We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0. Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 . Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones. For example, consider the two topologies presented in Figure 3. While the paths are of equal total cost, the total expected payment by the principal is different. Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use. For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination. Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet? PROPOSITION 3.3. In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not. PROOF. The proof to this proposition is already implied in the findings of the previous section. We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment. In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating. Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes. In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same. Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution. To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop. This is possible only if per-hop monitoring information is provided. In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not. That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise. We assume costless monitoring, giving us the best case scenario for the use of monitoring. As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet. The expected utility of the principal is the difference between its expected benefit and its expected payment. Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well. Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4]. These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.) While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios. First, the payment structure is different. If no per-hop monitoring is used, the payment to each node depends on its location (i). In contrast, monitoring provides us with n identical contracts. Second, the solution concept used is different. If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile. In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior. Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4. UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information. In this section, we address the following questions: 1. Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2. What is the principals loss due to the lack of knowledge of the transit costs? In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents. In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair. The network routers act strategically and declare transit costs to maximize their profit. Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0. In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered. Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen. Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium. In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments. The timeline of the FPSS game is presented in figure 4. Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values. FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding. In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding. We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP. Figure 5 presents the timeline of FPSS . In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery. Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets. Payments are transferred based on the final outcome. In FPSS , each node i submits a bid bi, which is its reported transit cost. Node i is said to be truthful if bi = ci. We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes. Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise. Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x. In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen. Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP. Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit. PROPOSITION 4.1. Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets. PROOF. In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet. If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci. The expected utility of a node not on the LCP is 0. A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP. Therefore, nodes cannot gain utility from misbehaviors (1) or (3). We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change. Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets. We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium. In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only. In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node. Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 . A sketch of the proof would be as follows: 1. IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2. The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3. From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4. Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do. In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi. First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium. Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring. We make two additional comments concerning this class of mechanisms. First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered. When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk. The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications. Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior. Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12]. This price greatly depends on the network topology and on the mechanism employed. While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general. For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5. RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts. In direct contracts, the principal contracts directly with each node on the path and pays it directly. In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6. With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node. With recursive payments, every node needs to communicate only with its downstream node. Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts. In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path. When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination. For example, consider the topology given in figure 3 (a). When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8). PROPOSITION 5.1. The expected total payments by the principal under direct and recursive contracts are equal. PROOF. In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior. Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6. Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet. What information should the principal posess in order to implement recursive contracts? Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology. Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs. Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts? Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear. Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost. Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase. For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci. We assume that payments are enforceable if made by the same entity that pledge to pay. However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes). Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount. Thus, every node has incentive to offer lower payments than promised and keep the profit. Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost. Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6. HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions. In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1). This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6]. In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken. As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet. Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination. In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29]. In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance. Nevertheless, this behavior can be avoided with an appropriate design of contracts. Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure. In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents. PROPOSITION 6.1. In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not. PROOF. The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i. If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof. The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model. In particular, at the optimal contract, the low-outcome payment sB i is now less than zero. A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination. In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0. This prevents the first-best solution from being achieved. PROPOSITION 6.2. In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract. PROOF. The proof is a direct outcome of the following statements, which are proved above: 1. The optimal contract is the contract specified in equations 15 and 16 2. Under the optimal contract, E[si] equals node i s expected cost 3. Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models. In drop versus forward, a principal either signs a contract with all n nodes along the path or with none. This is because a single node dropping the packet determines a failure. In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success. Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path. While the expected outcome depends on m, it is independent of which specific m nodes are induced. At the same time, the individual expected payments decrease in i (see Eq. 16). Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n). Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7. CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work. Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors. Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs. In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path. Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario. In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network. Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology. One approach to obtain such information is through end-to-end probing [1]. Another approach is to have the edge networks perform measurements and discover the network topology [32]. Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21]. These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network. If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3). In this case, first-best contracts can be achieved through individual contracts with nodes along the path. However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts). However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes. With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information. One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4]. Another approach is to have third parties like Keynote independently monitor the network performance. 8. RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets. It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes. However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden. Therefore, such a mechanism is not effective against selfish behavior. In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5]. Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior. In their approach, nodes are supposed to send receipts to a thirdparty entity. We show that this type of per-hop monitoring may not be needed. In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets. This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30]. If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility. The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately. While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information. Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14]. These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement. Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare? They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm. The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing. Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms. Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25]. The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9. CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes. We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace. In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes. Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium. We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms. Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge. The premium can be expressed as a function of the second-highest demand. In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10. ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments. This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11. REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks. In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies. In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries. In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks. Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service. RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y. L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks. In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y. L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks. In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y. L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks. In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J. Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks. ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B. Hidden Action and Incentives. Teaching Notes. U.C. Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing. In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing. In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions. In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet. In Manuscript. New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B. Moral Hazard in Teams. Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks. In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks. In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks. In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service. In UCB Technical Report No. UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks. In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory. Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design. In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks. In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams. Departmental Working Paper. Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions. In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks. In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture. In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks. In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing. In Proc Hotnets-I (2002). 126",
    "original_translation": "Hidden-Action in Multi-Hop Ruting Michal Feldman1 mfeldman@sims.berkeley.edu John chuang1 chuang@sims.berkeley.edu ion stoica2 istoica@cs.berkeley.edu scott shenker2 shenker@icir.org 1 de gestión de información y sistemas U.C. Berkeley 2 División de Ciencias de la Computación U.C. Resumen de Berkeley En redes de múltiples saltos, las acciones tomadas por los nodos intermedios individuales generalmente están ocultas a los puntos finales de comunicación;Todos los puntos finales pueden observar es si la transmisión de extremo a extremo fue exitosa. Por lo tanto, en ausencia de incentivos en contrario, los nodos intermedios racionales (es decir, egoístas) pueden optar por reenviar paquetes con baja prioridad o simplemente no reenviar paquetes en absoluto. Utilizando un modelo de agente principal, mostramos cómo el problema de acción oculta se puede superar mediante el diseño apropiado de los contratos, tanto en los casos directos (los puntos finales con cada enrutador individual) como en los casos recursivos (cada enrutador con los próximos casos de enrutador aguas abajo). Además, demostramos que el monitoreo por salto no mejora necesariamente la utilidad del principal o del bienestar social en el sistema. Además, generalizamos los mecanismos existentes que se ocupan de la información oculta para manejar escenarios que involucran tanto la información oculta como la acción oculta. Categorías y descriptores de sujetos C.2.4 [Redes de comunicación por computadora]: sistemas distribuidos;J.4 [Ciencias Sociales y del Comportamiento]: Economía del diseño de términos generales, Economía 1. Introducción Los puntos finales que desean comunicarse a través de una red de múltiples saltos dependen de nodos intermedios para reenviar paquetes desde el remitente al receptor. En la configuración donde los nodos intermedios son agentes independientes (como los nodos individuales en las redes ad-hoc y de los pares o sistemas autónomos en Internet), esto plantea un problema de incentivos;Los nodos intermedios pueden incurrir en costos significativos de comunicación y cálculo en el reenvío de paquetes sin obtener ningún beneficio directo al hacerlo. En consecuencia, un nodo intermedio racional (es decir, maximización de servicios públicos) puede optar por reenviar paquetes con baja prioridad o no reenviar los paquetes en absoluto. Este comportamiento racional puede conducir al rendimiento subóptimo del sistema. Los puntos finales pueden proporcionar incentivos, por ejemplo, en forma de pagos, para alentar a los nodos intermedios a reenviar sus paquetes. Sin embargo, las acciones de los nodos intermedios a menudo están ocultas a los puntos finales. En muchos casos, los puntos finales solo pueden observar si el paquete ha llegado o no al destino y no puede atribuir la falla a un nodo específico en la ruta. Incluso si alguna forma de mecanismo de monitoreo les permite identificar la ubicación de la falla, aún no pueden atribuir la causa de la falla a la acción deliberada del nodo intermedio, o a algunos factores externos más allá del control del nodo intermedio, como la congestión de la red, la interferencia del canal o la corrupción de datos. El problema de la acción oculta no es exclusivo de las redes. También conocido como peligro moral, este problema ha sido de interés en la literatura económica sobre la asimetría de la información, la teoría de incentivos y contratos, y la teoría de la agencia. Seguimos esta literatura formalizando el problema como un modelo de agente principal, donde múltiples agentes que realizan acciones ocultas secuenciales [17, 27]. Nuestros resultados son triple. Primero, mostramos que es posible diseñar contratos para inducir la cooperación cuando los nodos intermedios pueden optar por reenviar o soltar paquetes, así como cuando los nodos pueden optar por reenviar paquetes con diferentes niveles de calidad de servicio. Si la ruta y los costos de tránsito se conocen antes de la transmisión, el principal logra la primera mejor solución, y puede implementar los contratos directamente con cada nodo intermedio o recursivamente a través de la red (cada nodo hace un contrato con el siguiente nodo) sin ninguna pérdida enutilidad. En segundo lugar, encontramos que la introducción de monitoreo por salto no tiene impacto en la utilidad esperada de los principios en equilibrio. Para un director que desea inducir un equilibrio en el que todos los nodos intermedios cooperen, su pago total esperado es el mismo con o sin monitoreo. Sin embargo, el monitoreo proporciona un equilibrio de estrategia dominante, que es un concepto de solución más fuerte que el equilibrio NASH que se puede lograr en ausencia de monitoreo. En tercer lugar, mostramos que en ausencia de información a priori sobre los costos de tránsito en la ruta de reenvío de paquetes, es posible generalizar los mecanismos existentes para superar los escenarios que involucran tanto la información oculta como la acción oculta. En estos escenarios, el director paga una prima en comparación con los escenarios con costos de tránsito conocidos.2. Modelo de línea de base Consideramos un modelo de agente principal, donde el principal es un par de puntos finales de comunicación que desean comunicarse a través de una red de múltiples saltos, y los agentes son los nodos intermedios capaces de reenviar paquetes entre los puntos finales. El director (que en la práctica puede ser el remitente, el receptor o 117 ambos) hace que las ofertas (contratos) de Take-It-It-It individuales sean (contratos) a los agentes. Si se aceptan los contratos, los agentes eligen sus acciones secuencialmente para maximizar sus pagos esperados en función del programa de pagos del contrato. Cuando sea necesario, los agentes a su vez pueden hacer ofertas posteriores para llevarlo o dejar de lado a sus agentes aguas abajo. Suponemos que todos los participantes son neutrales en el riesgo y que los supuestos estándar sobre la observabilidad global del resultado final y la exigibilidad de los pagos al garantizar que las partes se mantengan. Por simplicidad, suponemos que cada agente solo tiene dos acciones posibles;Uno que involucra un esfuerzo significativo y otro que involucra poco esfuerzo. Denotamos la elección de acción del agente I por ai ∈ {0, 1}, donde ai = 0 y ai = 1 representan las acciones de bajo esfuerzo y de alto esfuerzo, respectivamente. Cada acción está asociada con un costo (al agente) C (AI), y suponemos: C (AI = 1)> C (AI = 0) En esta etapa, suponemos que todos los nodos tienen la misma C (AI)Para claridad de presentación, pero relajamos esta suposición más tarde. Sin pérdida de generalidad, normalizamos la c (ai = 0) para ser cero, y denotamos el costo de alto esfuerzo por C, por lo que C (ai = 0) = 0 y c (ai = 1) = c.La utilidad del Agente I, denotada por UI, es una función del pago que recibe del principal (SI), la acción que toma (AI) y el costo en el que incurre (CI), como sigue: UI (SI, CI, ai) = si - aici El resultado se denota por x ∈ {xg, xb}, donde xg representa el buen resultado en el que el paquete llega al destino, y XB representa el mal resultado en el que se cae el paquete antesLlega al destino. El resultado es una función del vector de las acciones tomadas por los agentes en la ruta, a = (a1, ..., an) ∈ {0, 1} n, y la tasa de pérdida en los canales, k.El beneficio del remitente del resultado se denota por w (x), donde: w (xg) = wg;y w (xb) = wb = 0 La utilidad del remitente es consecuencia: u (x, s) = w (x) - s donde: s = pn i = 1 si un remitente que desea inducir un equilibrio en el que todosLos nodos participan en la acción de alto esfuerzo deben satisfacer dos restricciones para cada agente I: (ir) racionalidad individual (restricción de participación) 1: La utilidad esperada de la participación debe (débilmente) exceder su utilidad de reserva (que normalizamos a 0).(Ic) Compatibilidad de incentivos: la utilidad esperada de ejercer un alto esfuerzo debería (débilmente) exceder su utilidad esperada de ejercer bajo esfuerzo. En algunos escenarios de red, la topología y los costos son de conocimiento común. Es decir, el remitente sabe de antemano el camino que tomará su paquete y los costos en ese camino. En otros escenarios de enrutamiento, el remitente no tiene esta información a priori. Mostramos que nuestro modelo se puede aplicar a ambos escenarios con topologías y costos conocidos y desconocidos, y resaltar las implicaciones de cada escenario en el contexto de los contratos. También distinguimos entre contratos directos, donde el principal firma un contrato individual 1 Usamos la noción de racionalidad individual ex ante, en la que los agentes eligen participar antes de conocer el estado del sistema. S DN1 Fuente Destino n Nodos intermedios Figura 1: ruta de múltiples saltos desde el remitente hasta el destino. Figura 2: Estructura del juego de enrutamiento multihop bajo costos de topología y tránsito conocidos.con cada nodo y contratos recursivos, donde cada nodo entra en una relación contractual con su nodo aguas abajo. El resto de este documento está organizado de la siguiente manera. En la Sección 3 consideramos que los agentes que deciden dejar o reenviar paquetes con y sin monitorear cuando los costos de tránsito son de conocimiento común. En la Sección 4, ampliamos el modelo a escenarios con costos de tránsito desconocidos. En la Sección 5, distinguimos entre contratos recursivos y directos y discutimos su relación. En la Sección 6, mostramos que el modelo se aplica a escenarios en los que los agentes eligen entre diferentes niveles de calidad del servicio. Consideramos el enrutamiento de Internet como un estudio de caso en la Sección 7. En la Sección 8 presentamos el trabajo relacionado, y la Sección 9 concluye el documento.3. Costos de tránsito conocidos En esta sección analizamos escenarios en los que el director conoce de antemano los nodos en el camino hacia el destino y sus costos, como se muestra en la Figura 1. Consideramos a los agentes que deciden si dejar o reenviar paquetes y distinguir entre escenarios con y sin monitoreo.3.1 caída versus hacia adelante sin monitorear en este escenario, los agentes deciden si los paquetes de lanzar (a = 0) o avance (a = 1). El principal no usa monitoreo para observar los resultados por salto. En consecuencia, el principal realiza el cronograma de pagos a cada agente contingente en el resultado final, x, como sigue: Si (x) = (Sb I, Sg I) donde: Sb I = Si (x = xb) Sg i = Si (SI (x = xg) La línea de tiempo de este escenario se muestra en la Figura 2. Dada una tasa de pérdida de Perhop de K, podemos expresar la probabilidad de que un paquete se entregue con éxito desde el nodo I a su sucesor I + 1 como: PR (XG I → I + 1 | Ai) = (1 - K) AI (1) donde xg i → j denota una transmisión exitosa del nodo I a j. Proposición 3.1. Según el contrato óptimo que induce un comportamiento de alto esfuerzo de todos los nodos intermedios en el Nash Equi118 Librium2, el pago esperado a cada nodo es el mismo que su costo esperado, con el siguiente horario de pago: SB i = Si (x = xb) = =0 (2) sg i = si (x = xg) = c (1 - k) n - i+1 (3) prueba. El principal debe satisfacer las restricciones IC e IR para cada agente I, que se puede expresar de la siguiente manera: (IC) PR (XG | AJ≥I = 1) SG I + PR (XB | AJ≥I = 1) SB I- c ≥ pr (xg | ai = 0, aj> i = 1) sg i + pr (xb | ai = 0, aj> i = 1) sb i (4) Esta restricción dice que la utilidad esperada del reenvío es mayorque o igual a su utilidad esperada de la caída, si todos los nodos posteriores también avanzan.(Ir) PR (xg s → i | aj <i = 1) (pr (xg | aJ≥i = 1) sg i + pr (xb | aJ≥i = 1) sb i - c) + pr (xb s→ I | Aj <i = 1) SB I ≥ 0 (5) Esta restricción dice que la utilidad esperada de la participación es mayor o igual a cero (utilidad de reserva), si todos los demás nodos avanzan. Las restricciones anteriores se pueden expresar de la siguiente manera, según la ecuación.1: (ic): (1 - k) n - i+1 sg i+(1 - (1 - k) n - i+1) sb i - c ≥ sb i (ir): (1 - k) i((1 - k) n - i+1 sg i+(1− (1 - k) n - i+1) sb i −c)+(1 - (1 - k) i) sb i ≥ 0 esUn resultado estándar que ambas restricciones se unen en el contrato óptimo (ver [23]). Resolviendo las dos ecuaciones, obtenemos la solución que se presenta en las ecuaciones.2 y 3. A continuación, demostramos que el pago esperado a un nodo equivale a su costo esperado en equilibrio. El costo esperado del nodo I es su costo de tránsito multiplicado por la probabilidad de que enfrente este costo (es decir, la probabilidad de que el paquete alcance el nodo I), que es: (1 - k) I c.El pago esperado que recibe el nodo que recibe es: PR (XG) SG I+PR (XB) SB I = (1 - K) N+1 C (1 - K) N - I+1 = (1 - K) I C Notaque el pago esperado a un nodo disminuye a medida que el nodo se acerca al destino debido a la distribución asimétrica del riesgo. Cuanto más cerca esté el nodo para el destino, menor será la probabilidad de que un paquete no llegue al destino, lo que resulta en el bajo pago que se realiza al nodo. El pago esperado por el principal es: e [s] = (1 - k) n+1 nx i = 1 sg i+(1 - (1 - k) n+1) nx i = 1 sb i = (1 -k) n+1 nx i = 1 ci (1 - k) n - i+1 (6) El pago esperado realizado por el principal depende no solo del costo total, sino también del número de nodos en la ruta. Proposición 3.2. Dadas dos rutas con longitudes respectivas de Hops N1 y N2, los costos de tránsito por hop de C1 y C2, y las tasas de pérdida por salto de K1 y K2, de modo que: 2 de los nodos de tránsito realizan acciones secuencialmente, esto es realmente un equilibrio de subgameperfect (SPE), pero nos referiremos a él como un equilibrio de Nash en el resto del documento. Figura 3: Dos rutas de costos totales iguales pero diferentes longitudes y costos individuales.• C1N1 = C2N2 (costo total igual) • (1 - k1) n1+1 = (1 - k2) n2+1 (beneficio igual esperado) • n1 <n2 (la ruta 1 es más corta que la ruta 2) El pago total esperado realizadopor el director es más bajo en el camino más corto. PRUEBA. El pago esperado en la ruta J es E [S] J = NJ X I = 1 CJ (1 - KJ) I = CJ (1 - KJ) 1 - (1 - KJ) NJ KJ Entonces, tenemos que mostrar que: C1(1 - k1) 1 - (1 - k1) n1 k1> c2 (1 - k2) 1 - (1 - k2) n2 k2 dejen m = c1n1 = c2n2 y n = (1 - k1) n1+1 = (1- K2) N2+1. Tenemos que mostrar que mn 1 n1+1 (1 - n n1 n1+1) n1 (1 - n 1 n1+1) <mn 1 n2+1 (1 - n n2 n2+1) n2 (1 - n 1n2+1) (7) Sea f = n 1 n+1 (1 - n n n+1) n (1 - n 1 n+1) Entonces, es suficiente mostrar que F aumenta monotónicamente en n ∂f∂n = g (n, n) h (n, n) donde: g (n, n) = - ((ln (n) n - (n+ 1) 2) (n 1 n+ 1 - n n+2 n + 1) - (n + 1) 2 (n + n 2 n + 1)) y h (n, n) = (n + 1) 2 n2 (−1 + n 1 n + 1) 2 pero h(N, n)> 0 ∀n, n, por lo tanto, es suficiente mostrar que G (n, n)> 0. Porque n ∈ (0, 1): (i) ln (n) <0 y (ii) n 1 n+1> n n+2 n+1. Por lo tanto, g (n, n)> 0 ∀n, n.Esto significa que, ceteris paribus, los caminos más cortos siempre deben preferirse a través de los más largos. Por ejemplo, considere las dos topologías presentadas en la Figura 3. Si bien las rutas son de igual costo total, el pago total esperado por parte del director es diferente. Basado en las ecuaciones.2 y 3, el pago total esperado para la ruta superior es: e [s] = pr (xg) (sg a + sg b) = „c1 (1 - k1) 2 + c1 1 - k1« (1 - k1)3 (8) 119 mientras que el pago total de esperanza para la ruta inferior es: E [S] = PR (xg) (Sg A + Sg B + Sg C) = (C2 (1 - K2) 3 + C2 (1 - K2) 2 + c2 1 - k2) (1 - k2) 4 para n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, tenemos un costo total igual y un beneficio esperado igual, pero, pero, pero, peroE [S] 1 = 0.948 y E [S] 2 = 1.313.3.2 Drop Usus Forward con el monitoreo Suponga que el principal obtiene información de monitoreo por salto.3 La información por salto amplía el conjunto de mecanismos que el principal puede usar. Por ejemplo, el director puede hacer que el cronograma de pagos dependa de la llegada al siguiente salto en lugar de llegar al destino final. ¿Puede dicha información ser de uso para un director que desee inducir un equilibrio en el que todos los nodos intermedios reenvíen el paquete? Proposición 3.3. En el modelo Drop versus Forward, el principal deriva la misma utilidad esperada si obtiene información de monitoreo por salto o no. PRUEBA. La prueba de esta proposición ya está implícita en los resultados de la sección anterior. Encontramos que en ausencia de información por salto, el costo esperado de cada nodo intermedio es igual a su pago esperado. Para satisfacer la restricción IR, es esencial pagar a cada nodo intermedio un monto esperado de al menos su costo esperado;De lo contrario, el nodo estaría mejor no participando. Por lo tanto, ningún otro esquema de pago puede reducir el pago esperado del principal a los nodos intermedios. Además, si todos los nodos están incentivados para reenviar paquetes, la probabilidad de que el paquete llegue al destino es el mismo en ambos escenarios, por lo que el beneficio esperado del principal es el mismo. De hecho, hemos encontrado que incluso en ausencia de información de monitoreo por salto, el principal logra la primera mejor solución. Para convencer al lector de que este es el caso, proporcionamos un ejemplo de un mecanismo que condiciona los pagos al llegar al siguiente salto. Esto es posible solo si se proporciona información de monitoreo por salto. En el nuevo mecanismo, el director hace que el cronograma de pagos dependa de si el paquete ha alcanzado el próximo salto o no. Es decir, el pago al nodo I es SG I si el paquete ha alcanzado el nodo I + 1, y SB I de lo contrario. Suponemos que el monitoreo sin costo, que nos brinda el mejor escenario para el uso del monitoreo. Como antes, consideramos a un director que desea inducir un equilibrio en el que todos los nodos intermedios reenvíen el paquete. La utilidad esperada del principal es la diferencia entre su beneficio esperado y su pago esperado. Debido a que el beneficio esperado cuando todos los nodos hacia adelante es el mismo en ambos escenarios, solo necesitamos demostrar que el pago total esperado también es idéntico. Según el mecanismo de monitoreo, el principal debe satisfacer las siguientes restricciones: (ic) PR (xg i → i+1 | ai = 1) sg+pr (xb i → i+1 | ai = 1) sb - c ≥ pr(xg i → i+1 | ai = 0) sg+pr (xb i → i+1 | ai = 0) sb (9) (ir) pr (xg s → i | aj <i = 1) (pr (pr (xg i → i+1 | ai = 1) sg+pr (xb i → i+1 | ai = 1) sb - c) ≥ 0 (10) 3 para una propuesta reciente de un marco de responsabilidad que proporciona dicha información de monitoreo ver [4]. Estas restricciones se pueden expresar de la siguiente manera: (ic): (1 - k) sg + ksb - c ≥ s0 (ir): (1 - k) i ((1 - k) sg + ksb - c) ≥ 0 los dosLas restricciones se unen en el contrato óptimo como antes, y obtenemos el siguiente programa de pagos: SB = 0 Sg = C 1 - k El pago total esperado en este escenario es: E [S] = NX I = 1 ((1 - K)I (Sb+(i - 1) Sg))+(1 - k) n+1 nsg = (1 - k) n+1 nx i = 1 ci (1 - k) n - i+1 como en el escenariosin monitoreo (ver ecuación 6.) Si bien el pago total esperado es el mismo con o sin monitoreo, existen algunas diferencias entre los dos escenarios. Primero, la estructura de pago es diferente. Si no se utiliza un monitoreo por salto, el pago a cada nodo depende de su ubicación (i). Por el contrario, el monitoreo nos proporciona N Nénticos contratos. En segundo lugar, el concepto de solución utilizado es diferente. Si no se usa monitoreo, el perfil de estrategia de AI = 1 ∀i es un equilibrio NASH, lo que significa que ningún agente tiene un incentivo para desviarse unilateralmente del perfil de estrategia. Por el contrario, con el uso del monitoreo, la acción elegida por el nodo I es independiente del comportamiento de reenvío de otros agentes. Por lo tanto, el monitoreo nos proporciona un equilibrio de estrategia dominante, que es un concepto de solución más fuerte que el equilibrio de Nash.[15], [16] discuten la idoneidad de los diferentes conceptos de solución en el contexto de los entornos en línea.4. Costos de tránsito desconocido En ciertas configuraciones de red, los costos de tránsito de los nodos a lo largo de la ruta de reenvío pueden no ser de conocimiento común, es decir, existe el problema de la información oculta. En esta sección, abordamos las siguientes preguntas: 1. ¿Es posible diseñar contratos que inducen el comportamiento cooperativo en presencia de la acción oculta y la formación oculta?2. ¿Cuál es la pérdida de los principales debido a la falta de conocimiento de los costos de tránsito? En problemas de información oculta, el principal emplea mecanismos para inducir la revelación veraz de la información privada de los agentes. En el juego de enrutamiento, el principal desea extraer información de costos de tránsito de los enrutadores de red para determinar la ruta de costo más baja (LCP) para un par de destino de origen determinado. Los enrutadores de red actúan estratégicamente y declaran los costos de tránsito para maximizar sus ganancias. Los mecanismos que se han propuesto en la literatura para el juego de enrutamiento [24, 13] suponen que una vez que se han obtenido los costos de tránsito, y se ha determinado el LCP, los nodos en el LCP reenvían obedientemente todos los paquetes, y que no hay pérdidasEn la red, es decir, k = 0. En esta sección, consideramos tanto la información oculta como la acción oculta, y generalizamos estos mecanismos para inducir tanto la revelación de la verdad como la acción de alto esfuerzo en el equilibrio, donde los nodos se transmiten sobre un canal de comunicación con pérdida, es decir, k ≥ 0. 4.1 V CG enSu documento seminal [24], Nisan y Ronen presentan un mecanismo de VCG que induce la revelación veraz de los costos de tránsito por los bordes 120 Figura 4: Estructura del juego para F P ss, donde solo se considera la información oculta. Figura 5: Estructura del juego para F P SS, donde se consideran tanto la información oculta como la acción oculta.En una red biconectada, de modo que se puedan elegir rutas de menor costo. Como todos los mecanismos de VCG, es un mecanismo a prueba de estrategias, lo que significa que induce una revelación veraz en un equilibrio de estrategia dominante. En [13] (FPSS), Feigenbaum et al.Modifique ligeramente el modelo para tener los enrutadores como agentes egoístas en lugar de los bordes, y presente un algoritmo distribuido que calcule los pagos de VCG. La línea de tiempo del juego FPSS se presenta en la Figura 4. Bajo FPSS, los nodos de tránsito realizan un seguimiento de la cantidad de tráfico enrutado a través de ellos a través de contadores, y los pagos se transfieren periódicamente de los principios a los nodos de tránsito en función de los valores del contador. FPSS supone que los nodos de tránsito son obedientes en el comportamiento de reenvío de paquetes y no actualizarán los contadores sin ejercer un alto esfuerzo en el reenvío de paquetes. En esta sección, presentamos FPSS, que generalizamos a FPSS para operar en un entorno con canales de comunicación con pérdida (es decir, k ≥ 0) y comportamiento estratégico en términos de reenvío de paquetes. Mostraremos que FPSS induce un equilibrio en el que todos los nodos revelan sinceramente sus costos de tránsito y sus paquetes hacia adelante si están en el LCP. La Figura 5 presenta la línea de tiempo de FPSS. En la primera etapa, el remitente declara dos funciones de pago (SG I, SB I), que se pagarán con el éxito o el fracaso de la entrega de paquetes. Dados estos pagos, los nodos tienen un incentivo para revelar sus costos con sinceridad y luego para reenviar paquetes. Los pagos se transfieren en función del resultado final. En FPSS, cada nodo I presenta una BID BI, que es su costo de tránsito informado. Se dice que el nodo I es sincero si bi = ci. Escribimos B para el vector (B1, ..., Bn) de ofertas presentadas por todos los nodos de tránsito. Sea II (b) la función indicadora para el LCP dado el vector de BID B de tal manera que ii (b) =  1 si i está en el LCP;0 de lo contrario. Después de FPSS [13], el pago recibido por el nodo I en el equilibrio es: Pi = biii (b) + [x r ir (b | i ∞) br - x r ir (b) br] = x r ir (b |i ∞) br - x r = i ir (b) br (11) donde la expresión b | i x significa que (b | i x) j = cj para todos j = i, y (b | i x) i = x. En FPSS, calculamos SB I y SG I en función de PI, K y N.Primero, reconocemos que SB debe ser menor o igual a cero para que se elija el verdadero LCP. De lo contrario, los nodos estratégicos pueden tener un incentivo para informar costos extremadamente pequeños para engañar al director para que crean que están en el LCP. Luego, estos nodos pueden soltar cualquier paquete que reciban, incurrir en costo de tránsito cero, recaudar un pago de SB I> 0 y obtener ganancias positivas. Proposición 4.1. Deje que los pagos de los FPS sean: SB I = 0 Sg I = PI (1 - K) N - I+1, entonces, FPSS tiene un equilibrio NASH en el que todos los nodos revelan sinceramente sus costos de tránsito y todos los nodos en los paquetes de reenvío LCP. PRUEBA. Para probar la proposición anterior, tenemos que demostrar que los nodos no tienen ningún incentivo para participar en los siguientes malhavores: 1. Revele sinceramente el costo pero el paquete de caída, 2. mentir sobre el costo y el paquete de avance, 3. Mentir sobre el costo y el paquete de caída. Si todos los nodos revelan sinceramente sus costos y sus paquetes hacia adelante, la utilidad esperada del nodo I en el LCP es: E [U] i = PR (XG S → I) (E [Si] - CI) + PR (XB S → I) Sb i = (1 - k) I (1 - k) n - i + 1 sg i + (1 - (1 - k) n - i + 1) sb i - ci + (1 - (1 - k)i) sb i = (1 - k) i (1 - k) n - i+1 pi (1 - k) n - i+1 - (1 - k) i ci = (1 - k) I (pi −Ci) ≥ 0 (12) La última desigualdad se deriva del hecho de que FPSS es un mecanismo veraz, por lo tanto, PI ≥ Ci. La utilidad esperada de un nodo no en el LCP es 0. Un nodo que deja caer un paquete recibe sb i = 0, que es más pequeño o igual que e [u] i para i ∈ Lcp y es igual a e [u] i para i /∈ Lcp. Por lo tanto, los nodos no pueden obtener la utilidad de los malos comportamientos (1) o (3). A continuación, mostramos que los nodos no pueden obtener la utilidad del mal comportamiento (2).1. Si i ∈ LCP, E [u] i> 0. (a) Si informa bi> ci: i.Si bi <p r ir (b | i ∞) br - p r = i ir (b) Br, todavía está en el LCP, y dado que el pago es independiente de BI, su utilidad no cambia.II.Si bi> p r ir (b | i ∞) br - p r = i ir (b) br, no estará en el LCP y obtendrá e [u] i = 0, que es menor que su utilidad esperada si es sinceramenterevelando su costo.121 (b) Si informa Bi <Ci, todavía está en el LCP, y dado que el pago es independiente de BI, su utilidad no cambia.2. Si i /∈ LCP, E [u] i = 0. (a) Si informa bi> ci, permanece fuera del LCP, por lo que su utilidad no cambia.(b) Si informa bi <ci: i.Si bi <p r ir (b | i ∞) br - p r = i ir (b) Br, se une al LCP y gana una utilidad esperada de e [u] i = (1 - k) i (pi -ct) Sin embargo, si i /∈ LCP, significa que Ci> x r ir (c | i ∞) cr - x r = i ir (c) cr pero si todos los nodos revelan sinceramente sus costos, pi = x r ir (c | i ∞) cr - x r = i ir (c) cr <ci, por lo tanto, e [u] i <0 ii.Si bi> p r ir (b | i ∞) br - p r = i ir (b) Br, permanece fuera del LCP, por lo que su utilidad no cambia. Por lo tanto, existe un equilibrio en el que todos los nodos revelan sinceramente sus costos de tránsito y reenvían los paquetes recibidos. Observamos que en el contexto solo de información oculta, FPSS induce la revelación veraz como un equilibrio de estrategia dominante. En el entorno actual con información oculta y acción oculta, FPSS logra un equilibrio de Nash en ausencia de monitoreo por salto, y un equilibrio de estrategia dominante en presencia de monitoreo por salto, consistente con los resultados en la Sección 3 donde haysolo acción oculta. En particular, con el monitoreo por salto, el principal declara los pagos SB I y SG I a cada nodo tras el fracaso o el éxito de la entrega al siguiente nodo. Dados los pagos SB I = 0 y SG I = PI/(1 - K), es una estrategia dominante para los nodos revelar los costos con sinceridad y los paquetes hacia adelante.4.2 Discusión en general, para cualquier mecanismo M que induce un vector B de oferta B en equilibrio al hacer un pago de PI (b) al nodo I en el LCP, existe un mecanismo M que induce un equilibrio con el mismo vector de oferta y reenvío de paquetesrealizando un pago de: sb i = 0 sg i = pi (b) (1 - k) n - i+1. Un bosquejo de la prueba sería el siguiente: 1. Im i (b) = im i (b) ∀i, ya que M usa la misma métrica de elección.2. La utilidad esperada de un nodo LCP es e [u] i = (1-k) i (pi (b)-ci) ≥ 0 si se reenvía y 0 si cae, y la utilidad esperada de un nodo no LCP es0. 3. De 1 y 2, entendemos que si un nodo puedo aumentar su utilidad esperada al desviarse de BI bajo M, también puede aumentar su utilidad al desviarse de BI en M, pero esto está en contradicción con que BI sea un equilibrio en M.4. Los nodos no tienen incentivos para soltar paquetes, ya que derivan una utilidad esperada de 0 si lo hacen. Además de la generalización de los FPS en FPS, también podemos considerar la generalización del mecanismo de subasta de primer precio (FPA), donde el principal determina el LCP y paga cada nodo en el LCP su oferta, Pi (b) = Bi. Las subastas de primer precio alcanzan el equilibrio de NASH en lugar del equilibrio de estrategia dominante. Por lo tanto, debemos esperar que la generalización de FPA alcance el equilibrio de Nash con o sin monitoreo. Hacemos dos comentarios adicionales sobre esta clase de mecanismos. Primero, encontramos que el pago total esperado realizado por el principal bajo los mecanismos propuestos es E [S] = Nx I = 1 (1 - K) I Pi (B) y el beneficio esperado realizado por el Principal es E [W]= (1-k) n+1 wg donde pn i = 1 pi y wg son el pago esperado y el beneficio esperado, respectivamente, cuando solo se considera el problema de información oculta. Cuando también se tienen en cuenta las medidas ocultas, el mecanismo generalizado maneja el comportamiento de reenvío estratégico mediante el acondicionamiento de los pagos sobre el resultado final, y tiene en cuenta los canales de comunicación con pérdida al diseñar pagos que reflejan la distribución del riesgo. La diferencia entre el pago esperado y el beneficio no se debe al comportamiento de reenvío estratégico, sino a las comunicaciones con pérdida. Por lo tanto, en una red sin pérdidas, no debemos ver ninguna brecha entre los beneficios y los pagos esperados, independientemente del comportamiento estratégico o no estratégico de reenvío. En segundo lugar, la pérdida para el director debido a los costos de tránsito desconocido también se conoce como el precio de la frugalidad, y es un campo activo de investigación [2, 12]. Este precio depende en gran medida de la topología de la red y del mecanismo empleado. Si bien es simple caracterizar la pérdida de los principales en algunos casos especiales, no es un problema trivial en general. Por ejemplo, en las topologías con rutas disjuntas paralelas de origen a destino, podemos probar que bajo las subastas de primer precio, la pérdida para el principal es la diferencia entre el costo de la ruta más corta y la segunda ruta más bajo, y la pérdida esmás alto bajo el mecanismo FPSS.5. Contratos recursivos En esta sección, distinguimos entre contratos directos y recursivos. En contratos directos, el principal contrata directamente con cada nodo en la ruta y lo paga directamente. En el pago recursivo, el principal contrata con el primer nodo en la ruta, que a su vez se contrae con el segundo, y así sucesivamente, de modo que cada nodo contrata con su nodo aguas abajo y realice el pago basado en el resultado final, como se demuestra en la cifra6. Con pagos directos, el principal necesita conocer la identidad y el costo de cada nodo en la ruta y tener algún canal de comunicación con el nodo. Con pagos recursivos, cada nodo necesita comunicarse solo con su nodo aguas abajo. Surgen varias preguntas en este contexto: • ¿Qué conocimiento debe tener el principal para inducir el comportamiento cooperativo a través de contratos recursivos?• ¿Cuál debería ser la estructura de los contratos recursivos que inducen el comportamiento cooperativo?• ¿Cuál es la relación entre el pago total esperado bajo contratos directos y recursivos?• ¿Es posible diseñar contratos recursivos en escenarios de costos de tránsito desconocidos?122 Figura 6: Estructura del juego de enrutamiento multihop bajo topología conocida y contratos recursivos. Para responder las preguntas descritas anteriormente, observamos las limitaciones IR e IC que el director debe satisfacer al contratar con el primer nodo en la ruta. Cuando el principal diseña un contrato con el primer nodo, debe tener en cuenta los incentivos que el primer nodo debe proporcionar al segundo nodo, y así sucesivamente hasta el destino. Por ejemplo, considere la topología dada en la Figura 3 (a). Cuando el director llega a diseñar un contrato con el nodo A, debe considerar el contrato posterior que A debe firmar con B, lo que debería satisfacer las siguientes construcciones.(Ir): Pr (xg a → b | aa = 1) (e [s | ab = 1] - c)+ pr (xb a → b | aa = 1) sb a → b ≥ 0 (ic): e[S | AB = 1] - C ≥ E [S | AB = 0] Donde: E [S | AB = 1] = PR (XG B → D | AB = 1) SG A → B + PR (XB B →D | AB = 1) SB A → B y E [S | AB = 0] = PR (XG B → D | AB = 0) SG A → B + PR (XB B → D | AB = 0) SB A →B Estas (vinculantes) Las restricciones producen los valores de SB A → B y SG A → B: SB A → B = 0 SG A → B = C/(1 - K) Según estos valores, S puede expresar las restricciones que debeSatisfacer en un contrato con A. (IR): PR (xg s → a | as = 1) (e [ss → a - sa → b | ai = 1∀i] - c) + pr (xb s → a |AS = 1) SB S → A ≥ 0 (IC): E [SS → A - SA → B | Ai = 1∀i] - C ≥ E [SS → A - SA → B | AA = 0, AB = 1] Dónde: E [SS → A - SA → B | Ai = 1∀i] = PR (xg a → d | ai = 1∀i) (sg s → a - sg a → b) +pr (xb a →D | ai = 1∀i) (Sb S → A - Sb A → B) y E [SS → A - Sa → B | Aa = 0, AB = 1] = Pr (xg a → d | aa = 0,ab = 1) (Sg S → A - Sg A → B) +PR (XB A → D | AA = 0, AB = 1) (SB S → A - SB A → B) Resolviendo SB S → A y SGS → A, obtenemos: SB S → A = 0 Sg S → A = C (2 - K) 1 - 2K + K2 El pago total esperado es E [S] = Sg S → Apr (xg S → D) +SB S → APR (XB S → D) = C (2 - K) (1 - K) (13) que es igual al pago total esperado bajo contratos directos (ver Eq.8). Proposición 5.1. Los pagos totales esperados por parte del director bajo contratos directos y recursivos son iguales. PRUEBA. Para calcular el pago total esperado, tenemos que encontrar el pago del primer nodo en la ruta que inducirá el comportamiento apropiado. Debido a que SB i = 0 en el modelo Drop / Forward, ambas restricciones se pueden reducir a: PR (XG I → R | AJ = 1∀J) (SG I - SG I+1) - CI = 0 ⇔ (1 - K) n - i+1 (sg i - sg i+1) - ci = 0 que produce, para todos 1 ≤ i ≤ n: sg i = ci (1 - k) n - i+1+sg i+1 así, sg n = cn 1 - k sg n - 1 = cn - 1 (1 - k) 2 + sg n = cn - 1 (1 - k) 2 + cn 1 - k · · · sg 1 = c1 (1 - -K) N + SG 2 =...= nx i = 1 ci (1 - k) I y el pago total esperado es e [s] = (1 - k) n+1 sg 1 = (1 - k) n+1 nx i = 1 ci (1 - -k) N - I+1 que es igual al pago total esperado en pagos directos, como se expresa en la ecuación.6. Debido a que el pago depende del resultado final, y el pago esperado a un nodo es igual a su costo esperado, los nodos no tienen incentivos para ofrecer sus nodos aguas abajo más bajo de lo necesario, ya que si lo hacen, sus nodos aguas abajo no reenviarán el paquete. ¿Qué información debe la poses principal para implementar contratos recursivos? Al igual que en los pagos directos, el pago esperado no se ve afectado únicamente por el pago total en la ruta, sino también por la topología. Por lo tanto, si bien el principal solo necesita comunicarse con el primer nodo en la ruta de reenvío y no tiene que conocer las identidades de los otros nodos, aún necesita saber la cantidad de nodos en la ruta y sus costos de tránsito individuales. Finalmente, ¿es posible diseñar contratos recursivos bajo costos de tránsito desconocidos y, de ser así, cuál debería ser la estructura de tales contratos? Supongamos que el director ha implementado el algoritmo distribuido que calcula los pagos necesarios, PI para la veraz de 123 Apocalipsis, ¿el siguiente horario de pago al primer nodo induciría el comportamiento cooperativo?SB 1 = 0 SG 1 = NX I = 1 PI (1 - K) I La respuesta no está clara. A diferencia de los contratos en los costos de tránsito conocidos, el pago esperado a un nodo generalmente excede su costo esperado. Por lo tanto, los nodos de tránsito pueden no tener el incentivo apropiado para seguir la garantía de los principios durante la fase de pago. Por ejemplo, en FPSS, la principal garantiza pagar a cada nodo un pago esperado de PI> CI. Suponemos que los pagos son exigibles si realizan la misma entidad que se comprometen a pagar. Sin embargo, en el caso de los contratos recursivos, la entidad que se compromete a pagar en la etapa de descubrimiento de costos (el principal) no es la misma que la entidad que define y ejecuta los pagos en la etapa de reenvío (los nodos de tránsito). Los nodos de tránsito, que diseñan los contratos en la segunda etapa, saben que sus nodos aguas abajo reenviarán el paquete siempre que el pago esperado exceda el costo esperado, incluso si es menor que el monto prometido. Por lo tanto, cada nodo tiene un incentivo para ofrecer pagos más bajos que los prometidos y mantener las ganancias. Los nodos de tránsito, que saben que este es un escenario plausible, ya no pueden revelar su costo sinceramente. Por lo tanto, si bien los contratos recursivos bajo costos de tránsito conocidos son estratégicamente equivalentes a los contratos directos, no está claro si este es el caso bajo los costos de tránsito desconocidos.6. El reenvío de alta calidad versus de baja calidad hasta ahora, hemos considerado que el espacio de la estrategia de los agentes se limita a las acciones de caída (a = 0) y avanzada (a = 1). En esta sección, consideramos una variación del modelo donde los agentes eligen entre proporcionar un servicio de baja calidad (a = 0) y un servicio de alta calidad (a = 1). Esto puede corresponder a un modelo de servicio diferenciado por el servicio donde los paquetes se envían en el mejor esfuerzo o una base de prioridad [6]. A diferencia de la caída versus hacia adelante, un paquete aún puede alcanzar el siguiente salto (aunque con una probabilidad más baja) incluso si se toma la acción de bajo esfuerzo. Como segundo ejemplo, considere la práctica del enrutamiento de potencia caliente en el enrutamiento entre dominios de Internet de hoy. Los sistemas autónomos individuales (ASH) pueden adoptar el enrutamiento de potencia caliente o el enrutamiento de salida temprana (a = 0), donde se entrega un paquete a la corriente posterior como en la primera salida posible, o enrutamiento de salida tardía (a = 1), dondeAS AS lleva el paquete más tiempo de lo necesario, entregando el paquete a una salida más cercana al destino. En ausencia de incentivos explícitos, no es sorprendente que ASS elija un enrutamiento de potato caliente para minimizar sus costos, a pesar de que conduce a rutas subóptimas [28, 29]. En ambos ejemplos, en ausencia de contratos, un nodo racional ejercería un bajo esfuerzo, lo que resultaría en un rendimiento más bajo. Sin embargo, este comportamiento se puede evitar con un diseño apropiado de contratos. Formalmente, la probabilidad de que un paquete obtenga con éxito del nodo I al nodo I + 1 es: Pr (xg i → i + 1 | ai) = 1 - (k - qai) (14) donde: q ∈ (0, 1]y k ∈ (Q, 1] En el modelo de caída versus delantero, una acción de bajo esfuerzo por cualquier nodo da como resultado una falla de entrega. Por el contrario, un nodo en el escenario alto/bajo puede ejercer bajo esfuerzo y esperar viajar en el nivel de alto esfuerzo ejercido por los otros agentes. Proposición 6.1. En el modelo de reenvío de alta calidad versus de baja calidad, donde los costos de tránsito son de conocimiento común, el principal deriva la misma utilidad esperada si obtiene información de monitoreo de Perhop o no. PRUEBA. Las restricciones IC e IR son las mismas que se especifican en la prueba de la Proposición 3.1, pero sus valores cambian, basados en la ecuación.14 Para reflejar el modelo diferente: (IC): (1 - K +Q) N - I +1 Sg I +(1− (1 - K +Q) N - I +1) SB I −C ≥ (1 -k) (1 - k + q) n - i sg i + (1 - (1 - k) (1 - k + q) n - i) sb i (ir): (1 - k + q) i (((1 - k + q) n - i + 1 sg i + (1 - (1 - k + q) n - i + 1) sb i - c) + (1 - (1 - k + q) i) sb i≥ 0 Para este conjunto de restricciones, obtenemos la siguiente solución: SB I = (1 - K + Q) I C (K - 1) Q (15) SG I = (1 - K + Q) I C (K - 1 +(1 - k + q) −n) q (16) Observamos que en esta versión, tanto los pagos altos como los bajos dependen de i. Si se usa el monitoreo, obtenemos las siguientes restricciones: (ic): (1 - k + q) sg i + (k - q) sb i - c ≥ (1 - k) sg i + (k) sb i (ir): (1 - k + q) i ((1 - k + q) sg i + (k - q) sb i - c) ≥ 0 y obtenemos la solución: sb i = c (k - 1) q sgi = ck q El pago esperado por el principal con o sin reenvío es el mismo, y es igual: e [s] = c (1 - k + q) (1 - (1 - k + q) n) k - q (17) y esto concluye la prueba. La estructura de pago en el modelo de reenvío de alta calidad versus de baja calidad es diferente de la del modelo Drop versus Forward. En particular, en el contrato óptimo, el pago de baja salida SB I ahora es inferior a cero. Un pago negativo significa que el agente debe pagar al director en caso de que el paquete no llegue al destino. En algunos entornos, puede ser necesario imponer una restricción de responsabilidad limitada, es decir, si ≥ 0. Esto evita que se logre la primera mejor solución. Proposición 6.2. En el modelo de reenvío de alta calidad versus de baja calidad, si se rechazan los pagos negativos, el pago esperado a cada nodo excede su costo esperado bajo el contrato óptimo. PRUEBA. La prueba es un resultado directo de las siguientes afirmaciones, que se proban anteriormente: 1. El contrato óptimo es el contrato especificado en las ecuaciones 15 y 16 2. Según el contrato óptimo, E [SI] es igual al Nodo que es el costo esperado 3. Según el contrato óptimo, SB I = (1 - K+Q) I C (K - 1) Q <0, por lo tanto, según cualquier otro contrato, el remitente tendrá que compensar cada nodo con un pago esperado que sea más alto que su costo de tránsito esperado.124 Hay una diferencia adicional entre los dos modelos. En Drop Versus Forward, un director firma un contrato con todos los nodos N a lo largo del camino o sin ninguno. Esto se debe a que un solo nodo que cae el paquete determina una falla. Por el contrario, en el reenvío de alta calidad versus de baja calidad, también puede ocurrir un éxito bajo las acciones de bajo esfuerzo, y los pagos se utilizan para aumentar la probabilidad de éxito. Por lo tanto, puede ser posible que el principal maximice su utilidad contra el contrato con solo m de los nodos N a lo largo del camino. Si bien el resultado esperado depende de M, es independiente de los cuales se inducen los nodos M específicos. Al mismo tiempo, los pagos individuales esperados disminuyen en I (ver Ec. 16). Por lo tanto, un director que desea firmar un contrato con solo M fuera de los N nodos debe hacerlo con los nodos que están más cerca del destino;a saber, nodos (n - m + 1, ..., n - 1, n). Resolver el modelo de reenvío de alta calidad versus de baja calidad con costos de tránsito desconocido se deja para un trabajo futuro.7. Estudio de caso: enrutamiento de Internet podemos mapear diferentes esquemas de enrutamiento de Internet implementados y propuestos a los diversos modelos que hemos considerado en este trabajo. El Protocolo de Border Gateway (BGP), el protocolo actual de enrutamiento entre dominios en Internet, calcula las rutas basadas en los vectores de ruta. Dado que el protocolo revela solo los sistemas autónomos (ASS) a lo largo de una ruta pero no el costo asociado para ellos, el enrutamiento BGP actual se caracteriza mejor por la falta de información a priori sobre los costos de tránsito. En este caso, el principal (por ejemplo, un sitio de múltiples homed o un AS de nivel 1) puede implementar uno de los mecanismos propuestos en la Sección 4 al contratar con nodos individuales en la ruta. Dichos contratos implican pagar alguna prima sobre el costo real, y no está claro si se pueden implementar contactos recursivos en este escenario. Además, el protocolo actual no tiene la infraestructura para apoyar la implementación de contratos directos entre los puntos finales y la red. Recientemente, se han propuesto varias arquitecturas nuevas en el contexto de Internet para proporcionar al director no solo un conjunto de rutas de las cuales puede elegir (como lo hace BGP) sino también con el rendimiento a lo largo de esas rutas y la topología de la red. Un enfoque para obtener dicha información es a través de sondeo de extremo a extremo [1]. Otro enfoque es que las redes de borde realicen mediciones y descubran la topología de la red [32]. Otro enfoque es delegar la tarea de obtener información de topología y rendimiento a un tercero, como en la propuesta de enrutamiento como servicio [21]. Estas propuestas son bastante diferentes en la naturaleza, pero son comunes en su intento de proporcionar más visibilidad y transparencia en la red. Si se obtiene información sobre la topología y los costos de tránsito, el escenario se asigna al modelo de costos de tránsito conocido (Sección 3). En este caso, los primeros mejores contratos se pueden lograr a través de contratos individuales con nodos a lo largo del camino. Sin embargo, como hemos demostrado en la Sección 5, siempre que cada agente pueda elegir el próximo salto, el director puede obtener un beneficio total al contratar solo el primer salto (a través de la implementación de contratos recursivos). Sin embargo, las diversas propuestas para adquirir la topología de la red y la información de rendimiento no tratan el comportamiento estratégico por parte de los nodos intermedios. Con la comprensión de que la información recopilada puede ser utilizada por el principal en las relaciones contractuales posteriores, los nodos intermedios pueden comportarse estratégicamente, tergiversando sus verdaderos costos a las entidades que recopilan y agregan dicha información. Un enfoque reciente que puede aliviar este problema es proporcionar obituarios de paquetes al tener cada paquete para confirmar su entrega o informar su último éxito como HOP [4]. Otro enfoque es que terceros como Keynote supervisen de forma independiente el rendimiento de la red.8. Trabajo relacionado El estudio del comportamiento no cooperativo en las redes de comunicación y el diseño de incentivos ha recibido una atención significativa en el contexto del enrutamiento ad-hoc inalámbrico.[22] considera el problema del comportamiento malicioso, donde los nodos responden positivamente a las solicitudes de ruta, pero luego no pueden reenviar los paquetes reales. Propone mitigarlo por detección e informar mecanismos que esencialmente ayudarán a enrutar los nodos maliciosos. Sin embargo, en lugar de penalizar los nodos que no reenvían el tráfico, evita los nodos que se portan mal, aliviando su carga. Por lo tanto, tal mecanismo no es efectivo contra el comportamiento egoísta. Para mitigar el comportamiento egoísta, algunos enfoques [7, 8, 9] requieren un intercambio de reputación entre los nodos, o simplemente observaciones de primera mano [5]. Otros enfoques proponen esquemas de pago [10, 20, 31] para fomentar la cooperación.[31] es el más cercano a nuestro trabajo, ya que diseña esquemas de pago en los que el remitente paga los nodos intermedios para evitar varios tipos de comportamiento egoísta. En su enfoque, se supone que los nodos deben enviar recibos a una entidad de terceros. Mostramos que este tipo de monitoreo por salto puede no ser necesario. En el contexto del enrutamiento de Internet, [4] propone un marco de responsabilidad que proporcione hosts finales y proveedores de servicios después de las auditorías en el destino de sus paquetes. Esta propuesta es parte de un enfoque más amplio para proporcionar a los hosts finales un mayor control sobre la ruta de sus paquetes [3, 30]. Si los remitentes tienen información de costos de tránsito y pueden controlar completamente la ruta de sus paquetes, pueden diseñar contratos que los producen con la primera mejor utilidad. El marco de responsabilidad propuesto en [4] puede cumplir dos objetivos principales: informar los nodos de las condiciones de la red para ayudarlos a tomar una decisión informada y ayudar a las entidades a establecer si Ass individual ha realizado sus funciones adecuadamente. Si bien dicho marco se puede usar para la primera tarea, proponemos un enfoque diferente al segundo problema sin la necesidad de información de auditoría por salto. La investigación en el diseño de mecanismo algorítmico distribuido (DAMD) se ha aplicado al enrutamiento BGP [13, 14]. Estos trabajos proponen mecanismos para abordar el problema de información oculta, pero ignoran el problema de reenviar la aplicación. Inducir el comportamiento deseado también es el objetivo en [26], que intenta responder al desafío de la AMD distribuida planteada en [15]: si los mismos agentes que buscan manipular el sistema también ejecutan el mecanismo, lo que les impide desviarse de la¿Mecanismos propusieron reglas para maximizar su propio bienestar? Comienzan con el mecanismo propuesto presentado en [13] y utilizan principalmente mecanismos de auditoría para evitar la desviación del algoritmo. El enfoque de este trabajo es el diseño de un esquema de pago que proporciona los incentivos apropiados dentro del contexto del enrutamiento de múltiples saltos. Al igual que otras obras en este campo, suponemos que todos los servicios de contabilidad se realizan utilizando mecanismos fuera de banda. Los problemas de seguridad dentro de este contexto, como la autenticación de nodos o el cifrado de mensajes, son ortogonales al problema presentado en este documento, y se pueden encontrar, por ejemplo, en [18, 19, 25]. El problema de la asimetría de la información y la acción oculta (también conocida como peligro moral) está bien estudiado en la literatura económica [11, 17, 23, 27].[17] identifica el problema del peligro moral en los equipos de producción, y muestra que es imposible diseñar una regla de intercambio que sea eficiente y equilibrada presupuestada.[27] muestra que esta tarea es posible cuando la producción tiene lugar secuencialmente.9. Conclusiones y direcciones futuras en este documento mostramos que en un entorno de enrutamiento de múltiples saltos, donde las acciones de los nodos intermedios están ocultas de la fuente 125 y/o el destino, es posible diseñar esquemas de pago para inducir el comportamiento cooperativo del intermedionodos. Concluimos que el monitoreo de los resultados por salto puede no mejorar la utilidad de los participantes o el rendimiento de la red. Además, en escenarios de costos de tránsito desconocido, también es posible diseñar mecanismos que inducen el comportamiento cooperativo en equilibrio, pero el remitente paga una prima por extraer información de los nodos de tránsito. Nuestro modelo y resultados sugieren varias vías de investigación naturales e intrigantes: • Considere comportamientos manipuladores o colusivos que pueden surgir bajo los esquemas de pago propuestos.• Analice la viabilidad de los contratos recursivos bajo la información oculta de los costos de tránsito.• Si bien los esquemas de pago propuestos mantienen la cooperación en equilibrio, no es un equilibrio único. Planeamos estudiar bajo qué mecanismos puede surgir este perfil de estrategia como un equilibrio único (por ejemplo, penalización de los nodos sucesores).• Considere el efecto de la congestión y las limitaciones de capacidad en los mecanismos propuestos. Nuestros resultados preliminares muestran que cuando varios remitentes compiten por una capacidad de nodos de tránsito único, el remitente con la mayor demanda paga una prima incluso si los costos de tránsito son de conocimiento común. La prima se puede expresar en función de la segunda demanda más alta. Además, si la congestión afecta la probabilidad de una entrega exitosa, un remitente con una ruta alternativa de menor costo puede terminar con un nivel de utilidad más bajo que su rival con una ruta alternativa de mayor costo.• Caracterizar completamente el equilibrio NASH de información completa en las subastas de primeros precios y use esta caracterización para derivar su sobrecarga en comparación con los mecanismos sinceros.10. Agradecimientos Agradecemos a Hal Varian por sus útiles comentarios. Este trabajo es apoyado en parte por la National Science Foundation bajo los Premios ITR ANI-0085879 y ANI-0331659, y el premio de carrera ANI0133811.11. Referencias [1] Andersen, D. G., Balakrishnan, H., Kaashoek, M. F. y Morris, R. Networks superpuestos resilientes. En 18º ACM SOSP (2001).[2] Archer, A. y Tardos, E. Mecanismos de ruta frugal.[3] Argyraki, K. y Cheriton, D. Enrutamiento de fuente suelta como mecanismo para las políticas de tráfico. En Actas de Sigcomm ADNA (agosto de 2004).[4] Argyraki, K., Mania, P., Cheriton, D. y Shenker, S. proporcionando obituarios de paquetes. En el tercer taller sobre temas de Hot en Reds (Hotnets) (noviembre de 2004).[5] Bansal, S. y Baker, M. Control de cooperación basada en la observación en redes ad-hoc. Informe técnico, Universidad de Stanford (2003).[6] Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z. y Weiss, W. Una arquitectura para el servicio diferenciado. RFC 2475, 1998. [7] Buchegger, S. y Boudec, J.-Y. L. Análisis de rendimiento del protocolo confidente: cooperación de nodos - justicia en redes ad -hoc dinámicas. En Simposio IEEE/ACM sobre redes y computación móvil ad hoc (MOBIHOC) (2002).[8] Buchegger, S. y Boudec, J.-Y. L. Afrontando las acusaciones falsas en los sistemas de reputación de mal comportamiento para redes ad-hoc móviles. En EPFL, Informe Técnico (2003).[9] Buchegger, S. y Boudec, J.-Y. L. El efecto de la propagación de rumores en los sistemas de reputación para redes ad-hoc móviles. En WIOPT03: modelado y optimización en redes móviles ad-hoc e inalámbrica (2003).[10] Buttyan, L. y Hubaux, J. Estimulando la cooperación en las redes ad-hoc móviles autoorganizadas. ACM/Kluwer Journal en redes y aplicaciones móviles (Monet) (2003).[11] Caillaud, B. y Hermalin, B. Acción e incentivos ocultos. Notas de enseñanza. U.C. Berkeley.[12] Elkind, E., Sahai, A. y Steiglitz, K. Frugalidad en las subastas de Path, 2004. [13] Feigenbaum, J., Papadimitriou, C., Sami, R. y Shenker, S. A BGP-El mecanismo basado en el enrutamiento de menor costo. En Actas del Simposio ACM sobre los principios de la computación distribuida (2002).[14] Feigenbaum, J., Sami, R. y Shenker, S. Diseño del mecanismo para el enrutamiento de políticas. En la Universidad de Yale, Informe Técnico (2003).[15] Feigenbaum, J. y Shenker, S. Diseño de mecanismo algorítmico distribuido: resultados recientes y direcciones futuras. En Actas del Taller Internacional sobre algoritmos y Métodos discretos para la computación y comunicaciones móviles (2002).[16] Friedman, E. y Shenker, S. Aprendizaje e implementación en Internet. En manuscrito. Nuevo Brunswick: Universidad de Rutgers, Departamento de Economía (1997).[17] Holmstrom, B. Peligro moral en equipos. Bell Journal of Economics 13 (1982), 324-340.[18] Hu, Y., Perrig, A. y Johnson, D. Ariadne: un protocolo seguro de enrutamiento a pedido para redes ad-hoc. En la Octava Conferencia Internacional Anual sobre Computación y Redes Móviles (Mobicom) (2002), pp. 12-23.[19] Hu, Y., Perrig, A. y Johnson, D. Sead: rutas de vectores de distancia seguros de distancia eficiente para redes ad-hoc móviles. En el 4to taller IEEE sobre sistemas y aplicaciones informáticas móviles (WMCSA) (2002).[20] Jakobsson, M., Hubaux, J.-P. y Buttyan, L. Un esquema de micro pagos que fomenta la colaboración en redes celulares de múltiples saltos. En criptografía financiera (2003).[21] Lakshminarayanan, K., Stoica, I. y Shenker, S. Ruting como servicio. En UCB Informe técnico No. UCB/CSD-04-1327 (enero de 2004).[22] Marti, S., Giuli, T. J., Lai, K. y Baker, M. Mitigating Routing Mal comportamiento en redes ad-hoc móviles. En Proceedings of Mobicom (2000), pp. 255-265.[23] Mass-Color, A., Whinston, M. y Green, J. Teoría microeconómica. Oxford University Press, 1995. [24] Nisan, N. y Ronen, A. Diseño del mecanismo algorítmico. En Actas del 31 Simposio sobre Teoría de la Computación (1999).[25] Sanzgiri, K., Dahill, B., Levine, B., Shields, C. y Belding-Royer, E. Un protocolo de enrutamiento seguro para redes ad-hoc. En Conferencia Internacional sobre Protocolos de Redes (ICNP) (2002).[26] Shneidman, J. y Parkes, D. C. Superando la manipulación racional en la implementación del mecanismo, 2004. [27] Strausz, R. Peligro moral en equipos secuenciales. Documento de trabajo departamental. Universidad Libre de Berlín (1996).[28] Teixeira, R., Griffin, T., Shaikh, A. y Voelker, G. Sensibilidad a la red a las interrupciones del potato caliente. En Actas de ACM Sigcomm (septiembre de 2004).[29] Teixeira, R., Shaikh, A., Griffin, T. y Rexford, J. Dinámica del enrutamiento de potato en redes IP. En Actas de ACM Sigmetrics (junio de 2004).[30] Yang, X. Nira: una nueva arquitectura de enrutamiento de Internet. En Actas de Sigcomm ADNmt (agosto de 2003).[31] Zhong, S., Chen, J. y Yang, Y. R. Sprite: un sistema simple, a prueba de trucos, basado en crédito para redes ad-hoc móviles. En la 22ª Conferencia Conjunta Anual de las Sociedades de Computación y Comunicaciones de IEEE (2003).[32] Zhu, D., Groter, M. y Cheriton, D. Enrutamiento basado en retroalimentación. En Proc Hotnets-I (2002).126",
    "original_sentences": [
        "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
        "Berkeley 2 Computer Science Division U.C.",
        "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
        "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
        "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
        "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
        "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
        "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
        "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
        "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
        "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
        "This rational behavior may lead to suboptimal system performance.",
        "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
        "However, the actions of the intermediate nodes are often hidden from the endpoints.",
        "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
        "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
        "The problem of hidden action is hardly unique to networks.",
        "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
        "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
        "Our results are threefold.",
        "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
        "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
        "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
        "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
        "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
        "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
        "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
        "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
        "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
        "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
        "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
        "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
        "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
        "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
        "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
        "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
        "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
        "In some network scenarios, the topology and costs are common knowledge.",
        "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
        "In other routing scenarios, the sender does not have this a priori information.",
        "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
        "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
        "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
        "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
        "The remainder of this paper is organized as follows.",
        "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
        "In Section 4, we extend the model to scenarios with unknown transit costs.",
        "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
        "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
        "We consider Internet routing as a case study in Section 7.",
        "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
        "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
        "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
        "The principal uses no monitoring to observe per-hop outcomes.",
        "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
        "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
        "PROPOSITION 3.1.",
        "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
        "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
        "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
        "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
        "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
        "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
        "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
        "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
        "PROPOSITION 3.2.",
        "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
        "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
        "PROOF.",
        "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
        "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
        "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
        "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
        "For example, consider the two topologies presented in Figure 3.",
        "While the paths are of equal total cost, the total expected payment by the principal is different.",
        "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
        "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
        "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
        "PROPOSITION 3.3.",
        "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
        "PROOF.",
        "The proof to this proposition is already implied in the findings of the previous section.",
        "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
        "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
        "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
        "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
        "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
        "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
        "This is possible only if per-hop monitoring information is provided.",
        "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
        "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
        "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
        "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
        "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
        "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
        "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
        "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
        "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
        "First, the payment structure is different.",
        "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
        "In contrast, monitoring provides us with n identical contracts.",
        "Second, the solution concept used is different.",
        "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
        "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
        "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
        "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
        "In this section, we address the following questions: 1.",
        "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
        "What is the principals loss due to the lack of knowledge of the transit costs?",
        "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
        "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
        "The network routers act strategically and declare transit costs to maximize their profit.",
        "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
        "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
        "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
        "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
        "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
        "The timeline of the FPSS game is presented in figure 4.",
        "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
        "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
        "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
        "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
        "Figure 5 presents the timeline of FPSS .",
        "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
        "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
        "Payments are transferred based on the final outcome.",
        "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
        "Node i is said to be truthful if bi = ci.",
        "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
        "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
        "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
        "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
        "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
        "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
        "PROPOSITION 4.1.",
        "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
        "PROOF.",
        "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
        "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
        "The expected utility of a node not on the LCP is 0.",
        "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
        "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
        "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
        "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
        "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
        "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
        "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
        "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
        "A sketch of the proof would be as follows: 1.",
        "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
        "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
        "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
        "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
        "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
        "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
        "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
        "We make two additional comments concerning this class of mechanisms.",
        "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
        "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
        "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
        "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
        "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
        "This price greatly depends on the network topology and on the mechanism employed.",
        "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
        "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
        "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
        "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
        "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
        "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
        "With recursive payments, every node needs to communicate only with its downstream node.",
        "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
        "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
        "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
        "For example, consider the topology given in figure 3 (a).",
        "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
        "PROPOSITION 5.1.",
        "The expected total payments by the principal under direct and recursive contracts are equal.",
        "PROOF.",
        "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
        "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
        "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
        "What information should the principal posess in order to implement recursive contracts?",
        "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
        "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
        "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
        "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
        "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
        "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
        "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
        "We assume that payments are enforceable if made by the same entity that pledge to pay.",
        "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
        "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
        "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
        "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
        "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
        "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
        "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
        "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
        "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
        "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
        "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
        "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
        "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
        "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
        "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
        "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
        "PROPOSITION 6.1.",
        "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
        "PROOF.",
        "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
        "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
        "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
        "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
        "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
        "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
        "This prevents the first-best solution from being achieved.",
        "PROPOSITION 6.2.",
        "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
        "PROOF.",
        "The proof is a direct outcome of the following statements, which are proved above: 1.",
        "The optimal contract is the contract specified in equations 15 and 16 2.",
        "Under the optimal contract, E[si] equals node i s expected cost 3.",
        "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
        "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
        "This is because a single node dropping the packet determines a failure.",
        "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
        "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
        "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
        "At the same time, the individual expected payments decrease in i (see Eq. 16).",
        "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
        "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
        "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
        "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
        "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
        "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
        "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
        "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
        "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
        "One approach to obtain such information is through end-to-end probing [1].",
        "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
        "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
        "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
        "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
        "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
        "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
        "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
        "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
        "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
        "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
        "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
        "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
        "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
        "Therefore, such a mechanism is not effective against selfish behavior.",
        "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
        "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
        "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
        "We show that this type of per-hop monitoring may not be needed.",
        "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
        "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
        "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
        "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
        "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
        "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
        "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
        "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
        "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
        "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
        "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
        "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
        "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
        "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
        "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
        "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
        "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
        "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
        "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
        "The premium can be expressed as a function of the second-highest demand.",
        "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
        "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
        "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
        "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
        "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
        "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
        "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
        "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
        "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
        "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
        "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
        "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
        "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
        "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
        "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
        "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
        "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
        "Hidden Action and Incentives.",
        "Teaching Notes.",
        "U.C.",
        "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
        "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
        "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
        "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
        "In Manuscript.",
        "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
        "Moral Hazard in Teams.",
        "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
        "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
        "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
        "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
        "In UCB Technical Report No.",
        "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
        "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
        "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
        "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
        "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
        "Departmental Working Paper.",
        "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
        "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
        "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
        "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
        "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
        "In Proc Hotnets-I (2002). 126"
    ],
    "error_count": 0,
    "keys": {
        "endpoint": {
            "translated_key": "punto final",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating <br>endpoint</br>s; all the <br>endpoint</br>s can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the <br>endpoint</br>s contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The <br>endpoint</br>s can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the <br>endpoint</br>s.",
                "In many cases, the <br>endpoint</br>s can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication <br>endpoint</br>s who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the <br>endpoint</br>s.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between <br>endpoint</br>s and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Resumen de Berkeley En redes de múltiples saltos, las acciones tomadas por los nodos intermedios individuales generalmente están ocultas para la comunicación del \"punto final\" s;Todo lo que el \"punto final\" puede observar es si la transmisión de extremo a extremo fue exitosa.",
                "Utilizando un modelo de agente principal, mostramos cómo el problema de acción oculta se puede superar a través del diseño apropiado de los contratos, tanto en el directo (el \"punto final\" s \"con cada enrutador individual) como en recursivo (cada enrutador se contrae con el próximo aguas abajoenrutador) casos.",
                "El \"punto final\" puede proporcionar incentivos, por ejemplo, en forma de pagos, para alentar a los nodos intermedios a reenviar sus paquetes.",
                "Sin embargo, las acciones de los nodos intermedios a menudo están ocultas de los \"punto final\".",
                "En muchos casos, el \"punto final\" solo puede observar si el paquete ha llegado o no al destino y no puede atribuir la falla a un nodo específico en la ruta.",
                "Modelo de línea de base Consideramos un modelo de agente principal, donde el principal es un par de \"punto final\" de comunicación que desean comunicarse a través de una red de múltiples saltos, y los agentes son los nodos intermedios capaces de reenviar paquetes entre el \"punto final\" S.",
                "Además, el protocolo actual no tiene la infraestructura para admitir la implementación de contratos directos entre el \"punto final\" y la red."
            ],
            "translated_text": "",
            "candidates": [
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final",
                "punto final"
            ],
            "error": []
        },
        "multi-hop network": {
            "translated_key": "red de múltiples saltos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a <br>multi-hop network</br> rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a <br>multi-hop network</br>, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Introducción Los puntos finales que desean comunicarse a través de una \"red de múltiples saltos\" dependen de nodos intermedios para reenviar paquetes desde el remitente al receptor.",
                "Modelo de línea de base Consideramos un modelo de agente principal, donde el principal es un par de puntos finales de comunicación que desean comunicarse a través de una \"red de múltiples saltos\", y los agentes son los nodos intermedios capaces de reenviar paquetes entre los puntos finales."
            ],
            "translated_text": "",
            "candidates": [
                "red de múltiples saltos",
                "red de múltiples saltos",
                "red de múltiples saltos",
                "red de múltiples saltos"
            ],
            "error": []
        },
        "intermediate node": {
            "translated_key": "nodo intermedio",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) <br>intermediate node</br> may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the <br>intermediate node</br>, or to some external factors beyond the control of the <br>intermediate node</br>, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each <br>intermediate node</br> or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each <br>intermediate node</br> equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each <br>intermediate node</br> an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En consecuencia, un \"nodo intermedio\" racional (es decir, maximización de la utilidad) puede optar por reenviar paquetes con baja prioridad o no reenviar los paquetes en absoluto.",
                "Incluso si alguna forma de mecanismo de monitoreo les permite identificar la ubicación de la falla, aún no pueden atribuir la causa de la falla a la acción deliberada del \"nodo intermedio\", o a algunos factores externos más allá del control del\"Nodo intermedio\", como la congestión de la red, la interferencia del canal o la corrupción de datos.",
                "Si la ruta y los costos de tránsito se conocen antes de la transmisión, el principal logra la primera mejor solución y puede implementar los contratos directamente con cada \"nodo intermedio\" o de manera recursiva a través de la red (cada nodo hace un contrato con el siguiente nodo) sin ningúnPérdida en la utilidad.",
                "Encontramos que en ausencia de información por salto, el costo esperado de cada \"nodo intermedio\" es igual a su pago esperado.",
                "Para satisfacer la restricción IR, es esencial pagar cada \"nodo intermedio\" una cantidad esperada de al menos su costo esperado;De lo contrario, el nodo estaría mejor no participando."
            ],
            "translated_text": "",
            "candidates": [
                "nodo intermedio",
                "nodo intermedio",
                "nodo intermedio",
                "nodo intermedio",
                "Nodo intermedio",
                "nodo intermedio",
                "nodo intermedio",
                "nodo intermedio",
                "nodo intermedio",
                "nodo intermedio",
                "nodo intermedio"
            ],
            "error": []
        },
        "cost": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a <br>cost</br> (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort <br>cost</br> by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the <br>cost</br> it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected <br>cost</br>, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected <br>cost</br> in equilibrium.",
                "The expected <br>cost</br> of node i is its transit <br>cost</br> multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total <br>cost</br>, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total <br>cost</br>) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total <br>cost</br>, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total <br>cost</br> and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected <br>cost</br> of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected <br>cost</br>; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit <br>cost</br> information from the network routers in order to determine the lowest <br>cost</br> path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest <br>cost</br> paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit <br>cost</br>.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit <br>cost</br>, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal <br>cost</br> but drop packet, 2. lie about <br>cost</br> and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its <br>cost</br>. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the <br>cost</br> of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and <br>cost</br> of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected <br>cost</br>, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected <br>cost</br>.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the <br>cost</br> discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected <br>cost</br>, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their <br>cost</br>.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected <br>cost</br> under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected <br>cost</br> 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit <br>cost</br>. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the <br>cost</br> associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real <br>cost</br>, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit <br>cost</br> information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower <br>cost</br> alternate path may end up with a lower utility level than his rival with a higher <br>cost</br> alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-<br>cost</br> Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Cada acción se asocia con un \"costo\" (al agente) C (ai), y suponemos: C (ai = 1)> c (ai = 0) En esta etapa, suponemos que todos los nodos tienen la misma C (ai) Para claridad de presentación, pero relajamos esta suposición más tarde.",
                "Sin pérdida de generalidad, normalizamos la c (ai = 0) para ser cero, y denotamos el \"costo\" de alto esfuerzo por C, por lo que C (ai = 0) = 0 y c (ai = 1) = c.La utilidad del Agente I, denotada por UI, es una función del pago que recibe del principal (SI), la acción que toma (AI) y el \"costo\" en el que incurre (CI), como sigue: UI (Si (Si, ci, ai) = si - aici El resultado se denota por x ∈ {xg, xb}, donde xg representa el buen resultado en el que el paquete llega al destino, y XB representa el mal resultado en el que el paquete se caeantes de llegar al destino.",
                "Según el contrato óptimo que induce un comportamiento de alto esfuerzo de todos los nodos intermedios en el Nash Equi118 Librium2, el pago esperado a cada nodo es el mismo que su \"costo\" esperado, con el siguiente horario de pago: SB I = Si (x = XB) = 0 (2) Sg i = Si (x = xg) = c (1 - k) n - i+1 (3) prueba.",
                "A continuación, demostramos que el pago esperado a un nodo equivale a su \"costo\" esperado en equilibrio.",
                "El \"costo\" esperado del nodo I es su \"costo\" de tránsito multiplicado por la probabilidad de que enfrente este costo (es decir, la probabilidad de que el paquete alcance el nodo I), que es: (1 - k) I c.El pago esperado que recibe el nodo que recibe es: PR (XG) SG I+PR (XB) SB I = (1 - K) N+1 C (1 - K) N - I+1 = (1 - K) I C Notaque el pago esperado a un nodo disminuye a medida que el nodo se acerca al destino debido a la distribución asimétrica del riesgo.",
                "El pago esperado por el principal es: e [s] = (1 - k) n+1 nx i = 1 sg i+(1 - (1 - k) n+1) nx i = 1 sb i = (1 -k) n+1 nx i = 1 ci (1 - k) n - i+1 (6) El pago esperado realizado por el principal depende no solo del \"costo\" total, sino también del número de nodos en la ruta.",
                "Figura 3: Dos rutas de costos totales iguales pero diferentes longitudes y costos individuales.• C1N1 = C2N2 (\"costo total\") de igualdad de palabras • (1 - k1) n1+1 = (1 - k2) n2+1 (beneficio esperado igual) • n1 <n2 (la ruta 1 es más corta que la ruta 2) el total esperadoEl pago realizado por el director es más bajo en el camino más corto.",
                "Si bien las rutas son de igual \"costo\" total, el pago total esperado por parte del director es diferente.",
                "Basado en las ecuaciones.2 y 3, el pago total esperado para la ruta superior es: e [s] = pr (xg) (sg a + sg b) = „c1 (1 - k1) 2 + c1 1 - k1« (1 - k1)3 (8) 119 mientras que el pago total de esperanza para la ruta inferior es: E [S] = PR (xg) (Sg A + Sg B + Sg C) = (C2 (1 - K2) 3 + C2 (1 - K2) 2 + c2 1 - k2) (1 - k2) 4 para n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, tenemos el \"costo\" total igual e igual esperado beneficio esperado, pero E [S] 1 = 0.948 y E [S] 2 = 1.313.3.2 Drop Usus Forward con el monitoreo Suponga que el principal obtiene información de monitoreo por salto.3 La información por salto amplía el conjunto de mecanismos que el principal puede usar.",
                "Descubrimos que en ausencia de información por salto, el \"costo\" esperado de cada nodo intermedio es igual a su pago esperado.",
                "Para satisfacer la restricción IR, es esencial pagar a cada nodo intermedio un monto esperado de al menos su \"costo\" esperado;De lo contrario, el nodo estaría mejor no participando.",
                "En el juego de enrutamiento, el principal desea extraer información de \"costo\" de tránsito de los enrutadores de red para determinar la ruta de \"costo\" más baja (LCP) para un par de destino fuente dado.",
                "Figura 5: Estructura del juego para F P SS, donde se consideran tanto la información oculta como la acción oculta.En una red biconectada, de modo que se pueden elegir rutas de \"costo\" más bajas.",
                "En FPSS, cada nodo I presenta una oferta bi, que es su \"costo\" de tránsito informado.",
                "Luego, estos nodos pueden soltar cualquier paquete que reciban, incurrir en \"costo\" de tránsito cero, recaudar un pago de SB I> 0 y obtener ganancias positivas.",
                "Para probar la proposición anterior, tenemos que demostrar que los nodos no tienen ningún incentivo para participar en los siguientes malhavores: 1. revele sinceramente \"costo\" pero paquete de soltar, 2. mentir sobre \"costo\" y paquete de avance, 3. mentir sobrePaquete de costo y caída.",
                "A continuación, mostramos que los nodos no pueden obtener la utilidad del mal comportamiento (2).1. Si i ∈ LCP, E [u] i> 0. (a) Si informa bi> ci: i.Si bi <p r ir (b | i ∞) br - p r = i ir (b) Br, todavía está en el LCP, y dado que el pago es independiente de BI, su utilidad no cambia.II.Si bi> p r ir (b | i ∞) br - p r = i ir (b) br, no estará en el LCP y obtendrá e [u] i = 0, que es menor que su utilidad esperada si es sinceramenterevelando su \"costo\".121 (b) Si informa Bi <Ci, todavía está en el LCP, y dado que el pago es independiente de BI, su utilidad no cambia.2. Si i /∈ LCP, E [u] i = 0. (a) Si informa bi> ci, permanece fuera del LCP, por lo que su utilidad no cambia.(b) Si informa bi <ci: i.Si bi <p r ir (b | i ∞) br - p r = i ir (b) Br, se une al LCP y gana una utilidad esperada de e [u] i = (1 - k) i (pi -ct) Sin embargo, si i /∈ LCP, significa que Ci> x r ir (c | i ∞) cr - x r = i ir (c) cr pero si todos los nodos revelan sinceramente sus costos, pi = x r ir (c | i ∞) cr - x r = i ir (c) cr <ci, por lo tanto, e [u] i <0 ii.Si bi> p r ir (b | i ∞) br - p r = i ir (b) Br, permanece fuera del LCP, por lo que su utilidad no cambia.",
                "Por ejemplo, en las topologías con rutas disjuntas paralelas de origen a destino, podemos probar que bajo las subastas de primer precio, la pérdida para el principal es la diferencia entre el \"costo\" de la ruta más corta y la segunda ruta más baja, y la ruta más baja, y laLa pérdida es mayor bajo el mecanismo FPSS.5.",
                "Con pagos directos, el principal necesita conocer la identidad y el \"costo\" de cada nodo en la ruta y tener algún canal de comunicación con el nodo.",
                "Debido a que el pago depende del resultado final, y el pago esperado a un nodo es igual a su \"costo\" esperado, los nodos no tienen incentivos para ofrecer sus nodos aguas abajo más bajo de pago de lo necesario, ya que si lo hacen, sus nodos aguas abajo no reenviarán elpaquete.",
                "A diferencia de los contratos en los costos de tránsito conocidos, el pago esperado a un nodo generalmente excede su \"costo\" esperado.",
                "Sin embargo, en el caso de los contratos recursivos, la entidad que se compromete a pagar en la etapa de descubrimiento de \"costo\" (el principal) no es la misma que la entidad que define y ejecuta los pagos en la etapa de reenvío (los nodos de tránsito).",
                "Los nodos de tránsito, que diseñan los contratos en la segunda etapa, saben que sus nodos aguas abajo reenviarán el paquete siempre que el pago esperado exceda el \"costo\" esperado, incluso si es menor que el monto prometido.",
                "Los nodos de tránsito, que saben que este es un escenario plausible, ya no pueden revelar sinceramente su \"costo\".",
                "En el modelo de reenvío de alta calidad versus de baja calidad, si los pagos negativos se rechazan, el pago esperado a cada nodo excede su \"costo\" esperado bajo el contrato óptimo.",
                "Según el contrato óptimo, E [SI] es igual al nodo es \"Costo\" esperado 3.",
                "Según el contrato óptimo, SB I = (1 - K+Q) I C (K - 1) Q <0, por lo tanto, bajo cualquier otro contrato, el remitente tendrá que compensar cada nodo con un pago esperado que sea más alto que su tránsito esperado \"costo\".124 Hay una diferencia adicional entre los dos modelos.",
                "Dado que el protocolo revela solo los sistemas autónomos (ASS) a lo largo de una ruta pero no el \"costo\" asociado a ellos, el enrutamiento BGP actual se caracteriza mejor por la falta de información a priori sobre los costos de tránsito.",
                "Dichos contratos implican pagar alguna prima sobre el \"costo\" real, y no está claro si se pueden implementar contactos recursivos en este escenario.",
                "Si los remitentes tienen información de \"costo\" de tránsito y pueden controlar completamente la ruta de sus paquetes, pueden diseñar contratos que los producen con la primera mejor utilidad.",
                "Además, si la congestión afecta la probabilidad de una entrega exitosa, un remitente con una ruta alternativa de \"costo\" más baja puede terminar con un nivel de utilidad más bajo que su rival con una ruta alternativa de \"costo\" más alta.• Caracterizar completamente el equilibrio NASH de información completa en las subastas de primeros precios y use esta caracterización para derivar su sobrecarga en comparación con los mecanismos sinceros.10.",
                "Berkeley.[12] Elkind, E., Sahai, A. y Steiglitz, K. Frugalidad en las subastas de Path, 2004. [13] Feigenbaum, J., Papadimitriou, C., Sami, R. y Shenker, S. A BGP-El mecanismo basado en el enrutamiento de \"costo\" más bajo."
            ],
            "translated_text": "",
            "candidates": [
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo total",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "Costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "Costo",
                "Costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "costo",
                "Costo",
                "costo",
                "costo",
                "costo",
                "costo"
            ],
            "error": []
        },
        "priority": {
            "translated_key": "prioridad",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low <br>priority</br> or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low <br>priority</br> or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a <br>priority</br> basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Por lo tanto, en ausencia de incentivos en contrario, los nodos intermedios racionales (es decir, egoístas) pueden optar por reenviar paquetes a una \"prioridad\" baja o simplemente no reenviar paquetes en absoluto.",
                "En consecuencia, un nodo intermedio racional (es decir, maximización de utilidad) puede optar por reenviar paquetes a una \"prioridad\" baja o no reenviar los paquetes en absoluto.",
                "Esto puede corresponder a un modelo de servicio diferenciado por el servicio donde los paquetes se reenvían en el mejor esfuerzo o una \"prioridad\" [6]."
            ],
            "translated_text": "",
            "candidates": [
                "prioridad",
                "prioridad",
                "prioridad",
                "prioridad",
                "prioridad",
                "prioridad"
            ],
            "error": []
        },
        "cause of failure": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the <br>cause of failure</br> to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Incluso si alguna forma de mecanismo de monitoreo les permite identificar la ubicación de la falla, aún no pueden atribuir la \"causa de falla\" a la acción deliberada del nodo intermedio, o a algunos factores externos más allá del control delNodo intermedio, como la congestión de la red, la interferencia del canal o la corrupción de datos."
            ],
            "translated_text": "",
            "candidates": [
                "causa de la falla",
                "causa de falla"
            ],
            "error": []
        },
        "failure cause": {
            "translated_key": "causa de falla",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "hidden action": {
            "translated_key": "acción oculta",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of <br>hidden action</br> is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and <br>hidden action</br>, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and <br>hidden action</br>, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is <br>hidden action</br> only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When <br>hidden action</br> is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "<br>hidden action</br> and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El problema de la \"acción oculta\" no es exclusivo de las redes.",
                "En esta sección, consideramos tanto la información oculta como la \"acción oculta\", y generalizamos estos mecanismos para inducir tanto la revelación de la verdad como la acción de alto esfuerzo en el equilibrio, donde los nodos se transmiten sobre un canal de comunicación con pérdida, es decir, K ≥ 0. 4.1 V CGEl mecanismo en su artículo seminal [24], Nisan y Ronen presentan un mecanismo de VCG que induce la revelación veraz de los costos de tránsito por los bordes 120 Figura 4: Estructura del juego para F P ss, donde solo se considera la información oculta.",
                "En el entorno actual con información oculta y \"acción oculta\", FPSS logra un equilibrio NASH en ausencia de monitoreo por salto, y un equilibrio de estrategia dominante en presencia de monitoreo por salto, consistente con los resultados en la Sección 3 dondeSolo hay \"acción oculta\".",
                "Cuando la \"acción oculta\" también se tiene en cuenta, el mecanismo generalizado maneja el comportamiento de reenvío estratégico mediante el acondicionamiento de los pagos sobre el resultado final, y tiene en cuenta los canales de comunicación con pérdida al diseñar pagos que reflejan la distribución del riesgo.",
                "\"Acción oculta\" e incentivos."
            ],
            "translated_text": "",
            "candidates": [
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "Acción oculta"
            ],
            "error": []
        },
        "incentive": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an <br>incentive</br> problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, <br>incentive</br> and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) <br>incentive</br> compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an <br>incentive</br> to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have <br>incentive</br> to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an <br>incentive</br> to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no <br>incentive</br> to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no <br>incentive</br> to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no <br>incentive</br> to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate <br>incentive</br> to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has <br>incentive</br> to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En la configuración donde los nodos intermedios son agentes independientes (como nodos individuales en redes ad-hoc y de tope de pares o sistemas autónomos en Internet), esto plantea un problema de \"incentivo\";Los nodos intermedios pueden incurrir en costos significativos de comunicación y cálculo en el reenvío de paquetes sin obtener ningún beneficio directo al hacerlo.",
                "También conocido como peligro moral, este problema ha sido de interés en la literatura económica sobre la asimetría de la información, el \"incentivo\" y la teoría del contrato, y la teoría de la agencia.",
                "El resultado es una función del vector de las acciones tomadas por los agentes en la ruta, a = (a1, ..., an) ∈ {0, 1} n, y la tasa de pérdida en los canales, k.El beneficio del remitente del resultado se denota por w (x), donde: w (xg) = wg;y w (xb) = wb = 0 La utilidad del remitente es consecuencia: u (x, s) = w (x) - s donde: s = pn i = 1 si un remitente que desea inducir un equilibrio en el que todosLos nodos participan en la acción de alto esfuerzo deben satisfacer dos restricciones para cada agente I: (ir) racionalidad individual (restricción de participación) 1: La utilidad esperada de la participación debe (débilmente) exceder su utilidad de reserva (que normalizamos a 0).(Ic) Compatibilidad de \"incentivo\": la utilidad esperada de ejercer un alto esfuerzo debería (débilmente) exceder su utilidad esperada de ejercer un bajo esfuerzo.",
                "Si no se utiliza monitoreo, el perfil de estrategia de AI = 1 ∀i es un equilibrio de Nash, lo que significa que ningún agente tiene un \"incentivo\" para desviarse unilateralmente del perfil de estrategia.",
                "Dados estos pagos, los nodos tienen \"incentivos\" para revelar sus costos con sinceridad y luego para reenviar paquetes.",
                "De lo contrario, los nodos estratégicos pueden tener un \"incentivo\" para informar costos extremadamente pequeños para engañar al director para que crean que están en el LCP.",
                "Para probar la proposición anterior, tenemos que demostrar que los nodos no tienen \"incentivos\" para participar en los siguientes malhavores: 1. Revele sinceramente el costo pero el paquete de caída, 2. mentir sobre el costo y el paquete hacia adelante, 3. Mentir sobre el costo ypaquete de soltar.",
                "Los nodos no tienen \"incentivos\" para soltar paquetes, ya que derivan una utilidad esperada de 0 si lo hacen.",
                "Debido a que el pago depende del resultado final, y el pago esperado a un nodo equivale a su costo esperado, los nodos no tienen \"incentivo\" para ofrecer sus nodos aguas abajo más bajo pago de lo necesario, ya que si lo hacen, sus nodos aguas abajo no reenviarán elpaquete.",
                "Por lo tanto, los nodos de tránsito pueden no tener el \"incentivo\" apropiado para seguir la garantía de los directores durante la fase de pago.",
                "Por lo tanto, cada nodo tiene \"incentivos\" para ofrecer pagos más bajos de los prometidos y mantener las ganancias."
            ],
            "translated_text": "",
            "candidates": [
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivos",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivos",
                "incentivo",
                "incentivos",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivos"
            ],
            "error": []
        },
        "moral hazard": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as <br>moral hazard</br>, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as <br>moral hazard</br>) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of <br>moral hazard</br> in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "<br>moral hazard</br> in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. <br>moral hazard</br> in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "También conocido como \"peligro moral\", este problema ha sido de interés en la literatura económica sobre la asimetría de la información, la teoría de incentivos y contratos, y la teoría de la agencia.",
                "El problema de la asimetría de la información y la acción oculta (también conocida como \"peligro moral\") está bien estudiado en la literatura económica [11, 17, 23, 27].[17] identifica el problema del \"peligro moral\" en los equipos de producción, y muestra que es imposible diseñar una regla de intercambio que sea eficiente y equilibrada presupuestada.[27] muestra que esta tarea es posible cuando la producción tiene lugar secuencialmente.9.",
                "\"Peligro moral\" en equipos.",
                "En Conferencia Internacional sobre Protocolos de Redes (ICNP) (2002).[26] Shneidman, J. y Parkes, D. C. Superación de la manipulación racional en la implementación del mecanismo, 2004. [27] Strausz, R. \"Peligro moral\" en equipos secuenciales."
            ],
            "translated_text": "",
            "candidates": [
                "riesgo moral",
                "peligro moral",
                "Peligro moral",
                "peligro moral",
                "peligro moral",
                "riesgo moral",
                "Peligro moral",
                "riesgo moral",
                "Peligro moral"
            ],
            "error": []
        },
        "principal-agent model": {
            "translated_key": "modelo de agente principal",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a <br>principal-agent model</br>, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a <br>principal-agent model</br>, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a <br>principal-agent model</br>, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Usando un \"modelo de agente principal\", mostramos cómo el problema de acción oculta se puede superar a través del diseño apropiado de contratos, tanto en el enrutador directo (el contrato de puntos finales con cada enrutador individual) como en el enrutador recursivo (cada enrutador se contrae con el siguiente enrutador aguas abajo) casos.",
                "Seguimos esta literatura formalizando el problema como un \"modelo de agente principal\", donde múltiples agentes que realizan acciones ocultas secuenciales [17, 27].",
                "Modelo de línea de base Consideramos un \"modelo de agente principal\", donde el principal es un par de puntos finales de comunicación que desean comunicarse a través de una red de múltiples saltos, y los agentes son los nodos intermedios capaces de reenviar paquetes entre los puntos finales."
            ],
            "translated_text": "",
            "candidates": [
                "modelo de agente principal",
                "modelo de agente principal",
                "modelo de agente principal",
                "modelo de agente principal",
                "modelo de agente principal",
                "modelo de agente principal"
            ],
            "error": []
        },
        "mechanism": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring <br>mechanism</br> allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a <br>mechanism</br> that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new <br>mechanism</br>, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring <br>mechanism</br>, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG <br>mechanism</br> In their seminal paper [24], Nisan and Ronen present a VCG <br>mechanism</br> that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof <br>mechanism</br>, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful <br>mechanism</br>, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any <br>mechanism</br> M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a <br>mechanism</br> M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) <br>mechanism</br>, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized <br>mechanism</br> handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the <br>mechanism</br> employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS <br>mechanism</br>. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a <br>mechanism</br> is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic <br>mechanism</br> design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the <br>mechanism</br>, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed <br>mechanism</br> presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a <br>mechanism</br> for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based <br>mechanism</br> for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. <br>mechanism</br> Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic <br>mechanism</br> Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic <br>mechanism</br> Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in <br>mechanism</br> implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Incluso si algún tipo de \"mecanismo\" de monitoreo les permite identificar la ubicación de la falla, aún no pueden atribuir la causa de la falla a la acción deliberada del nodo intermedio, o a algunos factores externos más allá del control delNodo intermedio, como la congestión de la red, la interferencia del canal o la corrupción de datos.",
                "Para convencer al lector de que este es el caso, proporcionamos un ejemplo de un \"mecanismo\" que condiciona los pagos al llegar al siguiente salto.",
                "En el nuevo \"mecanismo\", el director hace que el horario de pagos dependa de si el paquete ha alcanzado el próximo salto o no.",
                "Según el \"mecanismo\" de monitoreo, el principal debe satisfacer las siguientes restricciones: (ic) PR (xg i → i+1 | ai = 1) sg+pr (xb i → i+1 | ai = 1) sb - c≥ pr (xg i → i+1 | ai = 0) sg+pr (xb i → i+1 | ai = 0) sb (9) (ir) pr (xg s → i | aj <i = 1) (PR (XG I → I+1 | AI = 1) SG+PR (XB I → I+1 | AI = 1) SB - C) ≥ 0 (10) 3 Para una propuesta reciente de un marco de responsabilidad que proporciona dicha información de monitoreover [4].",
                "En esta sección, consideramos tanto la información oculta como la acción oculta, y generalizamos estos mecanismos para inducir tanto la revelación de la verdad como la acción de alto esfuerzo en el equilibrio, donde los nodos se transmiten a través de un canal de comunicación con pérdida, es decir, k ≥ 0. 4.1 V \"mecanismo\" mecanismo \"\"En su artículo seminal [24], Nisan y Ronen presentan un\" mecanismo \"de VCG que induce la revelación veraz de los costos de tránsito por los bordes 120 Figura 4: Estructura del juego para F P Ss, donde solo se considera la información oculta.",
                "Al igual que todos los mecanismos de VCG, es un \"mecanismo\" a prueba de estrategias, lo que significa que induce una revelación veraz en un equilibrio de estrategia dominante.",
                "Si todos los nodos revelan sinceramente sus costos y sus paquetes hacia adelante, la utilidad esperada del nodo I en el LCP es: E [U] i = PR (XG S → I) (E [Si] - CI) + PR (XB S → I) Sb i = (1 - k) I (1 - k) n - i + 1 sg i + (1 - (1 - k) n - i + 1) sb i - ci + (1 - (1 - k)i) sb i = (1 - k) i (1 - k) n - i+1 pi (1 - k) n - i+1 - (1 - k) i ci = (1 - k) I (pi −Ci) ≥ 0 (12) La última desigualdad se deriva del hecho de que FPSS es un \"mecanismo\" veraz, por lo tanto, PI ≥ CI.",
                "Dados los pagos SB I = 0 y SG I = PI/(1 - K), es una estrategia dominante para los nodos revelar los costos con sinceridad y los paquetes hacia adelante.4.2 Discusión en general, para cualquier \"mecanismo\" m que induca un vector de oferta B en equilibrio al hacer un pago de Pi (b) al nodo I en el LCP, existe un \"mecanismo\" m que induce un equilibrio con la misma ofertaVector y reenvío de paquetes realizando un pago de: sb i = 0 sg i = pi (b) (1 - k) n - i+1.",
                "Además de la generalización de FPS en FPSS, también podemos considerar la generalización del \"mecanismo\" de la subasta de primer precio (FPA), donde el principal determina el LCP y paga cada nodo en el LCP su oferta, Pi (b) = =bi.",
                "Cuando también se tienen en cuenta las medidas ocultas, el \"mecanismo\" generalizado maneja el comportamiento de reenvío estratégico mediante el acondicionamiento de pagos sobre el resultado final, y tiene en cuenta los canales de comunicación con pérdida al diseñar pagos que reflejan la distribución del riesgo.",
                "Este precio depende en gran medida de la topología de la red y del \"mecanismo\" empleado.",
                "Por ejemplo, en las topologías con rutas disjuntas paralelas de origen a destino, podemos probar que bajo las subastas de primer precio, la pérdida para el principal es la diferencia entre el costo de la ruta más corta y la segunda ruta más bajo, y la pérdida esmás alto bajo el \"mecanismo\" de FPSS.5.",
                "Por lo tanto, tal \"mecanismo\" no es efectivo contra el comportamiento egoísta.",
                "La investigación en el diseño del \"mecanismo\" algorítmico distribuido (DAMD) se ha aplicado al enrutamiento BGP [13, 14].",
                "Inducir el comportamiento deseado también es el objetivo en [26], que intenta responder al desafío de la AMD distribuida planteada en [15]: si los mismos agentes que buscan manipular el sistema también ejecutan el \"mecanismo\", lo que les impide desviarse¿De los mecanismos propuestos reglas para maximizar su propio bienestar?",
                "Comienzan con el \"mecanismo\" propuesto presentado en [13] y usan principalmente mecanismos de auditoría para evitar la desviación del algoritmo.",
                "En 18º ACM SOSP (2001).[2] Archer, A. y Tardos, E. Mecanismos de ruta frugal.[3] Argyraki, K. y Cheriton, D. Enrutamiento de fuente suelta como un \"mecanismo\" para las políticas de tráfico.",
                "Berkeley.[12] Elkind, E., Sahai, A. y Steiglitz, K. Frugalidad en las subastas de Path, 2004. [13] Feigenbaum, J., Papadimitriou, C., Sami, R. y Shenker, S. A BGP-El \"mecanismo\" basado en el enrutamiento de menor costo.",
                "En Actas del Simposio ACM sobre los principios de la computación distribuida (2002).[14] Feigenbaum, J., Sami, R. y Shenker, S. Mecanismo de diseño para el enrutamiento de políticas.",
                "En la Universidad de Yale, Informe Técnico (2003).[15] Feigenbaum, J. y Shenker, S. Diseño de \"mecanismo\" algorítmico distribuido: resultados recientes y direcciones futuras.",
                "Oxford University Press, 1995. [24] Nisan, N. y Ronen, A. Diseño de \"mecanismo\" algorítmico.",
                "En Conferencia Internacional sobre Protocolos de Redes (ICNP) (2002).[26] Shneidman, J. y Parkes, D. C. Superando la manipulación racional en la implementación del \"mecanismo\", 2004. [27] Strausz, R. Peligro moral en equipos secuenciales."
            ],
            "translated_text": "",
            "candidates": [
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "En su artículo seminal [24], Nisan y Ronen presentan un",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "Mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo",
                "mecanismo"
            ],
            "error": []
        },
        "contract": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints <br>contract</br> with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and <br>contract</br> theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a <br>contract</br> with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the <br>contract</br>.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual <br>contract</br> 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal <br>contract</br> that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal <br>contract</br> (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal <br>contract</br> as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a <br>contract</br> with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a <br>contract</br> with node A, he needs to consider the subsequent <br>contract</br> that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal <br>contract</br>, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal <br>contract</br>.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal <br>contract</br> is the <br>contract</br> specified in equations 15 and 16 2.",
                "Under the optimal <br>contract</br>, E[si] equals node i s expected cost 3.",
                "Under the optimal <br>contract</br>, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other <br>contract</br> the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a <br>contract</br> with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a <br>contract</br> with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Utilizando un modelo de agente principal, mostramos cómo el problema de acción oculta se puede superar mediante el diseño apropiado de los contratos, tanto en el enrutador directo (el \"contrato\" con cada enrutador individual) como en el enrutador recursivo (cada enrutador se contrae con el siguiente enrutador aguas abajo) casos.",
                "También conocido como peligro moral, este problema ha sido de interés en la literatura económica sobre la asimetría de la información, los incentivos y la teoría de \"contrato\" y la teoría de la agencia.",
                "Si la ruta y los costos de tránsito se conocen antes de la transmisión, el principal logra la primera mejor solución y puede implementar los contratos directamente con cada nodo intermedio o recursivamente a través de la red (cada nodo hace un \"contrato\" con el siguiente nodo) sin ningúnPérdida en la utilidad.",
                "Si se aceptan los contratos, los agentes eligen sus acciones secuencialmente para maximizar sus pagos esperados en función del programa de pagos del \"contrato\".",
                "También distinguimos entre contratos directos, donde el principal firma un \"contrato\" individual Usamos la noción de racionalidad individual ex ante, en la que los agentes eligen participar antes de conocer el estado del sistema.",
                "Según el \"contrato\" óptimo que induce un comportamiento de alto esfuerzo de todos los nodos intermedios en el Nash Equi118 Librium2, el pago esperado a cada nodo es el mismo que su costo esperado, con el siguiente horario de pago: SB I = Si (x = XB) = 0 (2) Sg i = Si (x = xg) = c (1 - k) n - i+1 (3) prueba.",
                "Las restricciones anteriores se pueden expresar de la siguiente manera, según la ecuación.1: (ic): (1 - k) n - i+1 sg i+(1 - (1 - k) n - i+1) sb i - c ≥ sb i (ir): (1 - k) i((1 - k) n - i+1 sg i+(1− (1 - k) n - i+1) sb i −c)+(1 - (1 - k) i) sb i ≥ 0 esUn resultado estándar que ambas restricciones se unen al \"contrato\" óptimo (ver [23]).",
                "",
                "Cuando el principal diseña un \"contrato\" con el primer nodo, debe tener en cuenta los incentivos que el primer nodo debe proporcionar al segundo nodo, y así sucesivamente hasta el destino.",
                "Cuando el director llega a diseñar un \"contrato\" con el nodo A, debe considerar el \"contrato\" posterior que A debe firmar con B, lo que debería satisfacer las siguientes constrinas.(Ir): Pr (xg a → b | aa = 1) (e [s | ab = 1] - c)+ pr (xb a → b | aa = 1) sb a → b ≥ 0 (ic): e[S | AB = 1] - C ≥ E [S | AB = 0] Donde: E [S | AB = 1] = PR (XG B → D | AB = 1) SG A → B + PR (XB B →D | AB = 1) SB A → B y E [S | AB = 0] = PR (XG B → D | AB = 0) SG A → B + PR (XB B → D | AB = 0) SB A →B Estas (vinculantes) Las restricciones producen los valores de SB A → B y SG A → B: SB A → B = 0 SG A → B = C/(1 - K) Según estos valores, S puede expresar las restricciones que debeSatisfacer en un contrato con A. (IR): PR (xg s → a | as = 1) (e [ss → a - sa → b | ai = 1∀i] - c) + pr (xb s → a |AS = 1) SB S → A ≥ 0 (IC): E [SS → A - SA → B | Ai = 1∀i] - C ≥ E [SS → A - SA → B | AA = 0, AB = 1] Dónde: E [SS → A - SA → B | Ai = 1∀i] = PR (xg a → d | ai = 1∀i) (sg s → a - sg a → b) +pr (xb a →D | ai = 1∀i) (Sb S → A - Sb A → B) y E [SS → A - Sa → B | Aa = 0, AB = 1] = Pr (xg a → d | aa = 0,ab = 1) (Sg S → A - Sg A → B) +PR (XB A → D | AA = 0, AB = 1) (SB S → A - SB A → B) Resolviendo SB S → A y SGS → A, obtenemos: SB S → A = 0 Sg S → A = C (2 - K) 1 - 2K + K2 El pago total esperado es E [S] = Sg S → Apr (xg S → D) +SB S → APR (XB S → D) = C (2 - K) (1 - K) (13) que es igual al pago total esperado bajo contratos directos (ver Eq.8).",
                "En particular, en el \"contrato\" óptimo, el pago de baja salida SB I ahora es inferior a cero.",
                "En el modelo de reenvío de alta calidad versus de baja calidad, si se rechazan los pagos negativos, el pago esperado a cada nodo excede su costo esperado bajo el \"contrato\" óptimo.",
                "El \"contrato\" óptimo es el \"contrato\" especificado en las ecuaciones 15 y 16 2.",
                "Según el \"contrato\" óptimo, E [SI] es igual al Nodo I es costo esperado 3.",
                "Según el \"contrato\" óptimo, sb i = (1 - k+q) i c (k - 1) q <0 Por lo tanto, bajo cualquier otro \"contrato\", el remitente tendrá que compensar cada nodo con un pago esperado que es más alto quesu costo de tránsito esperado.124 Hay una diferencia adicional entre los dos modelos.",
                "En Drop Versus Forward, un director firma un \"contrato\" con todos los nodos N a lo largo del camino o sin ninguno.",
                "Por lo tanto, un director que desea firmar un \"contrato\" con solo M fuera de los N nodos debe hacerlo con los nodos que están más cerca del destino;a saber, nodos (n - m + 1, ..., n - 1, n)."
            ],
            "translated_text": "",
            "candidates": [
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "Contrato",
                "contrato",
                "contrato",
                "Contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato"
            ],
            "error": []
        },
        "hidden-action": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "<br>hidden-action</br> in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the <br>hidden-action</br> problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and <br>hidden-action</br>.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and <br>hidden-action</br>.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both <br>hidden-action</br> and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and <br>hidden-action</br> are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and <br>hidden-action</br> (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "\"Hidden-Action\" en la enrutamiento de múltiples saltos Michal Feldman1 mfeldman@sims.berkeley.edu John chuang1 chuang@sims.berkeley.edu ion stoica2 istoica@cs.berkeley.edu scott shenker2 shenker@icir.org 1 de la gestión de la información y la gestión de la información ySistemas U.C.",
                "Usando un modelo de agente principal, mostramos cómo el problema de \"acción oculta\" se puede superar a través del diseño apropiado de contratos, tanto en el enrutador directo (el contrato de puntos finales con cada enrutador individual) como en el enrutador (cada enrutador se contrae con el siguiente enrutador aguas abajo) casos.",
                "Además, generalizamos los mecanismos existentes que se ocupan de la información oculta para manejar escenarios que involucran tanto la información oculta como la \"acción oculta\".",
                "En tercer lugar, mostramos que en ausencia de información a priori sobre los costos de tránsito en la ruta de reenvío de paquetes, es posible generalizar los mecanismos existentes para superar los escenarios que involucran tanto la información oculta como la \"acción oculta\".",
                "¿Es posible diseñar contratos que inducen el comportamiento cooperativo en presencia de \"acción oculta\" y formación oculta?2.",
                "Figura 5: Estructura del juego para F P SS, donde se consideran tanto la información oculta como la \"acción oculta\".En una red biconectada, de modo que se puedan elegir rutas de menor costo.",
                "El problema de la asimetría de la información y la \"acción oculta\" (también conocida como peligro moral) está bien estudiado en la literatura económica [11, 17, 23, 27].[17] identifica el problema del peligro moral en los equipos de producción, y muestra que es imposible diseñar una regla de intercambio que sea eficiente y equilibrada presupuestada.[27] muestra que esta tarea es posible cuando la producción tiene lugar secuencialmente.9."
            ],
            "translated_text": "",
            "candidates": [
                "acción oculta",
                "Hidden-Action",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "Acción oculta",
                "acción oculta",
                "acción oculta",
                "acción oculta",
                "Acción oculta",
                "acción oculta"
            ],
            "error": []
        },
        "mechanism design": {
            "translated_key": "diseño de mecanismo",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic <br>mechanism design</br> (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. <br>mechanism design</br> for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic <br>mechanism design</br>: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic <br>mechanism design</br>.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "La investigación en \"diseño de mecanismo\" algorítmico distribuido (DAMD) se ha aplicado al enrutamiento BGP [13, 14].",
                "En Actas del Simposio ACM sobre los principios de la computación distribuida (2002).[14] Feigenbaum, J., Sami, R. y Shenker, S. \"Diseño de mecanismo\" para el enrutamiento de políticas.",
                "En la Universidad de Yale, Informe Técnico (2003).[15] Feigenbaum, J. y Shenker, S. \"Diseño de mecanismo\" algorítmico distribuido: resultados recientes y direcciones futuras.",
                "Oxford University Press, 1995. [24] Nisan, N. y Ronen, A. \"Diseño de mecanismo\" algorítmico."
            ],
            "translated_text": "",
            "candidates": [
                "diseño de mecanismo",
                "diseño de mecanismo",
                "diseño de mecanismo",
                "Diseño de mecanismo",
                "diseño de mecanismo",
                "Diseño de mecanismo",
                "diseño de mecanismo",
                "Diseño de mecanismo"
            ],
            "error": []
        },
        "moralhazard": {
            "translated_key": "riesgo moral",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "multi-hop": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in <br>multi-hop</br> Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In <br>multi-hop</br> networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a <br>multi-hop</br> network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a <br>multi-hop</br> network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: <br>multi-hop</br> path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a route but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to route requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to route around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of <br>multi-hop</br> routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a <br>multi-hop</br> routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in <br>multi-hop</br> Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Hidden-Action in \"Multi-Hop\" Ruting Michal Feldman1 mfeldman@sims.berkeley.edu John chuang1 chuang@sims.berkeley.edu ion stoica2 istoica@cs.berkeley.edu scott shenker2 shenker@icir.org 1 de la gestión de la información y la gestión de la información ySistemas U.C.",
                "Resumen de Berkeley En redes \"multi-salto\", las acciones tomadas por los nodos intermedios individuales generalmente están ocultas a los puntos finales de comunicación;Todos los puntos finales pueden observar es si la transmisión de extremo a extremo fue exitosa.",
                "Introducción Los puntos finales que desean comunicarse a través de una red de \"múltiples saltos\" dependen de nodos intermedios para reenviar paquetes desde el remitente al receptor.",
                "Modelo de línea de base Consideramos un modelo de agente principal, donde el principal es un par de puntos finales de comunicación que desean comunicarse a través de una red de \"múltiples saltos\", y los agentes son los nodos intermedios capaces de reenviar paquetes entre los puntos finales.",
                "S DN1 Fuente Destino N Nodos intermedios Figura 1: Ruta de \"múltiples saltos\" desde el remitente al destino.",
                "El enfoque de este trabajo es el diseño de un esquema de pago que proporciona los incentivos apropiados dentro del contexto del enrutamiento de \"múltiples saltos\".",
                "Conclusiones y direcciones futuras en este documento mostramos que en un entorno de enrutamiento \"multi-salto\", donde las acciones de los nodos intermedios están ocultas de la fuente 125 y/o el destino, es posible diseñar esquemas de pago para inducir el comportamiento cooperativo delos nodos intermedios.",
                "En el 4to taller IEEE sobre sistemas y aplicaciones informáticas móviles (WMCSA) (2002).[20] Jakobsson, M., Hubaux, J.-P. y Buttyan, L. Un esquema de micro pagos que fomenta la colaboración en redes celulares \"multi-salto\"."
            ],
            "translated_text": "",
            "candidates": [
                "múltiple",
                "Multi-Hop",
                "múltiple",
                "multi-salto",
                "múltiple",
                "múltiples saltos",
                "múltiple",
                "múltiples saltos",
                "múltiple",
                "múltiples saltos",
                "múltiple",
                "múltiples saltos",
                "múltiple",
                "multi-salto",
                "múltiple",
                "multi-salto"
            ],
            "error": []
        },
        "route": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Hidden-Action in Multi-Hop Routing Michal Feldman1 mfeldman@sims.berkeley.edu John Chuang1 chuang@sims.berkeley.edu Ion Stoica2 istoica@cs.berkeley.edu Scott Shenker2 shenker@icir.org 1 School of Information Management and Systems U.C.",
                "Berkeley 2 Computer Science Division U.C.",
                "Berkeley ABSTRACT In multi-hop networks, the actions taken by individual intermediate nodes are typically hidden from the communicating endpoints; all the endpoints can observe is whether or not the end-to-end transmission was successful.",
                "Therefore, in the absence of incentives to the contrary, rational (i.e., selfish) intermediate nodes may choose to forward packets at a low priority or simply not forward packets at all.",
                "Using a principal-agent model, we show how the hidden-action problem can be overcome through appropriate design of contracts, in both the direct (the endpoints contract with each individual router) and recursive (each router contracts with the next downstream router) cases.",
                "We further demonstrate that per-hop monitoring does not necessarily improve the utility of the principal or the social welfare in the system.",
                "In addition, we generalize existing mechanisms that deal with hidden-information to handle scenarios involving both hidden-information and hidden-action.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Design, Economics 1.",
                "INTRODUCTION Endpoints wishing to communicate over a multi-hop network rely on intermediate nodes to forward packets from the sender to the receiver.",
                "In settings where the intermediate nodes are independent agents (such as individual nodes in ad-hoc and peer-topeer networks or autonomous systems on the Internet), this poses an incentive problem; the intermediate nodes may incur significant communication and computation costs in the forwarding of packets without deriving any direct benefit from doing so.",
                "Consequently, a rational (i.e., utility maximizing) intermediate node may choose to forward packets at a low priority or not forward the packets at all.",
                "This rational behavior may lead to suboptimal system performance.",
                "The endpoints can provide incentives, e.g., in the form of payments, to encourage the intermediate nodes to forward their packets.",
                "However, the actions of the intermediate nodes are often hidden from the endpoints.",
                "In many cases, the endpoints can only observe whether or not the packet has reached the destination, and cannot attribute failure to a specific node on the path.",
                "Even if some form of monitoring mechanism allows them to pinpoint the location of the failure, they may still be unable to attribute the cause of failure to either the deliberate action of the intermediate node, or to some external factors beyond the control of the intermediate node, such as network congestion, channel interference, or data corruption.",
                "The problem of hidden action is hardly unique to networks.",
                "Also known as moral hazard, this problem has long been of interest in the economics literature concerning information asymmetry, incentive and contract theory, and agency theory.",
                "We follow this literature by formalizing the problem as a principal-agent model, where multiple agents making sequential hidden actions [17, 27].",
                "Our results are threefold.",
                "First, we show that it is possible to design contracts to induce cooperation when intermediate nodes can choose to forward or drop packets, as well as when the nodes can choose to forward packets with different levels of quality of service.",
                "If the path and transit costs are known prior to transmission, the principal achieves first best solution, and can implement the contracts either directly with each intermediate node or recursively through the network (each node making a contract with the following node) without any loss in utility.",
                "Second, we find that introducing per-hop monitoring has no impact on the principals expected utility in equilibrium.",
                "For a principal who wishes to induce an equilibrium in which all intermediate nodes cooperate, its expected total payment is the same with or without monitoring.",
                "However, monitoring provides a dominant strategy equilibrium, which is a stronger solution concept than the Nash equilibrium achievable in the absence of monitoring.",
                "Third, we show that in the absence of a priori information about transit costs on the packet forwarding path, it is possible to generalize existing mechanisms to overcome scenarios that involve both hidden-information and hidden-action.",
                "In these scenarios, the principal pays a premium compared to scenarios with known transit costs. 2.",
                "BASELINE MODEL We consider a principal-agent model, where the principal is a pair of communication endpoints who wish to communicate over a multi-hop network, and the agents are the intermediate nodes capable of forwarding packets between the endpoints.",
                "The principal (who in practice can be either the sender, the receiver, or 117 both) makes individual take-it-or-leave-it offers (contracts) to the agents.",
                "If the contracts are accepted, the agents choose their actions sequentially to maximize their expected payoffs based on the payment schedule of the contract.",
                "When necessary, agents can in turn make subsequent take-it-or-leave-it offers to their downstream agents.",
                "We assume that all participants are risk neutral and that standard assumptions about the global observability of the final outcome and the enforceability of payments by guaranteeing parties hold.",
                "For simplicity, we assume that each agent has only two possible actions; one involving significant effort and one involving little effort.",
                "We denote the action choice of agent i by ai ∈ {0, 1}, where ai = 0 and ai = 1 stand for the low-effort and high-effort actions, respectively.",
                "Each action is associated with a cost (to the agent) C(ai), and we assume: C(ai = 1) > C(ai = 0) At this stage, we assume that all nodes have the same C(ai) for presentation clarity, but we relax this assumption later.",
                "Without loss of generality we normalize the C(ai = 0) to be zero, and denote the high-effort cost by c, so C(ai = 0) = 0 and C(ai = 1) = c. The utility of agent i, denoted by ui, is a function of the payment it receives from the principal (si), the action it takes (ai), and the cost it incurs (ci), as follows: ui(si, ci, ai) = si − aici The outcome is denoted by x ∈ {xG , xB }, where xG stands for the Good outcome in which the packet reaches the destination, and xB stands for the Bad outcome in which the packet is dropped before it reaches the destination.",
                "The outcome is a function of the vector of actions taken by the agents on the path, a = (a1, ..., an) ∈ {0, 1}n , and the loss rate on the channels, k. The benefit of the sender from the outcome is denoted by w(x), where: w(xG ) = wG ; and w(xB ) = wB = 0 The utility of the sender is consequently: u(x, S) = w(x) − S where: S = Pn i=1 si A sender who wishes to induce an equilibrium in which all nodes engage in the high-effort action needs to satisfy two constraints for each agent i: (IR) Individual rationality (participation constraint)1 : the expected utility from participation should (weakly) exceed its reservation utility (which we normalize to 0). (IC) Incentive compatibility: the expected utility from exerting high-effort should (weakly) exceed its expected utility from exerting low-effort.",
                "In some network scenarios, the topology and costs are common knowledge.",
                "That is, the sender knows in advance the path that its packet will take and the costs on that path.",
                "In other routing scenarios, the sender does not have this a priori information.",
                "We show that our model can be applied to both scenarios with known and unknown topologies and costs, and highlight the implications of each scenario in the context of contracts.",
                "We also distinguish between direct contracts, where the principal signs an individual contract 1We use the notion of ex ante individual rationality, in which the agents choose to participate before they know the state of the system.",
                "S Dn1 Source Destination n intermediate nodes Figure 1: Multi-hop path from sender to destination.",
                "Figure 2: Structure of the multihop routing game under known topology and transit costs. with each node, and recursive contracts, where each node enters a contractual relationship with its downstream node.",
                "The remainder of this paper is organized as follows.",
                "In Section 3 we consider agents who decide whether to drop or forward packets with and without monitoring when the transit costs are common knowledge.",
                "In Section 4, we extend the model to scenarios with unknown transit costs.",
                "In Section 5, we distinguish between recursive and direct contracts and discuss their relationship.",
                "In Section 6, we show that the model applies to scenarios in which agents choose between different levels of quality of service.",
                "We consider Internet routing as a case study in Section 7.",
                "In Section 8 we present related work, and Section 9 concludes the paper. 3.",
                "KNOWN TRANSIT COSTS In this section we analyze scenarios in which the principal knows in advance the nodes on the path to the destination and their costs, as shown in figure 1.",
                "We consider agents who decide whether to drop or forward packets, and distinguish between scenarios with and without monitoring. 3.1 Drop versus Forward without Monitoring In this scenario, the agents decide whether to drop (a = 0) or forward (a = 1) packets.",
                "The principal uses no monitoring to observe per-hop outcomes.",
                "Consequently, the principal makes the payment schedule to each agent contingent on the final outcome, x, as follows: si(x) = (sB i , sG i ) where: sB i = si(x = xB ) sG i = si(x = xG ) The timeline of this scenario is shown in figure 2.",
                "Given a perhop loss rate of k, we can express the probability that a packet is successfully delivered from node i to its successor i + 1 as: Pr(xG i→i+1|ai) = (1 − k)ai (1) where xG i→j denotes a successful transmission from node i to j.",
                "PROPOSITION 3.1.",
                "Under the optimal contract that induces high-effort behavior from all intermediate nodes in the Nash Equi118 librium2 , the expected payment to each node is the same as its expected cost, with the following payment schedule: sB i = si(x = xB ) = 0 (2) sG i = si(x = xG ) = c (1 − k)n−i+1 (3) PROOF.",
                "The principal needs to satisfy the IC and IR constraints for each agent i, which can be expressed as follows: (IC)Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c ≥ Pr(xG |ai = 0, aj>i = 1)sG i + Pr(xB |ai = 0, aj>i = 1)sB i (4) This constraint says that the expected utility from forwarding is greater than or equal to its expected utility from dropping, if all subsequent nodes forward as well. (IR)Pr(xG S→i|aj<i = 1)(Pr(xG |aj≥i = 1)sG i + Pr(xB |aj≥i = 1)sB i − c) + Pr(xB S→i|aj<i = 1)sB i ≥ 0 (5) This constraint says that the expected utility from participating is greater than or equal to zero (reservation utility), if all other nodes forward.",
                "The above constraints can be expressed as follows, based on Eq. 1: (IC) : (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − c ≥ sB i (IR) : (1−k)i ((1−k)n−i+1 sG i +(1−(1−k)n−i+1 )sB i −c)+ (1 − (1 − k)i )sB i ≥ 0 It is a standard result that both constraints bind at the optimal contract (see [23]).",
                "Solving the two equations, we obtain the solution that is presented in Eqs. 2 and 3.",
                "We next prove that the expected payment to a node equals its expected cost in equilibrium.",
                "The expected cost of node i is its transit cost multiplied by the probability that it faces this cost (i.e., the probability that the packet reaches node i), which is: (1 − k)i c. The expected payment that node i receives is: Pr(xG )sG i + Pr(xB )sB i = (1 − k)n+1 c (1 − k)n−i+1 = (1 − k)i c Note that the expected payment to a node decreases as the node gets closer to the destination due to the asymmetric distribution of risk.",
                "The closer the node is to the destination, the lower the probability that a packet will fail to reach the destination, resulting in the low payment being made to the node.",
                "The expected payment by the principal is: E[S] = (1 − k)n+1 nX i=1 sG i + (1 − (1 − k)n+1 ) nX i=1 sB i = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 (6) The expected payment made by the principal depends not only on the total cost, but also the number of nodes on the path.",
                "PROPOSITION 3.2.",
                "Given two paths with respective lengths of n1 and n2 hops, per-hop transit costs of c1 and c2, and per-hop loss rates of k1 and k2, such that: 2Since transit nodes perform actions sequentially, this is really a subgameperfect equilibrium (SPE), but we will refer to it as Nash equilibrium in the remainder of the paper.",
                "Figure 3: Two paths of equal total costs but different lengths and individual costs. • c1n1 = c2n2 (equal total cost) • (1 − k1)n1+1 = (1 − k2)n2+1 (equal expected benefit) • n1 < n2 (path 1 is shorter than path 2) the expected total payment made by the principal is lower on the shorter path.",
                "PROOF.",
                "The expected payment in path j is E[S]j = nj X i=1 cj (1 − kj )i = cj (1 − kj ) 1 − (1 − kj)nj kj So, we have to show that: c1(1 − k1) 1 − (1 − k1)n1 k1 > c2(1 − k2) 1 − (1 − k2)n2 k2 Let M = c1n1 = c2n2 and N = (1 − k1)n1+1 = (1 − k2)n2+1 .",
                "We have to show that MN 1 n1+1 (1 − N n1 n1+1 ) n1(1 − N 1 n1+1 ) < MN 1 n2+1 (1 − N n2 n2+1 ) n2(1 − N 1 n2+1 ) (7) Let f = N 1 n+1 (1 − N n n+1 ) n(1 − N 1 n+1 ) Then, it is enough to show that f is monotonically increasing in n ∂f ∂n = g(N, n) h(N, n) where: g(N, n) = −((ln(N)n − (n + 1)2 )(N 1 n+1 − N n+2 n+1 ) − (n + 1)2 (N + N 2 n+1 )) and h(N, n) = (n + 1)2 n2 (−1 + N 1 n+1 )2 but h(N, n) > 0 ∀N, n, therefore, it is enough to show that g(N, n) > 0.",
                "Because N ∈ (0, 1): (i) ln(N) < 0, and (ii) N 1 n+1 > N n+2 n+1 .",
                "Therefore, g(N, n) > 0 ∀N, n. This means that, ceteris paribus, shorter paths should always be preferred over longer ones.",
                "For example, consider the two topologies presented in Figure 3.",
                "While the paths are of equal total cost, the total expected payment by the principal is different.",
                "Based on Eqs. 2 and 3, the expected total payment for the top path is: E[S] = Pr(xG )(sG A + sG B) = „ c1 (1 − k1)2 + c1 1 − k1 « (1 − k1)3 (8) 119 while the expect total payment for the bottom path is: E[S] = Pr(xG )(sG A + sG B + sG C ) = ( c2 (1 − k2)3 + c2 (1 − k2)2 + c2 1 − k2 )(1 − k2)4 For n1 = 2, c1 = 1.5, k1 = 0.5, n2 = 3, c2 = 1, k2 = 0.405, we have equal total cost and equal expected benefit, but E[S]1 = 0.948 and E[S]2 = 1.313. 3.2 Drop versus Forward with Monitoring Suppose the principal obtains per-hop monitoring information.3 Per-hop information broadens the set of mechanisms the principal can use.",
                "For example, the principal can make the payment schedule contingent on arrival to the next hop instead of arrival to the final destination.",
                "Can such information be of use to a principal wishing to induce an equilibrium in which all intermediate nodes forward the packet?",
                "PROPOSITION 3.3.",
                "In the drop versus forward model, the principal derives the same expected utility whether it obtains per-hop monitoring information or not.",
                "PROOF.",
                "The proof to this proposition is already implied in the findings of the previous section.",
                "We found that in the absence of per-hop information, the expected cost of each intermediate node equals its expected payment.",
                "In order to satisfy the IR constraint, it is essential to pay each intermediate node an expected amount of at least its expected cost; otherwise, the node would be better-off not participating.",
                "Therefore, no other payment scheme can reduce the expected payment from the principal to the intermediate nodes.",
                "In addition, if all nodes are incentivized to forward packets, the probability that the packet reaches the destination is the same in both scenarios, thus the expected benefit of the principal is the same.",
                "Indeed, we have found that even in the absence of per-hop monitoring information, the principal achieves first-best solution.",
                "To convince the reader that this is indeed the case, we provide an example of a mechanism that conditions payments on arrival to the next hop.",
                "This is possible only if per-hop monitoring information is provided.",
                "In the new mechanism, the principal makes the payment schedule contingent on whether the packet has reached the next hop or not.",
                "That is, the payment to node i is sG i if the packet has reached node i + 1, and sB i otherwise.",
                "We assume costless monitoring, giving us the best case scenario for the use of monitoring.",
                "As before, we consider a principal who wishes to induce an equilibrium in which all intermediate nodes forward the packet.",
                "The expected utility of the principal is the difference between its expected benefit and its expected payment.",
                "Because the expected benefit when all nodes forward is the same under both scenarios, we only need to show that the expected total payment is identical as well.",
                "Under the monitoring mechanism, the principal has to satisfy the following constraints: (IC)Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c ≥ Pr(xG i→i+1|ai = 0)sG + Pr(xB i→i+1|ai = 0)sB (9) (IR)Pr(xG S→i|aj<i = 1)(Pr(xG i→i+1|ai = 1)sG + Pr(xB i→i+1|ai = 1)sB − c) ≥ 0 (10) 3For a recent proposal of an accountability framework that provides such monitoring information see [4].",
                "These constraints can be expressed as follows: (IC) : (1 − k)sG + ksB − c ≥ s0 (IR) : (1 − k)i ((1 − k)sG + ksB − c) ≥ 0 The two constraints bind at the optimal contract as before, and we get the following payment schedule: sB = 0 sG = c 1 − k The expected total payment under this scenario is: E[S] = nX i=1 ((1 − k)i (sB + (i − 1)sG )) + (1 − k)n+1 nsG = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 as in the scenario without monitoring (see Equation 6.)",
                "While the expected total payment is the same with or without monitoring, there are some differences between the two scenarios.",
                "First, the payment structure is different.",
                "If no per-hop monitoring is used, the payment to each node depends on its location (i).",
                "In contrast, monitoring provides us with n identical contracts.",
                "Second, the solution concept used is different.",
                "If no monitoring is used, the strategy profile of ai = 1 ∀i is a Nash equilibrium, which means that no agent has an incentive to deviate unilaterally from the strategy profile.",
                "In contrast, with the use of monitoring, the action chosen by node i is independent of the other agents forwarding behavior.",
                "Therefore, monitoring provides us with dominant strategy equilibrium, which is a stronger solution concept than Nash equilibrium. [15], [16] discuss the appropriateness of different solution concepts in the context of online environments. 4.",
                "UNKNOWN TRANSIT COSTS In certain network settings, the transit costs of nodes along the forwarding path may not be common knowledge, i.e., there exists the problem of hidden information.",
                "In this section, we address the following questions: 1.",
                "Is it possible to design contracts that induce cooperative behavior in the presence of both hidden-action and hiddeninformation? 2.",
                "What is the principals loss due to the lack of knowledge of the transit costs?",
                "In hidden-information problems, the principal employs mechanisms to induce truthful revelation of private information from the agents.",
                "In the routing game, the principal wishes to extract transit cost information from the network routers in order to determine the lowest cost path (LCP) for a given source-destination pair.",
                "The network routers act strategically and declare transit costs to maximize their profit.",
                "Mechanisms that have been proposed in the literature for the routing game [24, 13] assume that once the transit costs have been obtained, and the LCP has been determined, the nodes on the LCP obediently forward all packets, and that there is no loss in the network, i.e., k = 0.",
                "In this section, we consider both hidden information and hidden action, and generalize these mechanisms to induce both truth revelation and high-effort action in equilibrium, where nodes transmit over a lossy communication channel, i.e., k ≥ 0. 4.1 V CG Mechanism In their seminal paper [24], Nisan and Ronen present a VCG mechanism that induces truthful revelation of transit costs by edges 120 Figure 4: Game structure for F P SS, where only hidden-information is considered.",
                "Figure 5: Game structure for F P SS , where both hiddeninformation and hidden-action are considered. in a biconnected network, such that lowest cost paths can be chosen.",
                "Like all VCG mechanisms, it is a strategyproof mechanism, meaning that it induces truthful revelation in a dominant strategy equilibrium.",
                "In [13] (FPSS), Feigenbaum et al. slightly modify the model to have the routers as the selfish agents instead of the edges, and present a distributed algorithm that computes the VCG payments.",
                "The timeline of the FPSS game is presented in figure 4.",
                "Under FPSS, transit nodes keep track of the amount of traffic routed through them via counters, and payments are periodically transferred from the principals to the transit nodes based on the counter values.",
                "FPSS assumes that transit nodes are obedient in packet forwarding behavior, and will not update the counters without exerting high effort in packet forwarding.",
                "In this section, we present FPSS , which generalizes FPSS to operate in an environment with lossy communication channels (i.e., k ≥ 0) and strategic behavior in terms of packet forwarding.",
                "We will show that FPSS induces an equilibrium in which all nodes truthfully reveal their transit costs and forward packets if they are on the LCP.",
                "Figure 5 presents the timeline of FPSS .",
                "In the first stage, the sender declares two payment functions, (sG i , sB i ), that will be paid upon success or failure of packet delivery.",
                "Given these payments, nodes have incentive to reveal their costs truthfully, and later to forward packets.",
                "Payments are transferred based on the final outcome.",
                "In FPSS , each node i submits a bid bi, which is its reported transit cost.",
                "Node i is said to be truthful if bi = ci.",
                "We write b for the vector (b1, . . . , bn) of bids submitted by all transit nodes.",
                "Let Ii(b) be the indicator function for the LCP given the bid vector b such that Ii(b) =  1 if i is on the LCP; 0 otherwise.",
                "Following FPSS [13], the payment received by node i at equilibrium is: pi = biIi(b) + [ X r Ir(b|i ∞)br − X r Ir(b)br] = X r Ir(b|i ∞)br − X r=i Ir(b)br (11) where the expression b|i x means that (b|i x)j = cj for all j = i, and (b|i x)i = x.",
                "In FPSS , we compute sB i and sG i as a function of pi, k, and n. First, we recognize that sB i must be less than or equal to zero in order for the true LCP to be chosen.",
                "Otherwise, strategic nodes may have an incentive to report extremely small costs to mislead the principal into believing that they are on the LCP.",
                "Then, these nodes can drop any packets they receive, incur zero transit cost, collect a payment of sB i > 0, and earn positive profit.",
                "PROPOSITION 4.1.",
                "Let the payments of FPSS be: sB i = 0 sG i = pi (1 − k)n−i+1 Then, FPSS has a Nash equilibrium in which all nodes truthfully reveal their transit costs and all nodes on the LCP forward packets.",
                "PROOF.",
                "In order to prove the proposition above, we have to show that nodes have no incentive to engage in the following misbehaviors: 1. truthfully reveal cost but drop packet, 2. lie about cost and forward packet, 3. lie about cost and drop packet.",
                "If all nodes truthfully reveal their costs and forward packets, the expected utility of node i on the LCP is: E[u]i = Pr(xG S→i)(E[si] − ci) + Pr(xB S→i)sB i = (1 − k)i (1 − k)n−i+1 sG i + (1 − (1 − k)n−i+1 )sB i − ci + (1 − (1 − k)i )sB i = (1 − k)i (1 − k)n−i+1 pi (1 − k)n−i+1 − (1 − k)i ci = (1 − k)i (pi − ci) ≥ 0 (12) The last inequality is derived from the fact that FPSS is a truthful mechanism, thus pi ≥ ci.",
                "The expected utility of a node not on the LCP is 0.",
                "A node that drops a packet receives sB i = 0, which is smaller than or equal to E[u]i for i ∈ LCP and equals E[u]i for i /∈ LCP.",
                "Therefore, nodes cannot gain utility from misbehaviors (1) or (3).",
                "We next show that nodes cannot gain utility from misbehavior (2). 1. if i ∈ LCP, E[u]i > 0. (a) if it reports bi > ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it is still on the LCP, and since the payment is independent of bi, its utility does not change. ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it will not be on the LCP and obtain E[u]i = 0, which is less than its expected utility if truthfully revealing its cost. 121 (b) if it reports bi < ci, it is still on the LCP, and since the payment is independent of bi, its utility does not change. 2. if i /∈ LCP, E[u]i = 0. (a) if it reports bi > ci, it remains out of the LCP, so its utility does not change. (b) if it reports bi < ci: i. if bi < P r Ir(b|i ∞)br − P r=i Ir(b)br, it joins the LCP, and gains an expected utility of E[u]i = (1 − k)i (pi − ct) However, if i /∈ LCP, it means that ci > X r Ir(c|i ∞)cr − X r=i Ir(c)cr But if all nodes truthfully reveal their costs, pi = X r Ir(c|i ∞)cr − X r=i Ir(c)cr < ci therefore, E[u]i < 0 ii. if bi > P r Ir(b|i ∞)br − P r=i Ir(b)br, it remains out of the LCP, so its utility does not change.",
                "Therefore, there exists an equilibrium in which all nodes truthfully reveal their transit costs and forward the received packets.",
                "We note that in the hidden information only context, FPSS induces truthful revelation as a dominant strategy equilibrium.",
                "In the current setting with both hidden information and hidden action, FPSS achieves a Nash equilibrium in the absence of per-hop monitoring, and a dominant strategy equilibrium in the presence of per-hop monitoring, consistent with the results in section 3 where there is hidden action only.",
                "In particular, with per-hop monitoring, the principal declares the payments sB i and sG i to each node upon failure or success of delivery to the next node.",
                "Given the payments sB i = 0 and sG i = pi/(1 − k), it is a dominant strategy for the nodes to reveal costs truthfully and forward packets. 4.2 Discussion More generally, for any mechanism M that induces a bid vector b in equilibrium by making a payment of pi(b) to node i on the LCP, there exists a mechanism M that induces an equilibrium with the same bid vector and packet forwarding by making a payment of: sB i = 0 sG i = pi(b) (1 − k)n−i+1 .",
                "A sketch of the proof would be as follows: 1.",
                "IM i (b) = IM i (b)∀i, since M uses the same choice metric. 2.",
                "The expected utility of a LCP node is E[u]i = (1 − k)i (pi(b) − ci) ≥ 0 if it forwards and 0 if it drops, and the expected utility of a non-LCP node is 0. 3.",
                "From 1 and 2, we get that if a node i can increase its expected utility by deviating from bi under M , it can also increase its utility by deviating from bi in M, but this is in contradiction to bi being an equilibrium in M. 4.",
                "Nodes have no incentive to drop packets since they derive an expected utility of 0 if they do.",
                "In addition to the generalization of FPSS into FPSS , we can also consider the generalization of the first-price auction (FPA) mechanism, where the principal determines the LCP and pays each node on the LCP its bid, pi(b) = bi.",
                "First-price auctions achieve Nash equilibrium as opposed to dominant strategy equilibrium.",
                "Therefore, we should expect the generalization of FPA to achieve Nash equilibrium with or without monitoring.",
                "We make two additional comments concerning this class of mechanisms.",
                "First, we find that the expected total payment made by the principal under the proposed mechanisms is E[S] = nX i=1 (1 − k)i pi(b) and the expected benefit realized by the principal is E[w] = (1 − k)n+1 wG where Pn i=1 pi and wG are the expected payment and expected benefit, respectively, when only the hidden-information problem is considered.",
                "When hidden action is also taken into consideration, the generalized mechanism handles strategic forwarding behavior by conditioning payments upon the final outcome, and accounts for lossy communication channels by designing payments that reflect the distribution of risk.",
                "The difference between expected payment and benefit is not due to strategic forwarding behavior, but to lossy communications.",
                "Therefore, in a lossless network, we should not see any gap between expected benefits and payments, independent of strategic or non-strategic forwarding behavior.",
                "Second, the loss to the principal due to unknown transit costs is also known as the price of frugality, and is an active field of research [2, 12].",
                "This price greatly depends on the network topology and on the mechanism employed.",
                "While it is simple to characterize the principals loss in some special cases, it is not a trivial problem in general.",
                "For example, in topologies with parallel disjoint paths from source to destination, we can prove that under first-price auctions, the loss to the principal is the difference between the cost of the shortest path and the second-shortest path, and the loss is higher under the FPSS mechanism. 5.",
                "RECURSIVE CONTRACTS In this section, we distinguish between direct and recursive contracts.",
                "In direct contracts, the principal contracts directly with each node on the path and pays it directly.",
                "In recursive payment, the principal contracts with the first node on the path, which in turn contracts with the second, and so on, such that each node contracts with its downstream node and makes the payment based on the final result, as demonstrated in figure 6.",
                "With direct payments, the principal needs to know the identity and cost of each node on the path and to have some communication channel with the node.",
                "With recursive payments, every node needs to communicate only with its downstream node.",
                "Several questions arise in this context: • What knowledge should the principal have in order to induce cooperative behavior through recursive contracts? • What should be the structure of recursive contracts that induce cooperative behavior? • What is the relation between the total expected payment under direct and recursive contracts? • Is it possible to design recursive contracts in scenarios of unknown transit costs? 122 Figure 6: Structure of the multihop routing game under known topology and recursive contracts.",
                "In order to answer the questions outlined above, we look at the IR and IC constraints that the principal needs to satisfy when contracting with the first node on the path.",
                "When the principal designs a contract with the first node, he should take into account the incentives that the first node should provide to the second node, and so on all the way to the destination.",
                "For example, consider the topology given in figure 3 (a).",
                "When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints. (IR) :Pr(xG A→B|aA = 1)(E[s|aB = 1] − c)+ Pr(xB A→B|aA = 1)sB A→B ≥ 0 (IC) :E[s|aB = 1] − c ≥ E[s|aB = 0] where: E[s|aB = 1] = Pr(xG B→D|aB = 1)sG A→B + Pr(xB B→D|aB = 1)sB A→B and E[s|aB = 0] = Pr(xG B→D|aB = 0)sG A→B + Pr(xB B→D|aB = 0)sB A→B These (binding) constraints yield the values of sB A→B and sG A→B: sB A→B = 0 sG A→B = c/(1 − k) Based on these values, S can express the constraints it should satisfy in a contract with A. (IR) :Pr(xG S→A|aS = 1)(E[sS→A − sA→B|ai = 1∀i] − c) + Pr(xB S→A|aS = 1)sB S→A ≥ 0 (IC) : E[sS→A − sA→B|ai = 1∀i] − c ≥ E[sS→A − sA→B|aA = 0, aB = 1] where: E[sS→A − sA→B|ai = 1∀i] = Pr(xG A→D|ai = 1∀i)(sG S→A − sG A→B) +Pr(xB A→D|ai = 1∀i)(sB S→A − sB A→B) and E[sS→A − sA→B|aA = 0, aB = 1] = Pr(xG A→D|aA = 0, aB = 1)(sG S→A − sG A→B) +Pr(xB A→D|aA = 0, aB = 1)(sB S→A − sB A→B) Solving for sB S→A and sG S→A, we get: sB S→A = 0 sG S→A = c(2 − k) 1 − 2k + k2 The expected total payment is E[S] = sG S→APr(xG S→D) + sB S→APr(xB S→D) = c(2 − k)(1 − k) (13) which is equal to the expected total payment under direct contracts (see Eq. 8).",
                "PROPOSITION 5.1.",
                "The expected total payments by the principal under direct and recursive contracts are equal.",
                "PROOF.",
                "In order to calculate the expected total payment, we have to find the payment to the first node on the path that will induce appropriate behavior.",
                "Because sB i = 0 in the drop / forward model, both constraints can be reduced to: Pr(xG i→R|aj = 1∀j)(sG i − sG i+1) − ci = 0 ⇔ (1 − k)n−i+1 (sG i − sG i+1) − ci = 0 which yields, for all 1 ≤ i ≤ n: sG i = ci (1 − k)n−i+1 + sG i+1 Thus, sG n = cn 1 − k sG n−1 = cn−1 (1 − k)2 + sG n = cn−1 (1 − k)2 + cn 1 − k · · · sG 1 = c1 (1 − k)n + sG 2 = . . . = nX i=1 ci (1 − k)i and the expected total payment is E[S] = (1 − k)n+1 sG 1 = (1 − k)n+1 nX i=1 ci (1 − k)n−i+1 which equals the total expected payment in direct payments, as expressed in Eq. 6.",
                "Because the payment is contingent on the final outcome, and the expected payment to a node equals its expected cost, nodes have no incentive to offer their downstream nodes lower payment than necessary, since if they do, their downstream nodes will not forward the packet.",
                "What information should the principal posess in order to implement recursive contracts?",
                "Like in direct payments, the expected payment is not affected solely by the total payment on the path, but also by the topology.",
                "Therefore, while the principal only needs to communicate with the first node on the forwarding path and does not have to know the identities of the other nodes, it still needs to know the number of nodes on the path and their individual transit costs.",
                "Finally, is it possible to design recursive contracts under unknown transit costs, and, if so, what should be the structure of such contracts?",
                "Suppose the principal has implemented the distributed algorithm that calculates the necessary payments, pi for truthful 123 revelation, would the following payment schedule to the first node induce cooperative behavior? sB 1 = 0 sG 1 = nX i=1 pi (1 − k)i The answer is not clear.",
                "Unlike contracts in known transit costs, the expected payment to a node usually exceeds its expected cost.",
                "Therefore, transit nodes may not have the appropriate incentive to follow the principals guarantee during the payment phase.",
                "For example, in FPSS , the principal guarantees to pay each node an expected payment of pi > ci.",
                "We assume that payments are enforceable if made by the same entity that pledge to pay.",
                "However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that defines and executes the payments in the forwarding stage (the transit nodes).",
                "Transit nodes, who design the contracts in the second stage, know that their downstream nodes will forward the packet as long as the expected payment exceeds the expected cost, even if it is less than the promised amount.",
                "Thus, every node has incentive to offer lower payments than promised and keep the profit.",
                "Transit nodes, who know this is a plausible scenario, may no longer truthfully reveal their cost.",
                "Therefore, while recursive contracts under known transit costs are strategically equivalent to direct contracts, it is not clear whether this is the case under unknown transit costs. 6.",
                "HIGH-QUALITY VERSUS LOW-QUALITY FORWARDING So far, we have considered the agents strategy space to be limited to the drop (a = 0) and forward (a = 1) actions.",
                "In this section, we consider a variation of the model where the agents choose between providing a low-quality service (a = 0) and a high-quality service (a = 1).",
                "This may correspond to a service-differentiated service model where packets are forwarded on a best-effort or a priority basis [6].",
                "In contrast to drop versus forward, a packet may still reach the next hop (albeit with a lower probability) even if the low-effort action is taken.",
                "As a second example, consider the practice of hot-potato routing in inter-domain routing of todays Internet.",
                "Individual autonomous systems (ASs) can either adopt hot-potato routing or early exit routing (a = 0), where a packet is handed off to the downstream AS at the first possible exit, or late exit routing (a = 1), where an AS carries the packet longer than it needs to, handing off the packet at an exit closer to the destination.",
                "In the absence of explicit incentives, it is not surprising that ASs choose hot-potato routing to minimize their costs, even though it leads to suboptimal routes [28, 29].",
                "In both examples, in the absence of contracts, a rational node would exert low-effort, resulting in lower performance.",
                "Nevertheless, this behavior can be avoided with an appropriate design of contracts.",
                "Formally, the probability that a packet successfully gets from node i to node i + 1 is: Pr(xG i→i+1|ai) = 1 − (k − qai) (14) where: q ∈ (0, 1] and k ∈ (q, 1] In the drop versus forward model, a low-effort action by any node results in a delivery failure.",
                "In contrast, a node in the high/low scenario may exert low-effort and hope to free-ride on the higheffort level exerted by the other agents.",
                "PROPOSITION 6.1.",
                "In the high-quality versus low-quality forwarding model, where transit costs are common knowledge, the principal derives the same expected utility whether it obtains perhop monitoring information or not.",
                "PROOF.",
                "The IC and IR constraints are the same as specified in the proof of proposition 3.1, but their values change, based on Eq. 14 to reflect the different model: (IC) : (1−k +q)n−i+1 sG i +(1−(1−k +q)n−i+1 )sB i −c ≥ (1 − k)(1 − k + q)n−i sG i + (1 − (1 − k)(1 − k + q)n−i )sB i (IR) : (1 − k + q)i ((1 − k + q)n−i+1 sG i +(1 − (1 − k + q)n−i+1 )sB i − c) + (1 − (1 − k + q)i )sB i ≥ 0 For this set of constraints, we obtain the following solution: sB i = (1 − k + q)i c(k − 1) q (15) sG i = (1 − k + q)i c(k − 1 + (1 − k + q)−n ) q (16) We observe that in this version, both the high and the low payments depend on i.",
                "If monitoring is used, we obtain the following constraints: (IC) : (1 − k + q)sG i + (k − q)sB i − c ≥ (1 − k)sG i + (k)sB i (IR) : (1 − k + q)i ((1 − k + q)sG i + (k − q)sB i − c) ≥ 0 and we get the solution: sB i = c(k − 1) q sG i = ck q The expected payment by the principal with or without forwarding is the same, and equals: E[S] = c(1 − k + q)(1 − (1 − k + q)n ) k − q (17) and this concludes the proof.",
                "The payment structure in the high-quality versus low-quality forwarding model is different from that in the drop versus forward model.",
                "In particular, at the optimal contract, the low-outcome payment sB i is now less than zero.",
                "A negative payment means that the agent must pay the principal in the event that the packet fails to reach the destination.",
                "In some settings, it may be necessary to impose a limited liability constraint, i.e., si ≥ 0.",
                "This prevents the first-best solution from being achieved.",
                "PROPOSITION 6.2.",
                "In the high-quality versus low-quality forwarding model, if negative payments are disallowed, the expected payment to each node exceeds its expected cost under the optimal contract.",
                "PROOF.",
                "The proof is a direct outcome of the following statements, which are proved above: 1.",
                "The optimal contract is the contract specified in equations 15 and 16 2.",
                "Under the optimal contract, E[si] equals node i s expected cost 3.",
                "Under the optimal contract, sB i = (1−k+q)i c(k−1) q < 0 Therefore, under any other contract the sender will have to compensate each node with an expected payment that is higher than its expected transit cost. 124 There is an additional difference between the two models.",
                "In drop versus forward, a principal either signs a contract with all n nodes along the path or with none.",
                "This is because a single node dropping the packet determines a failure.",
                "In contrast, in high versus low-quality forwarding, a success may occur under the low effort actions as well, and payments are used to increase the probability of success.",
                "Therefore, it may be possible for the principal to maximize its utility by contracting with only m of the n nodes along the path.",
                "While the expected outcome depends on m, it is independent of which specific m nodes are induced.",
                "At the same time, the individual expected payments decrease in i (see Eq. 16).",
                "Therefore, a principal who wishes to sign a contract with only m out of the n nodes should do so with the nodes that are closest to the destination; namely, nodes (n − m + 1, ..., n − 1, n).",
                "Solving for the high-quality versus low-quality forwarding model with unknown transit costs is left for future work. 7.",
                "CASE STUDY: INTERNET ROUTING We can map different deployed and proposed Internet routing schemes to the various models we have considered in this work.",
                "Border Gateway Protocol (BGP), the current inter-domain routing protocol in the Internet, computes routes based on path vectors.",
                "Since the protocol reveals only the autonomous systems (ASs) along a <br>route</br> but not the cost associated to them, the current BGP routing is best characterized by lack of a priori information about transit costs.",
                "In this case, the principal (e.g., a multi-homed site or a tier-1 AS) can implement one of the mechanisms proposed in Section 4 by contracting with individual nodes on the path.",
                "Such contracts involve paying some premium over the real cost, and it is not clear whether recursive contacts can be implemented in this scenario.",
                "In addition, the current protocol does not have the infrastructure to support implementation of direct contracts between endpoints and the network.",
                "Recently, several new architectures have been proposed in the context of the Internet to provide the principal not only with a set of paths from which it can chose (like BGP does) but also with the performance along those paths and the network topology.",
                "One approach to obtain such information is through end-to-end probing [1].",
                "Another approach is to have the edge networks perform measurements and discover the network topology [32].",
                "Yet another approach is to delegate the task of obtaining topology and performance information to a third-party, like in the routing-as-a-service proposal [21].",
                "These proposals are quite different in nature, but they are common in their attempt to provide more visibility and transparency into the network.",
                "If information about topology and transit costs is obtained, the scenario is mapped to the known transit costs model (Section 3).",
                "In this case, first-best contracts can be achieved through individual contracts with nodes along the path.",
                "However, as we have shown in Section 5, as long as each agent can chose the next hop, the principal can gain full benefit by contracting with only the first hop (through the implementation of recursive contracts).",
                "However, the various proposals for acquiring network topology and performance information do not deal with strategic behavior by the intermediate nodes.",
                "With the realization that the information collected may be used by the principal in subsequent contractual relationships, the intermediate nodes may behave strategically, misrepresenting their true costs to the entities that collect and aggregate such information.",
                "One recent approach that can alleviate this problem is to provide packet obituaries by having each packet to confirm its delivery or report its last successful AS hop [4].",
                "Another approach is to have third parties like Keynote independently monitor the network performance. 8.",
                "RELATED WORK The study of non-cooperative behavior in communication networks, and the design of incentives, has received significant attention in the context of wireless ad-hoc routing. [22] considers the problem of malicious behavior, where nodes respond positively to <br>route</br> requests but then fail to forward the actual packets.",
                "It proposes to mitigate it by detection and report mechanisms that will essentially help to <br>route</br> around the malicious nodes.",
                "However, rather than penalizing nodes that do not forward traffic, it bypasses the misbehaving nodes, thereby relieving their burden.",
                "Therefore, such a mechanism is not effective against selfish behavior.",
                "In order to mitigate selfish behavior, some approaches [7, 8, 9] require reputation exchange between nodes, or simply first-hand observations [5].",
                "Other approaches propose payment schemes [10, 20, 31] to encourage cooperation. [31] is the closest to our work in that it designs payment schemes in which the sender pays the intermediate nodes in order to prevent several types of selfish behavior.",
                "In their approach, nodes are supposed to send receipts to a thirdparty entity.",
                "We show that this type of per-hop monitoring may not be needed.",
                "In the context of Internet routing, [4] proposes an accountability framework that provide end hosts and service providers after-thefact audits on the fate of their packets.",
                "This proposal is part of a broader approach to provide end hosts with greater control over the path of their packets [3, 30].",
                "If senders have transit cost information and can fully control the path of their packets, they can design contracts that yield them with first-best utility.",
                "The accountability framework proposed in [4] can serve two main goals: informing nodes of network conditions to help them make informed decision, and helping entities to establish whether individual ASs have performed their duties adequately.",
                "While such a framework can be used for the first task, we propose a different approach to the second problem without the need of per-hop auditing information.",
                "Research in distributed algorithmic mechanism design (DAMD) has been applied to BGP routing [13, 14].",
                "These works propose mechanisms to tackle the hidden-information problem, but ignore the problem of forwarding enforcement.",
                "Inducing desired behavior is also the objective in [26], which attempts to respond to the challenge of distributed AMD raised in [15]: if the same agents that seek to manipulate the system also run the mechanism, what prevents them from deviating from the mechanisms proposed rules to maximize their own welfare?",
                "They start with the proposed mechanism presented in [13] and use mostly auditing mechanisms to prevent deviation from the algorithm.",
                "The focus of this work is the design of a payment scheme that provides the appropriate incentives within the context of multi-hop routing.",
                "Like other works in this field, we assume that all the accounting services are done using out-of-band mechanisms.",
                "Security issues within this context, such as node authentication or message encryption, are orthogonal to the problem presented in this paper, and can be found, for example, in [18, 19, 25].",
                "The problem of information asymmetry and hidden-action (also known as moral hazard) is well studied in the economics literature [11, 17, 23, 27]. [17] identifies the problem of moral hazard in production teams, and shows that it is impossible to design a sharing rule which is efficient and budget-balanced. [27] shows that this task is made possible when production takes place sequentially. 9.",
                "CONCLUSIONS AND FUTURE DIRECTIONS In this paper we show that in a multi-hop routing setting, where the actions of the intermediate nodes are hidden from the source 125 and/or destination, it is possible to design payment schemes to induce cooperative behavior from the intermediate nodes.",
                "We conclude that monitoring per-hop outcomes may not improve the utility of the participants or the network performace.",
                "In addition, in scenarios of unknown transit costs, it is also possible to design mechanisms that induce cooperative behavior in equilibrium, but the sender pays a premium for extracting information from the transit nodes.",
                "Our model and results suggest several natural and intriguing research avenues: • Consider manipulative or collusive behaviors which may arise under the proposed payment schemes. • Analyze the feasibility of recursive contracts under hiddeninformation of transit costs. • While the proposed payment schemes sustain cooperation in equilibrium, it is not a unique equilibrium.",
                "We plan to study under what mechanisms this strategy profile may emerge as a unique equilibrium (e.g., penalty by successor nodes). • Consider the effect of congestion and capacity constraints on the proposed mechanisms.",
                "Our preliminary results show that when several senders compete for a single transit nodes capacity, the sender with the highest demand pays a premium even if transit costs are common knowledge.",
                "The premium can be expressed as a function of the second-highest demand.",
                "In addition, if congestion affects the probability of successful delivery, a sender with a lower cost alternate path may end up with a lower utility level than his rival with a higher cost alternate path. • Fully characterize the full-information Nash equilibrium in first price auctions, and use this characterization to derive its overcharging compared to truthful mechaisms. 10.",
                "ACKNOWLEDGEMENTS We thank Hal Varian for his useful comments.",
                "This work is supported in part by the National Science Foundation under ITR awards ANI-0085879 and ANI-0331659, and Career award ANI0133811. 11.",
                "REFERENCES [1] ANDERSEN, D. G., BALAKRISHNAN, H., KAASHOEK, M. F., AND MORRIS, R. Resilient Overlay Networks.",
                "In 18th ACM SOSP (2001). [2] ARCHER, A., AND TARDOS, E. Frugal path mechanisms. [3] ARGYRAKI, K., AND CHERITON, D. Loose Source Routing as a Mechanism for Traffic Policies.",
                "In Proceedings of SIGCOMM FDNA (August 2004). [4] ARGYRAKI, K., MANIATIS, P., CHERITON, D., AND SHENKER, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [5] BANSAL, S., AND BAKER, M. Observation-based cooperation enforcement in ad-hoc networks.",
                "Technical report, Stanford university (2003). [6] BLAKE, S., BLACK, D., CARLSON, M., DAVIES, E., WANG, Z., AND WEISS, W. An Architecture for Differentiated Service.",
                "RFC 2475, 1998. [7] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Performance Analysis of the CONFIDANT Protocol: Cooperation of Nodes - Fairness in Dynamic ad-hoc Networks.",
                "In IEEE/ACM Symposium on Mobile Ad Hoc Networking and Computing (MobiHOC) (2002). [8] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. Coping with False Accusations in Misbehavior Reputation Systems For Mobile ad-hoc Networks.",
                "In EPFL, Technical report (2003). [9] BUCHEGGER, S., AND BOUDEC, J.-Y.",
                "L. The effect of rumor spreading in reputation systems for mobile ad-hoc networks.",
                "In WiOpt03: Modeling and Optimization in Mobile ad-hoc and Wireless Networks (2003). [10] BUTTYAN, L., AND HUBAUX, J.",
                "Stimulating Cooperation in Self-Organizing Mobile ad-hoc Networks.",
                "ACM/Kluwer Journal on Mobile Networks and Applications (MONET) (2003). [11] CAILLAUD, B., AND HERMALIN, B.",
                "Hidden Action and Incentives.",
                "Teaching Notes.",
                "U.C.",
                "Berkeley. [12] ELKIND, E., SAHAI, A., AND STEIGLITZ, K. Frugality in path auctions, 2004. [13] FEIGENBAUM, J., PAPADIMITRIOU, C., SAMI, R., AND SHENKER, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "In Proceedings of the ACM Symposium on Principles of Distributed Computing (2002). [14] FEIGENBAUM, J., SAMI, R., AND SHENKER, S. Mechanism Design for Policy Routing.",
                "In Yale University, Technical Report (2003). [15] FEIGENBAUM, J., AND SHENKER, S. Distributed Algorithmic Mechanism Design: Recent Results and Future Directions.",
                "In Proceedings of the International Workshop on Discrete Algorithms and Methods for Mobile Computing and Communications (2002). [16] FRIEDMAN, E., AND SHENKER, S. Learning and implementation on the internet.",
                "In Manuscript.",
                "New Brunswick: Rutgers University, Department of Economics (1997). [17] HOLMSTROM, B.",
                "Moral Hazard in Teams.",
                "Bell Journal of Economics 13 (1982), 324-340. [18] HU, Y., PERRIG, A., AND JOHNSON, D. Ariadne: A Secure On-Demand Routing Protocol for ad-hoc Networks.",
                "In Eighth Annual International Conference on Mobile Computing and Networking (Mobicom) (2002), pp. 12-23. [19] HU, Y., PERRIG, A., AND JOHNSON, D. SEAD: Secure Efficient Distance Vector Routing for Mobile ad-hoc Networks.",
                "In 4th IEEE Workshop on Mobile Computing Systems and Applications (WMCSA) (2002). [20] JAKOBSSON, M., HUBAUX, J.-P., AND BUTTYAN, L. A Micro-Payment Scheme Encouraging Collaboration in Multi-Hop Cellular Networks.",
                "In Financial Cryptography (2003). [21] LAKSHMINARAYANAN, K., STOICA, I., AND SHENKER, S. Routing as a service.",
                "In UCB Technical Report No.",
                "UCB/CSD-04-1327 (January 2004). [22] MARTI, S., GIULI, T. J., LAI, K., AND BAKER, M. Mitigating Routing Misbehavior in Mobile ad-hoc Networks.",
                "In Proceedings of MobiCom (2000), pp. 255-265. [23] MASS-COLELL, A., WHINSTON, M., AND GREEN, J. Microeconomic Theory.",
                "Oxford University Press, 1995. [24] NISAN, N., AND RONEN, A. Algorithmic Mechanism Design.",
                "In Proceedings of the 31st Symposium on Theory of Computing (1999). [25] SANZGIRI, K., DAHILL, B., LEVINE, B., SHIELDS, C., AND BELDING-ROYER, E. A Secure Routing Protocol for ad-hoc Networks.",
                "In International Conference on Network Protocols (ICNP) (2002). [26] SHNEIDMAN, J., AND PARKES, D. C. Overcoming rational manipulation in mechanism implementation, 2004. [27] STRAUSZ, R. Moral Hazard in Sequential Teams.",
                "Departmental Working Paper.",
                "Free University of Berlin (1996). [28] TEIXEIRA, R., GRIFFIN, T., SHAIKH, A., AND VOELKER, G. Network sensitivity to hot-potato disruptions.",
                "In Proceedings of ACM SIGCOMM (September 2004). [29] TEIXEIRA, R., SHAIKH, A., GRIFFIN, T., AND REXFORD, J. Dynamics of hot-potato routing in IP networks.",
                "In Proceedings of ACM SIGMETRICS (June 2004). [30] YANG, X. NIRA: A New Internet Routing Architecture.",
                "In Proceedings of SIGCOMM FDNA (August 2003). [31] ZHONG, S., CHEN, J., AND YANG, Y. R. Sprite: A Simple, Cheat-Proof, Credit-Based System for Mobile ad-hoc Networks.",
                "In 22nd Annual Joint Conference of the IEEE Computer and Communications Societies (2003). [32] ZHU, D., GRITTER, M., AND CHERITON, D. Feedback-based Routing.",
                "In Proc Hotnets-I (2002). 126"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Dado que el protocolo revela solo los sistemas autónomos (ASS) a lo largo de una \"ruta\" pero no el costo asociado para ellos, el enrutamiento BGP actual se caracteriza mejor por la falta de información a priori sobre los costos de tránsito.",
                "Trabajo relacionado El estudio del comportamiento no cooperativo en las redes de comunicación y el diseño de incentivos ha recibido una atención significativa en el contexto del enrutamiento ad-hoc inalámbrico.[22] considera el problema del comportamiento malicioso, donde los nodos responden positivamente a las solicitudes de \"enrutamiento\", pero luego no pueden reenviar los paquetes reales.",
                "Propone mitigarlo por detección e informar mecanismos que esencialmente ayudarán a \"enrutar\" alrededor de los nodos maliciosos."
            ],
            "translated_text": "",
            "candidates": [
                "ruta",
                "ruta",
                "ruta",
                "enrutamiento",
                "ruta",
                "enrutar"
            ],
            "error": []
        }
    }
}