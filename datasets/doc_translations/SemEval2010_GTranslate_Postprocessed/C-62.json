{
    "id": "C-62",
    "original_text": "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution. Rather than introducing new services, ISPs are presently moving towards greater commoditization. It is apparent that the networks primitive system of contracts does not align incentives properly. In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system. Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics. Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation. Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1. INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution. In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale. The list includes Multicast, IPv6, IntServ, and DiffServ. Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas. In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]). On a smaller time scale, ISPs shun new services in favor of cost cutting measures. Thus, the network has characteristics of a commodity market. Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2]. On one hand, this leads directly to suboptimal routing. More importantly, commoditization in the short term is surely related to the lack of innovation in the long term. When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs. There is simply no reward for introducing new services or investing in quality improvements. In response to these pathologies and others, researchers have put forth various proposals for improving the situation. These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users. Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5]. Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11]. They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol. The extra traffic to the ISP, the authors suggest, will motivate the initial investment. The second strategy suggests a revision of the contracting system. This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10]. Prices are set to the market-clearing level based on bids that users associate to their traffic. In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2]. They argue that such a move would improve stability and align incentives. The third high-level strategy calls for greater network accountability. In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3]. They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations. Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation. It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic). Until today, however, the relationship between them has been poorly understood. There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation. This paper will address both issues. We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation. Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination. Nevertheless, the structure is rich enough to expose previously unseen features of network behavior. We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation. In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics. This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry. We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure. When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs. This well-known trait is largely rooted in the networks history. In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years. Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority. Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3]. According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt. They notice when packet drops occur so that they can perform congestion control and retransmit packets. Details of where and why drops occur are deliberately concealed. The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts. This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system. Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition. Of course, the vast majority of contracts never end up in court. Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition. This would not be possible, however, without the judge acting as a last resort. An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time. This payment is a function of the past and present behaviors of the participants, but only those that are verifiable. Hence, we imagine that a contract only accepts proofs as inputs. We will call any process that generates these proofs a contractible monitor. Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept. Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs. The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information. Figure 1 demonstrates how our model of contracts fits together. We make the assumption that all payments are mediated by contracts. This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency. Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts. Nodes cannot condition payments on either quality or path characteristics. Is there anything wrong with best-effort contracts? The reader might wonder why the Internet needs contracts at all. After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones. One might believe that such market forces apply to ISPs as well. We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets. There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1. Access providers try to increase their quality to get more consumers. 2. Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers. Access providers try to select high quality transit because that increases their quality. 3. The process continues through the network, giving every ISP a competitive reason to increase quality. We are careful to model our network in continuous time, in order to capture the essence of this argument. We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop. Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer. By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered. These constraints limit their ability to punish cheaters. Even with these liberal assumptions, however, we find that we must reject our null hypothesis. Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment. We will define an index of commoditization and show that it increases without bound as data paths grow long. Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user. Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved. This leads us to our next topic: How can we leverage accountability to overcome these pathologies? We approach this question from a clean-slate perspective. Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective. According to this approach, we first craft a new equilibrium concept appropriate for network competition. Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path. Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly. Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments. Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition. The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution. Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well. If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors. By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers. In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes. Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes. The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination. It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect. Rest of path monitors can be implemented in various ways. They may be purely local algorithms that listen for packet echoes. Alternately, they can be distributed in nature. We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path. This requires a mechanism to motivate ISPs to share their monitor outputs with each other. The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required. This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics. Our study has several practical implications for future protocol design. We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome. Moreover, we derive exactly what monitors are needed to optimize routes and support innovation. In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research. The rest of this paper is organized as follows: In section 2, we lay out our basic network model. In section 3, we present a lowaccountability network, modeled after todays Internet. We demonstrate how poor monitoring causes commoditization and a lack of innovation. In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo. In section 5, we turn our attention to contractible monitors. We show that rest of path monitors can support competition games with optimal routing and innovation. We further show that rest of path monitors are required to support such competition games. We continue by discussing how such monitors may be constructed using other monitors as building blocks. In section 6, we conclude and present several directions for future research. 2. BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs. All paths lead to D, and every node not connected to D has at least two choices for next hop. We will represent quality by a finite dimensional vector space, Q, called the quality space. Each dimension represents a distinct network characteristic that end-users care about. For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension. To each node, i, we associate a vector in the quality space, Qqi ∈ . This corresponds to the quality a user would experience if i were the only ISP on the data path. Let N Q∈q be the vector of all node qualities. Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality. We represent this by an associative binary operation, *: QQQ →× . For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 . The * operation reflects the characteristics of each dimension of quality. For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security. When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : . Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network. In this study, we will use innovation in a fairly general sense. Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility. This includes researching a new routing algorithm that decreases the amount of jitter users experience. It also includes deploying a new protocol that supports quality of service. Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation. Innovation may be thought of as the micro-level process by which the network evolves. Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience. This excludes technologies that require adoption by all ISPs on the network to function. Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion. We defer this interesting topic to future work. At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors. Our model must draw this connection in a realistic fashion. The rate of innovation depends on the profits that potential innovators expect in the future. The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest. This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other. Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges. Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing. We select a game dynamics that makes the relation between these processes as explicit as possible. This is represented schematically in Figure 2. The innovation stage occurs first, at time 2−=t . In this stage, each agent decides whether or not to make research investments. If she chooses not to, her quality remains fixed. If she makes an investment, her quality may change in some way. It is not necessary for us to specify how such changes take place. The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game. Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon. In todays industry, these contracts include prices for transit access, and peering agreements. Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price. Other contracting systems we will explore will require more detail. Finally, beginning at 0=t , firms participate in the routing stage. Other research has already employed repeated games to study routing, for example [1], [12]. Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12]. We use a game in continuous time in order to study such properties. For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers. Our dynamics reflect the fact that ISPs make innovation decisions infrequently. Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed. The decision to invest focuses on how the firms new quality will improve the contracts it can enter into. Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision. Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics. Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage. Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions. In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2]. Although we are sympathetic to their observation, such an addition would make our analysis intractable. Our model is most realistic when contracting decisions are infrequent. Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE). An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame. Three important subgames have been labeled in Figure 2. The innovation game includes all three stages. The competition game includes only the competition stage and the routing stage. The routing game includes only the routing stage. An SPE guarantees that players are forward-looking. This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage. They cannot carry out threats they made in the innovation stage if it lowers their expected payoff. Our schematic already suggests that the routing game is crucial for promoting innovation. To support innovation, the competition game must somehow reward ISPs with high quality. But that means that the routing game must tend to route to nodes with high quality. If the routing game always selects the lowest-cost routes, for example, innovation will not be supported. We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game. For each time 0≥t , each node must select a next hop to route data to. Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above. Payment flows are also created, based on the contracts in place. Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path. As we argued loosely above, such paths must be sustainable in order to support innovation. Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan. Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so. Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating. A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path. One type of cheating relates to the data path. Each node on the path has to pay the next node to deliver its traffic. If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price. Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality. We will call this type of action cheating in route. Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality. We will call this cheating internally to distinguish it from cheating in route. For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3]. Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service. If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium. We assume that cheating can never be caught instantaneously. Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t . This includes the time for other players to detect and react to the cheating. If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP. As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3. PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet. We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation. Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has. Argyraki, et al., point out that end hosts are given minimal information about packet drops [3]. Users know when drops occur, but not where they occur, nor why. Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally. The problem is similar for other dimensions of quality, or in fact more acute. Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools. In fact, it is similarly difficult to identify an ISP that cheats in route. Huston notes that Internet traffic flows do not always correspond to routing information [8]. An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised. Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer. One might argue that diagnostic tools like ping and traceroute can identify cheaters. Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3]. Thus, for example, they are ineffective in detecting low-frequency packet drops. Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment. As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes. As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network. In this section, we attempt to capture this lack of accountability in our model. We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior. We assume that all external information about network behavior is mediated in this way. The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience). ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination. PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume. It is important to note, however, that this information is aggregated over many source-destination pairs. Hence, for the sake of realism, it cannot be used to monitor what the data path is. Players cannot measure the qualities of other, single nodes, just the rest of the path. Nodes cannot see the path past the next hop. This last assumption is stricter than needed for our results. The critical ingredient is that nodes cannot verify that the path avoids a specific hop. This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents. Similar results also hold if alternate paths always converge after some integer number, m, of hops. It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs. Thus, even though a player observes certain information, she generally cannot credibly share it with another player. For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path. Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes. This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network. These measurements can originate in other monitors, located at various ISPs. The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed. For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor. Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players. In other words, contracts are best-effort. For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met. Other, more complicated tariffs are also possible, and are typically used to generate lock-in. We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity. Restricting attention to linear contracts allows us to represent some node is contract by its price, pi. Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph. We will call this arrangement of contracts bilateral. When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game. We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper. Recall that this is a requirement in order for nodes to have any incentive to innovate. If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized. To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop. Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− . CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop. A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path. As the next claim shows, this is exactly what happens as the path grows long: Claim 1. If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path. To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network. First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react. When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic. Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi. We will call the ratio, iiy π/ , the temptation to cheat. Lemma 1. If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary. If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially. If n is so large that tn is undefined, the given path cannot be maintained in equilibrium. Proof. The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i. By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π . If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ . A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required. For 1>n , assume for induction that the claim holds for 1−n . The source does not know whether the cheater is the first hop, or after the first hop. Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it. If it chooses a new first hop, it might not affect the rest of the data path. Because of this, the source must rely on the first hop to punish cheating nodes farther along the path. The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption. So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period). Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path. The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make. Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof. The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible. To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality. If your data only travels through your access provider, you know it is that providers fault. You can therefore take your business elsewhere, at least for some time. This threat should motivate your provider to maintain high quality. Suppose, on the other hand, that your data traverses two providers. When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP. Give us some time to punish them and then normal quality will resume. If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender. Thus, you will have to accept lower quality service for some longer time. On the other hand, you may want to punish your access provider as well, in case he is lying. This means you have to wait longer to resume normal service. As more ISPs are added to the path, the time increases in a recursive fashion. With this lemma in hand, we can return to prove Claim 1. Proof of Claim 1. Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n. For each node i, let is quality premium be 11 ++ −= iii ppd . Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop. Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= . It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 . However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI . According to the claim, as the data path grows long, it increasingly resembles a lowest-price path. Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path. Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp . Claim 2. Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim. Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n . The proof is given in the appendix. As a node gets farther from the source, its maximum payment approaches the bargain price, pl. Hence, the reward for innovation is bounded by the same amount. Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network. Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network. If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage. However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly. The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction. Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not). As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information. Hence, competitive forces degrade as the network deepens. 4. VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network. Recall that in the previous section, we assumed that players couldnt convince each other of their private information. What would happen if they could? If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor. The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true. A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior. Along these lines, we can imagine verifiable counterparts to E2E and ROP. We will label these E2Ev and ROPv. With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward. The cheater is the node that cannot produce proof that the rest of path quality decreased. This means that the negative results of the previous section no longer hold. For example, the following lemma stands in contrast to Lemma 1. Lemma 2. With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof. This lemma follows because nodes can share proofs to identify who the cheater is. Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment. With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment. Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system. The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments. Each node along a route must extract some positive profit unless the next hop is also the cheapest. Of course, if t0 is small, this effect is minimal. The second, and more serious reason is that we have always given our source the ability to commit to any punishment. Real world users are less likely to act collectively, and may simply search for the best service currently offered. Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider. This will make nodes less motivated to administer punishments. The third reason is that Lemma 2 does not apply to cheating by coalitions. A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node. Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth. The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section! The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well. Effectively, innocent nodes will be punished along with the guilty. In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path. The effects are not so benign in the real world. When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical. From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors. Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors. By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes. This may give the cheater a strategic advantage against its competitors. In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5. CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc. In this section, we will show how all of these drawbacks can be overcome. To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract. Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs. Contractibility requires that a court, 1. Can verify the monitors proofs. 2. Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3. Can enforce payments among contracting parties. Understanding the agreements between companies has traditionally been a matter of reading contracts on paper. This may prove to be a harder task in a future network setting. Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality. When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible. The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments. Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with. At the end of the previous section, we argued for some desirable properties that wed like our solution to have. Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats. We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium. As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium. Claim 3. With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium. Proof: Fix any data path consistent with the given rest of path qualities. Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work). Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed. When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node. Such proofs can be submitted every 0t for the previous interval. Suppose now that a coalition, C, decides to cheat. The source measures a decrease in quality, and according to her contract, is awarded P from the first hop. This means that there is a net outflow of P from the ISPs as a whole. Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed. This means 190 that there is a cheater after i. Hence, i would also have detected a change in quality, so i can claim P from the next node on the path. Thus, innocent nodes are not punished. The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium. Essentially, ROPc allows for an implementation of (price, quality) contracts. Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs. Example 1. Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents. In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price. In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality. The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above. It has the following useful property: Claim 4. The Stackelberg price-quality competition game yields optimal routes in SPE. The proof is given in the appendix. This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff. In general, however, investments may be over or under rewarded. Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations. We omit the full analysis here. Example 2. Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts. For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7]. With ROPc monitors, we can adapt this mechanism to maximize welfare. For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes. If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths. Here, (price, quality) contracts ensure that nodes report their qualities honestly. The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately. A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path. Unfortunately, the source may end up paying more than the utility of the path. Notice that with just E2Ec, a weaker version of Claim 3 holds. Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent. This is done by writing contracts to punish everyone on the path when the end to end quality drops. If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth. This ensures that every node is punished sufficiently to make cheating unprofitable. For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors. Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation. As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept. Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation? We will use a very weak assumption, essentially, that the game is not fully commoditized for any node. The claim will hold for this entire class of games. Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat. In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs. Strictly speaking, ROPc monitors are not the only way to construct these desirable games. To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path. Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct. ROPc: gives a node proof that the path quality from that node to the destination is correct. We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments). We will discuss the full version after the proof. Claim 5. Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time. Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor. Proof: First, because of the fixed-route assumption, punishments must be purely monetary. Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective. Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs. Since the source only contracts with the first hop, it must accept this money from the first hop. The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating. To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct. These nodes will not rationally offer the opposing type of proof. By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor. Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor. Thus, at least one of these monitors must exist. By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment. The first hops contract with the second must then distinguish when cheating occurs after the first hop. By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor. This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof. The two possibilities for monitor correspond to which node has the burden of proof. In one case, the prior node must prove the suboptimal quality to claim its reward. In the other, the subsequent node must prove that the quality was correct to avoid penalty. Because the two monitors are similar, it seems likely that they require comparable costs to implement. If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node. Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters. The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant. Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes. Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks. For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge. Using such techniques, our source might learn both individual node qualities and the data path. This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is. SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path. With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5. It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments. Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality. This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality. Thus, the combined process is itself a rest of path monitor. What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks. Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly. This mechanism can potentially involve external institutions. For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court. During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies). Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was. Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case. Of course, mechanisms can be designed to combine these monitors at much lower cost. Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort. We defer these interesting mechanisms to future work. As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem. Yet, without path information, SHOPc i is not sufficient for our first-best innovation result. The proof of this demonstrates a useful technique: Claim 6. With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium. Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is. Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6. CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways. The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy. For protocol designers, we first provide fresh motivation to create monitoring systems. We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation. Unless accountability improves, these pathologies are guaranteed to remain. Secondly, we suggest directions for future advances in monitoring. We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition. At the same time, this does not present a fully satisfying solution. This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium. We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors. This is not to say that other types of monitors are unimportant. We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition. However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality. In other words, the monitors must ultimately be combined to form contractible rest of path monitors. To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors. As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality. These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior. As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response. This remains an interesting and unexplored area for research. The second area we hope our study will benefit is that of clean-slate architectural design. Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements. Thus, the approach is often one of engineering, which tends to neglect competitive effects. We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11]. We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting. These elements should feature prominently in new designs. Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring. From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems. Finally, the last contribution our study makes is methodological. We believe that the mathematical formalization we present is applicable to a variety of future research questions. While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input. This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability. Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design. Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes. Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract. We believe this is a closer reflection of the industry. Based on the insights in this study, the possible directions for future research are numerous and exciting. To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality? Should ISPs be allowed to offer a choice of contracts at different quality levels? What anti-competitive behaviors are enabled by quality-based contracts? Can a contracting system support optimal multicast trees? In this study, we have focused on bilateral contracts. This system has seemed natural, especially since it is the prevalent system on the current network. Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction. There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract. Although this benefit is compelling, it is worth considering other systems. The clearest alternative is to form a contract between the source and every node on the path. We may call these source contracts. Source contracting may present surprising advantages. For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop. Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them. This combination seems to eliminate all temptation for a single cheater to cheat in route. Because of this and other encouraging features, we believe source contracts are a fertile topic for further study. Another important research task is to relax our assumption that quality can be measured fully and precisely. One possibility is to assume that monitoring is only probabilistic or suffers from noise. Even more relevant is the possibility that quality monitors are fundamentally incomplete. A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces. We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: . Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system. In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs. Further research is needed to understand this process. 7. ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments. This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8. REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems. In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J. On the Benefits and Feasibility of Incentive Based Routing Infrastructure. In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries. In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols. In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet. In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights. In Brousseau, E. and Glachant, J.M. Eds. The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing. Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements. Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering. In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet. In Kahin, B. and Keller, J. Eds. Public access to the Internet. Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture. In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs. In Proceedings of IEEE INFOCOM (2005). 9. APPENDIX Proof of Claim 2. Node i must fall on the equilibrium data path to receive any payment. Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 . We may assume the prices on the path are greater than lp or the claim follows trivially. Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp . So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp . Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required. The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this. Proof of Claim 4. Label the nodes 1,2,.. N in the order in which they select contracts. Let subgame n be the game that begins with n choosing its contract. Let Ln be the set of possible paths restricted to nodes n,…,N. That is, Ln is the set of possible routes from S to reach some node that has already moved. For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered. For induction, assume that subgame n + 1 maximizes local welfare. We show that subgame n does as well. If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen. This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops. If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare. For the initial case, observe that this assumption holds for the source. Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare. Hence, the Stackelberg price-quality game yields an optimal route. 194",
    "original_translation": "Monitores de red y sistemas de contratación: Competencia e innovación Paul Laskowski John Chuang UC Berkeley {Paul, Chuang}@sims.berkeley.edu Resumen La industria de Internet hoy sufre de varias patologías bien conocidas, pero ninguna es tan destructiva a largo plazo como su resistenciaa la evolución. En lugar de introducir nuevos servicios, los ISP actualmente se están moviendo hacia una mayor mercantilización. Es evidente que el sistema de contratos primitivo de las redes no alinea los incentivos correctamente. En este estudio, identificamos la falta de responsabilidad de las redes como un obstáculo fundamental para corregir este problema: emplear un modelo económico, argumentamos que las rutas e innovación óptimas son imposibles a menos que se introduzca e incorpore una nueva capacidad de monitoreo con el sistema de contratación. Además, derivamos los requisitos mínimos que debe cumplir un sistema de monitoreo para apoyar las primeras características de enrutamiento e innovación. Nuestro trabajo no constituye un nuevo protocolo;Más bien, proporcionamos orientación práctica y específica para el diseño de sistemas de monitoreo, así como un marco teórico para explorar los factores que influyen en la innovación. Categorías y descriptores de sujetos C.2.4 [Redes de comunicación por computadora]: sistemas distribuidos;J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos generales Generales Economía, teoría, medición, diseño, aspectos legales.1. Introducción Muchos estudios ante nosotros han notado la resistencia de Internet a los nuevos servicios y la evolución. En las últimas décadas, se han desarrollado numerosas ideas en las universidades, implementadas en código e incluso escritas en los enrutadores y los sistemas finales de la red, solo para languidecer a medida que los operadores de la red no las encienden a gran escala. La lista incluye multidifusión, IPv6, IntServ y Diffserv. Al carecer de los incentivos solo para activar los servicios, parece haber pocas esperanzas de que los ISP que dediquen recursos adecuados para desarrollar nuevas ideas. A largo plazo, esta patología se destaca como un obstáculo crítico para el éxito continuo de las redes (Ratnasamy, Shenker y McCanne proporcionan una amplia discusión en [11]). En una escala de tiempo menor, los ISPS evitan los nuevos servicios a favor de las medidas de corte de costos. Por lo tanto, la red tiene características de un mercado de productos básicos. Aunque en teoría, los ISP tienen una gran cantidad de políticas de enrutamiento a su disposición, la estrategia predominante es enrutar de la manera más barata posible [2]. Por un lado, esto conduce directamente al enrutamiento subóptimo. Más importante aún, la mercantilización a corto plazo seguramente se relaciona con la falta de innovación a largo plazo. Cuando las decisiones de enrutamiento de otros ignoran las características de calidad, los ISP están motivados solo a menores costos. Simplemente no hay recompensa por introducir nuevos servicios o invertir en mejoras de calidad. En respuesta a estas patologías y otras, los investigadores han presentado varias propuestas para mejorar la situación. Estos se pueden dividir de acuerdo con tres estrategias de alto nivel: los primeros intentos de mejorar el status quo al empoderar a los usuarios finales. Clark, et al., Sugieren que dar control de los usuarios finales sobre el enrutamiento conduciría a una mayor diversidad de servicios, reconociendo que también se debe proporcionar algún mecanismo de pago [5]. Ratnasamy, Shenker y McCanne postulan un enlace entre la evolución de la red y el enrutamiento dirigido por el usuario [11]. Proponen un sistema de cualquier CAST para dar a los usuarios finales la capacidad de túnel sus paquetes a un ISP que introduce un protocolo deseable. El tráfico adicional para el ISP, sugieren los autores, motivará la inversión inicial. La segunda estrategia sugiere una revisión del sistema de contratación. Esto es ejemplificado por Mackie-Mason y Varian, quienes proponen un mercado inteligente para controlar el acceso a los recursos de red [10]. Los precios se establecen en el nivel de limpieza del mercado en función de las ofertas que los usuarios asocian a su tráfico. En otra dirección, Afergan y Wroclawski sugieren que los precios deben codificarse explícitamente en los protocolos de enrutamiento [2]. Argumentan que tal movimiento mejoraría la estabilidad y alinearía los incentivos. La tercera estrategia de alto nivel requiere una mayor responsabilidad de la red. En este sentido, Argyraki, et al., Proponen un sistema de obituarios de paquetes para proporcionar retroalimentación sobre qué ISP caen los paquetes [3]. Argumentan que dichos comentarios ayudarían a revelar qué ISP estaban cumpliendo adecuadamente sus obligaciones contractuales. A diferencia de las dos primeras estrategias, no conocemos ningún estudio previo que haya conectado la responsabilidad con las patologías de la mercantilización o la falta de innovación. Está claro que estas tres estrategias están estrechamente vinculadas entre sí (por ejemplo, [2], [5] y [9] argumentan que el control de enrutamiento de los usuarios finales dentro del sistema de contratación actual es problemático). Hasta hoy, sin embargo, la relación entre ellos ha sido poco conocida. Actualmente hay pocas bases teóricas para comparar los méritos relativos de cada propuesta, y una falta particular de evidencia que vincula la responsabilidad con la innovación y la diferenciación de servicios. Este documento abordará ambos problemas. Comenzaremos introduciendo un modelo de red económica que relacione la responsabilidad, los contratos, la competencia e innovación. Nuestro modelo es altamente estilizado y puede considerarse preliminar: se basa en una sola fuente de envío de datos a un solo destino. Sin embargo, la estructura es lo suficientemente rica como para exponer las características previamente invisibles del comportamiento de la red. Usaremos nuestro modelo para dos propósitos principales: primero, utilizaremos nuestro modelo para argumentar que la falta de responsabilidad en la red actual es un obstáculo fundamental para superar las patologías de la mercantilización y la falta de innovación. En otras palabras, a menos que se introduzcan nuevas capacidades de monitoreo e integradas con el sistema de contratos, la red no puede lograr características óptimas de enrutamiento e innovación. Este resultado proporciona motivación para el resto del documento, en el que exploramos cómo se puede aprovechar la responsabilidad para superar estas patologías y crear una industria sostenible. Abordaremos este problema desde una perspectiva de pizarra limpia, derivando el nivel de responsabilidad necesario para mantener una estructura competitiva ideal. Cuando decimos que Internet de hoy tiene mala responsabilidad, queremos decir que revela poca información sobre el comportamiento, o el mal comportamiento de los ISP. Este rasgo bien conocido está en gran medida arraigado en la historia de las redes. Al describir la filosofía de diseño detrás de los protocolos de Internet, Clark enumera la responsabilidad como la menos importante entre los objetivos de siete niveles de segundo nivel.[4] En consecuencia, la responsabilidad recibió poca atención durante los años formativos de las redes. Clark relaciona esto con el contexto militar de las redes y encuentra que si la red hubiera sido diseñada para el desarrollo comercial, la responsabilidad habría sido una prioridad. Argyraki, et al., Conjetura que la aplicación de los principios de capas y transparencia puede haber llevado a la falta de responsabilidad de las redes [3]. De acuerdo con estos principios, los hosts finales deben estar informados de los problemas de la red solo en la medida en que deben adaptarse. Notan cuando se producen gotas de paquetes para que puedan realizar paquetes de control de congestión y retransmisión. Los detalles de dónde y por qué ocurren gotas se ocultan deliberadamente. La falta de responsabilidad de las redes es muy relevante para una discusión de la innovación porque limita el sistema de contratos. Esto se debe a que los contratos dependen de las instituciones externas para que funcionen: el juez en el lenguaje de la teoría de contratos incompleto, o simplemente del sistema legal. En última instancia, si un juez no puede verificar que tenga alguna condición, no puede hacer cumplir un contrato basado en esa condición. Por supuesto, la gran mayoría de los contratos nunca terminan en la corte. Especialmente cuando un fallo de jueces se predice fácilmente, las partes generalmente cumplirán con los términos del contrato en su propia volición. Sin embargo, esto no sería posible sin que el juez actuara como último recurso. Una institución para apoyar los contratos es típicamente compleja, pero la abstrae de la siguiente manera: imaginamos que un contrato es un algoritmo que genera una transferencia de pago entre un conjunto de ISP (las partes) en todo momento. Este pago es una función de los comportamientos pasados y presentes de los participantes, pero solo aquellos que son verificables. Por lo tanto, imaginamos que un contrato solo acepta pruebas como entradas. Llamaremos a cualquier proceso que genere estas pruebas como un monitor contratible. Tal monitor incluye dispositivos de medición o detección en la red física, pero es un concepto más general. Construir una prueba de un comportamiento particular puede requerir lecturas de varios dispositivos distribuidos entre muchos ISP. El monitor contratible incluye cualquier mecanismo algorítmico distribuido que se utilice para motivar a los ISP a compartir esta información privada. La Figura 1 demuestra cómo nuestro modelo de contratos se une. Suponemos que todos los pagos están mediados por contratos. Esto significa que sin monitores contratibles que dan fe de, por ejemplo, la latencia, los pagos no pueden estar condicionados a la latencia. Figura 1: Relación entre monitores y contratos con este modelo, podemos concluir que el nivel de responsabilidad en Internet de hoy solo permite los mejores contratos de esfuerzo. Los nodos no pueden acondicionarse los pagos de la calidad o las características de la ruta. ¿Hay algo de malo en los contratos de mejor esfuerzo? El lector podría preguntarse por qué Internet necesita contratos. Después de todo, en las industrias no network, las empresas tradicionales invierten en investigaciones y diferencian sus productos, todo con la esperanza de mantener a sus clientes y asegurar otros nuevos. Uno podría creer que tales fuerzas del mercado también se aplican a los ISP. Podemos adoptar esto como nuestra hipótesis nula: hipótesis nula: las fuerzas del mercado son suficientes para mantener la diversidad e innovación de servicios en una red, al menos en la misma medida que en los mercados tradicionales. Existe un argumento intuitivo popular que respalda esta hipótesis, y se puede resumir de la siguiente manera: argumento intuitivo que respalda la hipótesis nula: 1. Los proveedores de acceso intentan aumentar su calidad para obtener más consumidores.2. Los proveedores de acceso son ellos mismos clientes para los ISP del segundo salto, y el segundo lúpulo intentará proporcionar un servicio de alta calidad para asegurar el tráfico de los proveedores de acceso. Los proveedores de acceso intentan seleccionar el tránsito de alta calidad porque eso aumenta su calidad.3. El proceso continúa a través de la red, dando a cada ISP una razón competitiva para aumentar la calidad. Tenemos cuidado de modelar nuestra red en tiempo continuo, para capturar la esencia de este argumento. Podemos, por ejemplo, especificar equilibrios en los que los nodos cambian a un nuevo próximo salto en caso de una caída de calidad. Además, nuestro modelo nos permite explorar cualquier castigo teóricamente posible contra los tramposos, incluidos los que son costosos para que los usuarios finales los administren. Por el contrario, los clientes en el mundo real rara vez responden colectivamente y, a menudo, simplemente buscan el mejor acuerdo que se ofrece actualmente. Estas limitaciones limitan su capacidad para castigar a los tramposos. Incluso con estos supuestos liberales, sin embargo, encontramos que debemos rechazar nuestra hipótesis nula. Nuestro modelo demostrará que identificar un ISP de trampa es difícil bajo una baja responsabilidad, lo que limita la amenaza del castigo impulsado por el mercado. Definiremos un índice de mercantilización y demostraremos que aumenta sin limitados a medida que las rutas de datos crecen mucho. Además, demostraremos un marco en el que una inversión máxima de investigación ISP disminuye hiperbólicamente con su distancia desde el usuario final. Pagos de prueba del contrato de Monitor de comportamiento de la red 184 Para resumir, argumentamos que la falta de responsabilidad de Internet debe abordarse antes de que se puedan resolver las patologías de la mercantilización y la falta de innovación. Esto nos lleva a nuestro próximo tema: ¿Cómo podemos aprovechar la responsabilidad para superar estas patologías? Abordamos esta pregunta desde una perspectiva de petrolación limpia. En lugar de centrarnos en mejoras incrementales, tratamos de imaginar cómo se comportaría una industria ideal, luego derivar el nivel de responsabilidad necesario para cumplir con ese objetivo. Según este enfoque, primero creamos un nuevo concepto de equilibrio apropiado para la competencia de redes. Nuestro concepto incluye los siguientes requisitos: Primero, requerimos que castigar a los ISP que trampa se realicen sin redirigir el camino. Es probable que el cambio de ruta impulse a los usuarios finales a cambiar de proveedor, castigando a los proveedores de acceso que administran castigos correctamente. A continuación, requerimos que el equilibrio no pueda ser amenazado por una coalición de ISP que intercambie pagos laterales ilícitos. Finalmente, requerimos que el mecanismo de castigo que haga cumplir los contratos no castigue los nodos inocentes que no están en la coalición. El último requisito es algo poco convencional desde una perspectiva económica, pero mantenemos que es crucial para cualquier solución razonable. Aunque los ISP proporcionan servicios complementarios cuando forman una ruta de datos juntos, es probable que también sean competidores horizontales. Si los nodos inocentes pueden ser castigados, un ISP puede decidir hacer trampa deliberadamente y dibujar el castigo sobre sí mismo y sus vecinos. Al hacer trampa, el ISP puede ahorrar recursos, asegurando así que el castigo sea más perjudicial para los otros ISP, que probablemente compiten con el tramposo directamente para algunos clientes. En el caso extremo, el tramposo puede obligar a los otros ISP a salir del negocio, obteniendo así el monopolio de algunas rutas. Aplicando este concepto de equilibrio, derivamos los monitores necesarios para mantener la innovación y optimizar las rutas. La solución es sorprendentemente simple: los monitores contratibles deben informar la calidad del resto de la ruta, desde cada ISP hasta el destino. Resulta que este es el requisito de responsabilidad mínimo correcto, a diferencia de los monitores de extremo a extremo o los monitores de lúpulo por salto, como se podría sospechar inicialmente. El resto de los monitores de ruta se pueden implementar de varias maneras. Pueden ser algoritmos puramente locales que escuchan ecos de paquetes. Alternativamente, se pueden distribuir en la naturaleza. Describimos una forma de construir un monitor de ruta de los monitores para la calidad del ISP individual y para la ruta de datos. Esto requiere un mecanismo para motivar a los ISP a compartir sus salidas de monitor entre sí. El resto del monitor de ruta incluye los monitores de componentes y el mecanismo algorítmico distribuido que asegura que la información se comparta según sea necesario. Este ejemplo muestra que otros tipos de monitores pueden ser útiles como bloques de construcción, pero deben combinarse para formar monitores de descanso para lograr características de innovación ideales. Nuestro estudio tiene varias implicaciones prácticas para el diseño futuro de protocolo. Mostramos que los nuevos monitores deben implementarse e integrarse con el sistema de contratación antes de que se puedan superar las patologías de la mercantilización y la falta de innovación. Además, derivamos exactamente qué monitores se necesitan para optimizar las rutas y apoyar la innovación. Además, nuestros resultados proporcionan información útil para el diseño arquitectónico de limpieza, y utilizamos varias técnicas novedosas que esperamos ser aplicables a una variedad de investigaciones futuras. El resto de este documento está organizado de la siguiente manera: en la Sección 2, presentamos nuestro modelo de red básica. En la Sección 3, presentamos una red de baja responsabilidad, modelada después de Internet de hoy. Demostramos cómo el monitoreo deficiente causa mercantilización y falta de innovación. En la Sección 4, presentamos monitores verificables y mostramos que las pruebas, incluso sin contratos, pueden mejorar el status quo. En la Sección 5, dirigimos nuestra atención a monitores contratibles. Mostramos que el resto de los monitores de ruta puede apoyar los juegos de competencia con un enrutamiento e innovación óptimos. Además, mostramos que se requieren monitores de descanso para apoyar tales juegos de competencia. Continuamos discutiendo cómo se pueden construir tales monitores utilizando otros monitores como bloques de construcción. En la Sección 6, concluimos y presentamos varias direcciones para futuras investigaciones.2. Modelo de red básica Un fuente, S, quiere enviar datos al destino, D. S y D son nodos en un gráfico acíclico dirigido, con un conjunto finito de nodos intermedios, {} nv, ... 2,1 =, representandoISP. Todas las rutas conducen a D, y cada nodo no está conectado a D tiene al menos dos opciones para el próximo salto. Representaremos la calidad por un espacio vectorial dimensional finito, Q, llamado espacio de calidad. Cada dimensión representa una característica de red distinta que los usuarios finales les importa. Por ejemplo, la latencia, la probabilidad de pérdida, el fluctuación de fluctuación y la versión IP se pueden asignar a una dimensión. Para cada nodo, i, asociamos un vector en el espacio de calidad, qqi ∈. Esto corresponde a la calidad que un usuario experimentaría si fuera el único ISP en la ruta de datos. Deje que n Q∈Q sea el vector de todas las cualidades del nodo. Por supuesto, cuando los datos pasan a través de múltiples nodos, sus cualidades se combinan de alguna manera para producir una calidad de ruta. Representamos esto por una operación binaria asociativa, *: QQQ → ×. Para la ruta () nvvv, ... ,, 21, la calidad viene dada por NVVV QQQ ∗∗∗ ... 21. La operación * refleja las características de cada dimensión de calidad. Por ejemplo, * puede actuar como una adición en el caso de la latencia, la multiplicación en el caso de la probabilidad de pérdida o una función mínima en el caso de seguridad. Cuando los datos fluyen a lo largo de una ruta completa de S a D, la fuente y el destino, generalmente considerados como un solo jugador, disfrutan de la utilidad dada por una función de la calidad de la ruta, → Qu :. Cada nodo a lo largo de la ruta, i, experimenta algún costo de transmisión, CI.2.1 Dinámica del juego En última instancia, estamos más interesados en las políticas que promueven la innovación en la red. En este estudio, utilizaremos la innovación en un sentido bastante general. La innovación describe cualquier inversión de un ISP que altera su vector de calidad para que al menos una ruta de datos potencial ofrezca una mayor utilidad. Esto incluye investigar un nuevo algoritmo de enrutamiento que disminuya la cantidad de experiencia en los usuarios de famosos. También incluye la implementación de un nuevo protocolo que admite la calidad del servicio. Aún más amplio, comprar nuevos equipos para disminuir la latencia S D 185 también puede considerarse innovación. La innovación puede considerarse como el proceso de micro nivel mediante el cual evoluciona la red. Nuestro análisis es limitado en un aspecto crucial: nos centramos en los inventos que un solo ISP puede implementar para mejorar la experiencia del usuario final. Esto excluye las tecnologías que requieren la adopción de todos los ISP en la red para funcionar. Debido a que tales tecnologías no crean una ventaja competitiva, recompensarlas es difícil y puede requerir propiedad intelectual o alguna otra distorsión del mercado. Aplazamos este interesante tema para el trabajo futuro. Al principio, puede parecer poco claro cómo un proceso distribuido a gran escala, como la innovación, puede verse influenciado por detalles mecánicos como monitores de redes. Nuestro modelo debe dibujar esta conexión de manera realista. La tasa de innovación depende de las ganancias que los innovadores potenciales esperan en el futuro. La recompensa generada por una invención debe exceder el costo total de desarrollarla, o el inventor no invertirá racionalmente. Esta recompensa, a su vez, se rige por el entorno competitivo en el que opera la empresa, incluido el proceso por el cual las empresas seleccionan los precios y acuerdan contratos entre sí. Por supuesto, estas decisiones dependen de cómo se establezcan las rutas y cómo los contratos determinan los intercambios monetarios reales. Por lo tanto, cualquier modelo de innovación de red debe relacionar al menos tres procesos distintos: innovación, competencia y enrutamiento. Seleccionamos una dinámica del juego que hace que la relación entre estos procesos sea lo más explícita posible. Esto se representa esquemáticamente en la Figura 2. La etapa de innovación ocurre primero, en el tiempo 2- = t. En esta etapa, cada agente decide si realizar inversiones de investigación o no. Si ella elige no hacerlo, su calidad permanece fija. Si realiza una inversión, su calidad puede cambiar de alguna manera. No es necesario que especifiquemos cómo tienen lugar dichos cambios. Las opciones de agentes en esta etapa determinan el vector de cualidades, Q, conocimiento común para el resto del juego. A continuación, en el tiempo 1- = T, los agentes participan en la etapa de competencia, en la que se acuerdan los contratos. En la industria actual, estos contratos incluyen precios para el acceso al tránsito y acuerdos de pares. Dado que el acceso se proporciona de la mejor manera, un acuerdo de tránsito simplemente puede estar representado por su precio. Otros sistemas de contratación que exploraremos requerirán más detalles. Finalmente, comenzando en 0 = T, las empresas participan en la etapa de enrutamiento. Otra investigación ya ha empleado juegos repetidos para estudiar el enrutamiento, por ejemplo [1], [12]. La repetición revela efectos interesantes no visibles en un juego de una sola etapa, como la colusión informal para elevar los precios en [12]. Usamos un juego en tiempo continuo para estudiar tales propiedades. Por ejemplo, luego preguntaremos si un jugador mantendrá una mayor calidad de la que requieren sus contratos, con la esperanza de mantener su base de clientes o atraer a futuros clientes. Nuestra dinámica refleja el hecho de que las ISP toman decisiones de innovación con poca frecuencia. Aunque las empresas reales tienen múltiples oportunidades para innovar, cada oportunidad es seguida por un período de tiempo sustancial en el que las cualidades se fijan. La decisión de invertir se centra en cómo la nueva calidad de las empresas mejorará los contratos en los que puede celebrar. Por lo tanto, nuestro modelo coloca la innovación en la etapa más temprana, intentando capturar una sola decisión de inversión. Las decisiones de contratación se toman en una escala de tiempo intermedia, así apareciendo a continuación en la dinámica. Las decisiones de enrutamiento se toman con mucha frecuencia, principalmente para maximizar los flujos de ganancias inmediatas, por lo que aparecen en la última etapa. Debido a este orden, nuestro modelo no permite que las empresas enriquecen estratégicamente estratégicamente para afectar las decisiones futuras de innovación o contratación. En oposición, Afergan y Wroclawski argumentan que los contratos se forman en respuesta a los patrones de tráfico actuales, en un ciclo de retroalimentación [2]. Aunque simpatizamos con su observación, tal adición haría que nuestro análisis sea intratable. Nuestro modelo es más realista cuando las decisiones de contratación son poco frecuentes. A lo largo de este artículo, nuestro concepto de solución será un subjuego perfecto de equilibrio (SPE). Un SPE es un punto de estrategia que es un equilibrio de NASH cuando se limita a cada subjuego. Se han etiquetado tres subgamas importantes en la Figura 2. El juego de innovación incluye las tres etapas. El juego de competencia incluye solo la etapa de competencia y la etapa de enrutamiento. El juego de enrutamiento incluye solo la etapa de enrutamiento. Un SPE garantiza que los jugadores sean prospectivos. Esto significa, por ejemplo, que en la etapa de competencia, las empresas deben actuar racionalmente, maximizando sus ganancias esperadas en la etapa de enrutamiento. No pueden llevar a cabo amenazas que hicieron en la etapa de innovación si reduce su recompensa esperada. Nuestro esquema ya sugiere que el juego de enrutamiento es crucial para promover la innovación. Para apoyar la innovación, el juego de competencia debe recompensar de alguna manera a los ISP con alta calidad. Pero eso significa que el juego de enrutamiento debe tender a enrutar nodos con alta calidad. Si el juego de enrutamiento siempre selecciona las rutas de menor costo, por ejemplo, la innovación no será compatible. Apoyaremos esta observación con el análisis más adelante.2.2 El juego de enrutamiento El juego de enrutamiento continúa en tiempo continuo, con todos los jugadores descontando por un factor común, r.Las salidas de etapas anteriores, Q y el conjunto de contratos, se tratan como parámetros exógenos para este juego. Para cada vez 0≥t, cada nodo debe seleccionar un siguiente salto para enrutar datos. Los datos fluyen a través de la ruta resultante, causando flujo de utilidad a S y D, y un costo de flujo para los nodos en la ruta, como se describió anteriormente. También se crean flujos de pago, según los contratos vigentes. Relacionando nuestro juego con el familiar dilema de los prisioneros repetidos, imagine que estamos tratando de imponer un camino de alta calidad, pero costoso. Como argumentamos libremente anteriormente, tales caminos deben ser sostenibles para apoyar la innovación. Cada ISP en el camino intenta maximizar su propio pago, neto de costos, por lo que es posible que no quiera cooperar con nuestro plan. Más bien, si puede encontrar una manera de ahorrar en costos, a expensas de la alta calidad que deseamos, tendrá la tentación de hacerlo. Innovación Competencia del juego Enrutamiento de juegos Innovación Etapa de innovación Etapa de enrutamiento Séteca (Q) Contratos (precios) Profites T = -2 t = -1 t ∈ [0,) Figura 2: Dinámica del juego 186 análoga al dilema de los prisioneros, llamaremos taluna decisión engañando. Un poco más formalmente, la trampa se refiere a cualquier acción que un ISP pueda tomar, al contrario de algún punto de estrategia objetivo que estamos tratando de imponer, que mejora su recompensa inmediata, pero compromete la calidad de la ruta de datos. Un tipo de trampa se relaciona con la ruta de datos. Cada nodo en la ruta tiene que pagar el siguiente nodo para entregar su tráfico. Si el siguiente nodo ofrece un tránsito de alta calidad, podemos esperar que un nodo de menor calidad ofrezca un precio más bajo. Cada nodo en la ruta estará tentado a enrutar a un próximo salto más barato, aumentando sus ganancias inmediatas, pero reduciendo la calidad de la ruta. Llamaremos a este tipo de acción en ruta. Otra posibilidad que podamos modelar es que un nodo encuentra una manera de ahorrar en sus costos de reenvío interno, a expensas de su propia calidad. Llamaremos a esto engaño internamente para distinguirlo de hacer trampa en la ruta. Por ejemplo, un nodo podría soltar paquetes más allá de la tasa requerida para el control de la congestión, para acelerar los flujos de TCP y, por lo tanto, ahorrar en los costos de reenvío [3]. Alternativamente, un nodo que emplea la calidad del servicio podría brindar a los paquetes de alta prioridad una clase baja de servicio, ahorrando así recursos y tal vez permitiéndose vender un servicio más prioritario. Si hacer trampa en la ruta o hacer trampa internamente es rentable, la ruta especificada no será un equilibrio. Asumimos que hacer trampa nunca puede ser atrapado instantáneamente. Más bien, un tramposo siempre puede disfrutar de la recompensa por hacer trampa por un tiempo positivo, que etiquetamos 0T. Esto incluye el tiempo para que otros jugadores detecten y reaccionen a la trampa. Si el tramposo tiene un contrato que incluye un período de bloqueo del cliente, 0T también incluye el tiempo hasta que los clientes puedan cambiar a un nuevo ISP. Como veremos más adelante, es socialmente beneficioso disminuir 0T, por lo que tal bloqueo es perjudicial para el bienestar.3. Patologías de una red de baja capacidad para motivar una exploración de los sistemas de monitoreo, comenzamos en esta sección considerando una red con un bajo grado de responsabilidad, modelado después de Internet de hoy. Mostraremos cómo la falta de monitoreo necesariamente conduce a un mal enrutamiento y disminuye la tasa de innovación. Por lo tanto, la falta de responsabilidad de las redes es un obstáculo fundamental para resolver estas patologías.3.1 Responsabilidad en el Internet actual Primero, reflexionamos sobre qué características de responsabilidad tiene el presente Internet. Argyraki, et al., Señalan que los hosts finales tienen información mínima sobre las caídas de paquetes [3]. Los usuarios saben cuándo ocurren caídas, pero no dónde ocurren, ni por qué. Los paquetes caídos pueden representar la señalización inocente de la congestión o, como mencionamos anteriormente, pueden ser una forma de trampa internamente. El problema es similar para otras dimensiones de calidad, o de hecho más agudo. Encontrar un ISP que brinde paquetes de alta prioridad una clase baja de servicio, por ejemplo, se complica aún más por la falta de herramientas de diagnóstico incluso básicas. De hecho, es igualmente difícil identificar un ISP que engaña en la ruta. Huston señala que los flujos de tráfico de Internet no siempre corresponden a la información de enrutamiento [8]. Un ISP puede entregar un paquete a un vecino, independientemente de las rutas que el vecino haya anunciado. Además, los bloques de direcciones se resumen juntos para hosts distantes, por lo que un destino ni siquiera se puede resolver hasta que los paquetes se envíen más cerca. Se podría argumentar que las herramientas de diagnóstico como Ping y Traceroute pueden identificar a los tramposos. Desafortunadamente, Argyraki, et al., Explican que estas herramientas solo revelan si los paquetes de la sonda se hacen eco, no el destino de los paquetes pasados [3]. Por lo tanto, por ejemplo, son ineficaces para detectar gotas de paquetes de baja frecuencia. Aún más fundamentalmente, un tramposo sofisticado siempre puede detectar paquetes de diagnóstico y darles un tratamiento especial. Como una complicación adicional, un tramposo puede asumir diferentes alias para paquetes de diagnóstico que llegan a diferentes rutas. Como veremos a continuación, esto le da al tramposo una ventaja significativa para escapar del castigo por mal comportamiento, incluso si la ruta de datos es observable.3.2 Modelado de baja aceptabilidad Como sugiere la evidencia anterior, la industria actual permite muy poca información sobre el comportamiento de la red. En esta sección, intentamos capturar esta falta de responsabilidad en nuestro modelo. Comenzamos definiendo un monitor, nuestro modelo de la forma en que los jugadores reciben información externa sobre el comportamiento de la red, un monitor es cualquier mecanismo algorítmico distribuido que se ejecute en el gráfico de la red y salidas, a nodos específicos, declaraciones informativas sobre el comportamiento actual o pasado de la red pasada. Suponemos que toda la información externa sobre el comportamiento de la red está mediada de esta manera. Las propiedades de responsabilidad de Internet pueden estar representadas por los siguientes monitores: E2E (de extremo a extremo): un monitor que informa a S/D sobre cuál es la calidad total de la ruta en cualquier momento (esta es la calidad que experimentan). ROP (resto de la ruta): un monitor que informa a cada nodo a lo largo de la ruta de datos cuál es la calidad para el resto de la ruta al destino. PRC (paquetes recibidos): un monitor que le dice a los nodos cuántos datos se aceptan entre sí, para que puedan cargar por volumen. Sin embargo, es importante tener en cuenta que esta información se agrega en muchos pares de fuentes de destino. Por lo tanto, en aras del realismo, no se puede usar para monitorear cuál es la ruta de datos. Los jugadores no pueden medir las cualidades de otros nodos individuales, solo el resto del camino. Los nodos no pueden ver el camino más allá del próximo salto. Esta última suposición es más estricta de lo necesario para nuestros resultados. El ingrediente crítico es que los nodos no pueden verificar que la ruta evite un salto específico. Esto sostiene, por ejemplo, si la ruta es generalmente visible, excepto que los nodos pueden usar diferentes alias para diferentes padres. Resultados similares también se mantienen si las rutas alternativas siempre convergen después de algún número entero, M, de Hops. Es importante enfatizar que E2E y ROP no son los monitores contratibles que describimos en la introducción: no generan pruebas. Por lo tanto, a pesar de que un jugador observa cierta información, generalmente no puede compartirla de manera creíble con otro jugador. Por ejemplo, si un nodo después del primer salto comienza a hacer trampa, el primer salto detectará la caída repentina de calidad para el resto del camino, pero el primer salto no puede hacer que la fuente crea esta observación: la fuente 187 sospechará que la primeraHop fue el tramposo y fabricó el reclamo contra el resto del camino. Por lo general, E2E y ROP se imaginan como algoritmos que se ejecutan en un solo nodo y escuchan ecos de paquetes. Sin embargo, esta no es la única forma en que podrían implementarse;Una estrategia alternativa es agregar mediciones de calidad de múltiples puntos en la red. Estas medidas pueden originarse en otros monitores, ubicados en varios ISP. Luego, el monitor incluye los monitores de componentes, así como los mecanismos que existen para motivar a los nodos a compartir la información honestamente según sea necesario. Por ejemplo, si la fuente tiene monitores que revelan las cualidades de los nodos individuales, podrían combinarse con información de ruta para crear un monitor ROP. Dado que sabemos que los contratos solo aceptan pruebas como entrada, podemos inferir que los pagos en este entorno solo pueden depender del número de paquetes intercambiados entre los jugadores. En otras palabras, los contratos son el mejor esfuerzo. Para el resto de esta sección, asumiremos que los contratos también son lineales: hay un flujo de pago constante siempre que un nodo acepte datos, y todas las condiciones del contrato se cumplen. También son posibles otras tarifas más complicadas, y generalmente se usan para generar bloqueo. Creemos que nuestro parámetro T0 es suficiente para describir los efectos de bloqueo, y creemos que las ideas en esta sección se aplican igualmente a cualquier arancel que esté limitado para que el juego de enrutamiento permanezca continuo en el infinito. Restringir la atención a los contratos lineales nos permite representar algún nodo es contrato por su precio, PI. Debido a que sabemos además que los nodos no pueden observar la ruta después del próximo salto, podemos inferir que los contratos existen solo entre los nodos vecinos en el gráfico. Llamaremos a este acuerdo de contratos bilaterales. Cuando un juego de competencia usa exclusivamente contratos bilaterales, lo llamaremos un juego de competencia de contratos bilaterales. Primero nos centramos en el juego de enrutamiento y preguntamos si se puede mantener una ruta de alta calidad, incluso cuando una ruta de baja calidad es más barata. Recuerde que este es un requisito para que los nodos tengan algún incentivo para innovar. Si los nodos tienden a enrutar a un precio bajo al siguiente lúpulo, independientemente de su calidad, decimos que la red está mercantilizada. Para medir esta tendencia, definimos un índice de mercantilización de la siguiente manera: para un nodo en la ruta de datos, i, definir su prima de calidad, Minppd Ji - =, donde PJ es el pago de flujo al siguiente salto en equilibrio e PMIN esEl precio del menor costo del próximo salto. Definición: El índice de mercantilización, CI, es el promedio, sobre cada nodo en la ruta de datos, i, de IS Flow Beneficio como una fracción de IS de calidad Premium, () IJII DPCP /−−. CI varía desde 0, cuando cada nodo gasta todas sus ganancias potenciales en su prima de calidad, hasta infinito, cuando un nodo absorbe ganancias positivas, pero usa el precio más bajo al siguiente salto. Un alto valor para CI implica que los nodos están gastando poco de su entrada de dinero en la compra de alta calidad para el resto del camino. Como muestra la próxima afirmación, esto es exactamente lo que sucede a medida que el camino crece mucho: Reclamación 1. Si los únicos monitores son E2E, ROP y PRC, ∞ → Ci como ∞ → N, donde n es el número de nodos en la ruta de datos. Para demostrar que esto es cierto, primero necesitamos el siguiente lema, que establecerá la dificultad de castigar los nodos en la red. Primero un poco de notación: recuerde que un tramposo puede beneficiarse de sus acciones por 00> t antes de que otros jugadores puedan reaccionar. Cuando un nodo hace trampa, puede esperar un flujo de ganancias más alto, al menos hasta que sea atrapado y otros jugadores reaccionan, tal vez desviando el tráfico. Deja que el nodo sea el flujo de ganancias normal sea Iπ, y su flujo de ganancias durante el engaño es un valor mayor, yi. Llamaremos a la relación, iiy π/, la tentación de hacer trampa. Lema 1. Si los únicos monitores son E2E, ROP y PRC, el tiempo con descuento, −nt rt e 0, necesarios para castigar un tramposo aumenta al menos tan rápido como el producto de las tentaciones de hacer trampa a lo largo de la ruta de datos, ∏ ∏ ≥ 00 PathDataon 0 T RT I I I T RT E Y E N π (1) Corolario. Si los nodos comparten una tentación mínima para hacer trampa, π/y, el tiempo con descuento necesario para castigar el engaño aumenta al menos exponencialmente en la longitud de la ruta de datos, n, −− ≥ 0 00 t rt nt rt e y e n π (2) ya que eses el tiempo con descuento que aumenta exponencialmente, el tiempo real aumenta más rápido que exponencialmente. Si N es tan grande que TN está indefinido, la ruta dada no se puede mantener en equilibrio. Prueba. La prueba se realiza por inducción en el número de nodos en la ruta de datos de equilibrio, n.Para 1 = n, hay un solo nodo, digamos i. Al hacer trampa, el nodo gana beneficio adicional () - - 0 0 t rt ii ey π. Si el nodo I es castigado hasta el tiempo 1T, el beneficio adicional debe cancelarse por la ganancia perdida entre el tiempo 0t y 1T, −1 0 t t rt i eπ. Un poco de manipulación da −− = 01 00 t rt i i t rt e y e π, según sea necesario. Para 1> n, suponga para la inducción que el reclamo es válido para 1 - N. La fuente no sabe si el tramposo es el primer salto, o después del primer salto. Debido a que la fuente no conoce la ruta de datos después del primer salto, no puede castigar los nodos más allá. Si elige un nuevo primer salto, podría no afectar el resto de la ruta de datos. Debido a esto, la fuente debe confiar en el primer salto para castigar los nodos de trampa más lejos a lo largo del camino. El primer salto necesita tiempo con descuento, ∏ −0 0 Hopfirstafter t rt i i i e y π, para lograr esto por suposición. Por lo tanto, la fuente debe dar el primer salto este tiempo muy descontado para castigar a los desertores más adelante (y la fuente esperará una mala calidad durante este período). A continuación, la fuente debe protegerse contra un primer salto que trampa, y finge que el problema está más tarde en el camino. El primer salto puede hacer esto durante el tiempo completo con descuento, ∏ −0 0 Hopfirstafter t rt i i i e y π, por lo que la fuente debe castigar el primer salto lo suficiente como para eliminar la ganancia adicional que puede obtener. Siguiendo el mismo argumento que para 1 = n, podemos demostrar que el tiempo completo con descuento es ∏ −0 0 PathDataon t rt i i i e y π, lo que completa la prueba. El lema anterior y su corolario muestran que los tramposos castigadores se vuelven cada vez más difícil a medida que la ruta de datos crece mucho, hasta que es imposible hacerlo. Para capturar alguna intuición detrás de este resultado, imagine que usted es un usuario final y nota una caída repentina en la calidad del servicio. Si sus datos solo viaja a través de su proveedor de acceso, sabe que es esa culpa de los proveedores. Por lo tanto, puede llevar su negocio a otra parte, al menos por algún tiempo. Esta amenaza debería motivar a su proveedor a mantener la alta calidad. Supongamos, por otro lado, que sus datos atraviesan dos proveedores. Cuando te quejas con tu ISP, él responde, sí, sabemos que tu calidad se redujo, pero no es nuestra culpa, es el próximo ISP. Danos algo de tiempo para castigarlos y luego se reanudará la calidad normal. Si su proveedor de acceso está diciendo la verdad, querrá escuchar, ya que el cambio de proveedores de acceso ni siquiera puede enrutar el delincuente real. Por lo tanto, tendrá que aceptar un servicio de menor calidad durante más tiempo. Por otro lado, es posible que desee castigar a su proveedor de acceso también, en caso de que esté mintiendo. Esto significa que debe esperar más para reanudar el servicio normal. A medida que se agregan más ISP al camino, el tiempo aumenta de manera recursiva. Con este lema en la mano, podemos volver a probar el reclamo 1. Prueba de reclamo 1. Corrige una ruta de datos de equilibrio de longitud n.Etiquete los nodos de ruta 1,2, ..., n. Para cada nodo I, es de calidad premium BE 11 ++ - = III PPD. Entonces tenemos, [] = - = - + + = - + ++ = + - = - - −− −− = −− - = −− = n i i n i iii iii n i iii ii n i i iii c g npcp pcp n pcp pp ndPCP N I 1 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11, (3) donde GI es el nodo es la tentación de hacer trampa enrutando al precio más bajo al siguiente salto. Lemma 1 nos dice que tg n i i <∏ = 1, donde () 01 rt et - - =. Requiere un poco de cálculo para mostrar que IC se minimiza estableciendo cada GI igual a n t /1. Sin embargo, como ∞ → N, tenemos 1/1 → n t, que muestra que ∞ → ci. Según la afirmación, a medida que la ruta de datos crece mucho, se asemeja cada vez más a una ruta de menor precio. Dado que el enrutamiento de menor precio no admite la innovación, podemos especular que la innovación se degrada con la longitud de la ruta de datos. Aunque sospechamos que son posibles reclamos más fuertes, podemos demostrar uno de esos resultados al incluir una suposición adicional: Ruta de ganga disponible: existe un mercado competitivo para el tránsito de bajo costo, de modo que cada nodo pueda enrutar al destino por no más que pago de flujo, LP. Reclamación 2. Según el supuesto de ruta de ganga disponible, si el nodo I, una distancia de S de S, puede invertir para alterar su calidad, y la fuente no gastará más que SP para una ruta que incluye el nodo es nueva calidad, entonces el pago al nodo I, P, disminuye hiperbólicamente con n, () () S n l p n t pp 1 1/1 - +≤ -, (4) donde () 01 rt et - - = está unido al producto de tentaciones de la afirmación anterior. Por lo tanto, no gastaré más que () () - + - s n l p n t p r 1 1 1/1 en esta mejora de calidad, lo que aborda el pago de rutas de ganga, r pl, como ∞ → n. La prueba se da en el apéndice. A medida que un nodo se aleja de la fuente, su pago máximo se acerca al precio de ganga, pl. Por lo tanto, la recompensa por la innovación está limitada por la misma cantidad. Las grandes innovaciones, que significa sustancialmente más caras que RPL /, no se perseguirán en la red. El reclamo 2 puede verse alternativamente como un límite inferior sobre cuánto cuesta provocar la innovación en una red. Si la fuente S quiere que el nodo I innovar, necesita obtener un pago motivador, p, a I durante la etapa de enrutamiento. Sin embargo, también debe pagar los nodos en el camino a I una prima para motivarlos a enrutar correctamente. La afirmación muestra que esta prima aumenta con la distancia a I, hasta que eclipsa el pago original, p.Nuestras afirmaciones contrastan con nuestra hipótesis nula de la introducción. Comparando el argumento intuitivo que respalda nuestra hipótesis con estas afirmaciones, podemos ver que utilizamos implícitamente un modelo de presión de mercado (como presente o no). Como ahora está claro, la presión del mercado se basa en las decisiones de los clientes, pero están limitadas por la falta de información. Por lo tanto, las fuerzas competitivas se degradan a medida que la red se profundiza.4. Monitores verificables En esta sección, comenzamos a introducir más responsabilidad en la red. Recuerde que en la sección anterior, asumimos que los jugadores no podían convencerse mutuamente de su información privada. ¿Qué pasaría si pudieran? Si una señal informativa monitorea puede transmitirse de manera creíble a otros, la llamaremos un monitor verificable. La salida de los monitores en este caso puede considerarse como una declaración acompañada de una prueba, una cadena que cualquier jugador puede procesar para determinar que la declaración es verdadera. Un monitor verificable es un mecanismo algorítmico distribuido que se ejecuta en el gráfico de red y salidas a nodos específicos, pruebas sobre el comportamiento de la red actual o pasado. En este sentido, podemos imaginar contrapartes verificables para E2E y ROP. Etiquemos estos E2EV y ROPV. Con estos monitores, cada nodo observa la calidad del resto del camino y también puede convencer a otros jugadores de estas observaciones dándoles una prueba.189 agregando verificabilidad a nuestros monitores, identificar un solo tramposo es sencillo. El tramposo es el nodo que no puede producir pruebas de que el resto de la calidad de la ruta disminuyó. Esto significa que los resultados negativos de la sección anterior ya no se mantienen. Por ejemplo, el siguiente lema contrasta con el lema 1. Lema 2. Con monitores E2EV, ROPV y PRC, y siempre que el nodo antes de que cada tramposo potencial tenga un próximo salto alternativo que no sea más caro, es posible hacer cumplir cualquier ruta de datos en SPE siempre que la tentación máxima sea menor de lo que puede serdisuadido en tiempo finito, - ≤ 0 0 max 1 t rt er y π (5) prueba. Este lema sigue porque los nodos pueden compartir pruebas para identificar quién es el tramposo. Solo ese nodo debe ser castigado en equilibrio, y el nodo anterior no pierde ninguna recompensa al administrar el castigo. Con este lema en mente, es fácil construir contraejemplos para reclamar 1 y reclamar 2 en este nuevo entorno. Desafortunadamente, hay al menos cuatro razones para no estar satisfechas con este sistema de monitoreo mejorado. La primera y más débil razón es que la tentación máxima sigue siendo finita, causando cierta distorsión en rutas o pagos. Cada nodo a lo largo de una ruta debe extraer algunos beneficios positivos a menos que el próximo salto también sea el más barato. Por supuesto, si T0 es pequeño, este efecto es mínimo. La segunda razón más seria es que siempre hemos dado a nuestra fuente la capacidad de comprometerse con cualquier castigo. Los usuarios del mundo real tienen menos probabilidades de actuar colectivamente, y simplemente pueden buscar el mejor servicio que se ofrece actualmente. Dado que las fases de castigo generalmente se caracterizan por una caída en la calidad, los usuarios finales del mundo real pueden aprovechar esta oportunidad para comprar un nuevo proveedor de acceso. Esto hará que los nodos sean menos motivados para administrar castigos. La tercera razón es que Lemma 2 no se aplica a las trampas por coaliciones. Un nodo de coalición puede fingir castigar a su sucesor, pero en su lugar disfrutar de un pago secreto del nodo de trampa. Alternativamente, un nodo puede sobornar a su sucesor para hacer trampa, si la fase de castigo es rentable, etc. ¡El tiempo con descuento requerido para el castigo puede aumentar exponencialmente en el número de miembros de la coalición, al igual que en la sección anterior! La razón final para no aceptar este sistema de monitoreo es que cuando se castiga un tramposo, el camino a menudo se enrutará no solo al delincuente, sino también alrededor de otros nodos. Efectivamente, los nodos inocentes serán castigados junto con el culpable. En nuestro modelo abstracto, esto no causa problemas ya que el castigo cae del camino de equilibrio. Los efectos no son tan benignos en el mundo real. Cuando los ISP se encuentran en secuencia a lo largo de una ruta de datos, contribuyen con servicios complementarios, y su relación es vertical. Sin embargo, desde la perspectiva de otros pares de fuentes-destino, es probable que estas mismas empresas sean competidores horizontales. Debido a esto, un nodo podría hacer trampa deliberadamente, para desencadenar el castigo para sí mismo y sus vecinos. Al hacer trampa, el nodo ahorrará dinero hasta cierto punto, por lo que es probable que el tramposo salga de la fase de castigo mejor que los nodos inocentes. Esto puede darle al tramposo una ventaja estratégica contra sus competidores. En el extremo, el tramposo puede usar una estrategia de este tipo para expulsar a los vecinos del negocio y, por lo tanto, ganar el monopolio de algunas rutas.5. Monitores contratibles Al final de la última sección, identificamos varios inconvenientes que persisten en un entorno con E2EV, ROPV y PRC. En esta sección, mostraremos cómo se pueden superar todos estos inconvenientes. Para hacer esto, requeriremos nuestra tercera y última categoría de monitor: un monitor contratible es simplemente un monitor verificable que genera pruebas que pueden servir como entrada a un contrato. Por lo tanto, el contratable es conjuntamente una propiedad del monitor y las instituciones que deben verificar sus pruebas. La contractibilidad requiere que un tribunal, 1. Puede verificar las pruebas de monitores.2. Puede entender lo que representan las pruebas y los contratos en la medida requerida para vigilar la actividad ilegal.3. Puede hacer cumplir los pagos entre las partes contratantes. Comprender los acuerdos entre las empresas ha sido tradicionalmente una cuestión de leer contratos en papel. Esta puede ser una tarea más difícil en una configuración de red futura. Los contratos pueden ser negociados plausiblemente por la máquina, ser numerosos, incluso por flujo, y complicarse aún más por las muchas dimensiones de calidad. Cuando un monitor (junto con la infraestructura institucional) cumple con estos criterios, lo etiquetaremos con un subíndice C, para contratible. El lector puede recordar que así es como etiquetamos el monitor recibido de los paquetes, PRC, que permite a los ISP formar contratos con pagos por paquete. Del mismo modo, E2EC y ROPC son versiones contratibles de los monitores con los que ahora estamos familiarizados. Al final de la sección anterior, abogamos por algunas propiedades deseables que se casaron como nuestra solución. Brevemente, nos gustaría hacer cumplir las rutas de datos óptimas con un concepto de equilibrio que no depende de la redacción para el castigo, es a prueba de coalición y no castiga los nodos inocentes cuando una coalición hace trampa. Llamaremos a tal equilibrio un equilibrio de protección a prueba de coalición de ruta fija. Como muestra la siguiente afirmación, ROPC nos permite crear un sistema de contratos lineales (precio, calidad) bajo tal equilibrio. Reclamación 3. Con ROPC, para cualquier asignación factible y consistente de las cualidades del resto de la ruta a los nodos, y cualquier horario de pagos correspondiente que produzca pagos no negativos, estas cualidades se pueden mantener con contratos bilaterales en una protección a prueba de coalición de ruta fija-lo inocenteequilibrio. Prueba: corrige cualquier ruta de datos consistente con el resto de cualidades de ruta dadas. Seleccione un castigo monetario, P, lo suficientemente grande como para evitar cualquier trampa para el tiempo T0 (el pago total con descuento de la fuente funcionará). Deje que cada nodo en la ruta celebre un contrato con su padre, que fija un cronograma de pagos arbitrario siempre que el resto de la calidad de la ruta sea prescrita. Cuando el nodo principal, que tiene ROPC, presenta una prueba de que el resto de la calidad de la ruta es menor de lo esperado, el contrato le otorga una transferencia instantánea, p, desde el nodo aguas abajo. Dichas pruebas se pueden enviar cada 0T para el intervalo anterior. Supongamos ahora que una coalición, C, decide hacer trampa. La fuente mide una disminución en la calidad, y según su contrato, se otorga P del primer salto. Esto significa que hay una salida neta de P de los ISP en su conjunto. Supongamos que el nodo I no está en C. Para que el nodo principal reclame P de I, debe presentar una prueba de que la calidad de la ruta que comienza en I no es como se prescribe. Esto significa 190 que hay un tramposo después de mí. Por lo tanto, también habría detectado un cambio de calidad, por lo que puedo reclamar P del siguiente nodo en el camino. Por lo tanto, los nodos inocentes no son castigados. La secuencia de pagos debe terminar por el destino, por lo que la salida neta de P debe provenir de los nodos en C. Esto establece todas las condiciones necesarias del equilibrio. Esencialmente, ROPC permite una implementación de contratos (de precio, calidad). Sobre la base de este resultado, podemos construir juegos de competencia en los que los nodos ofrecen diversas cualidades entre sí a precios especificados, y podemos comprometernos de manera creíble a cumplir con estos objetivos de rendimiento, incluso permitiendo coaliciones y un deseo de dañar otros ISP. Ejemplo 1. Defina un juego de competencia de calidad de precio de Stackelberg de la siguiente manera: extienda el orden parcial de los nodos inducidos por el gráfico a cualquier pedido completo, de modo que los nodos aguas abajo aparezcan ante sus padres. En este orden, cada nodo selecciona un contrato para ofrecer a sus padres, que consiste en un resto de calidad de ruta y un precio lineal. En el juego de enrutamiento, cada nodo selecciona un próximo salto en cada vez, de acuerdo con su descanso anunciado de calidad de ruta. El juego de competencia de calidad de precio de Stackelberg se puede implementar en nuestro modelo con monitores ROPC, utilizando la estrategia en la prueba, anterior. Tiene la siguiente propiedad útil: Reclamación 4. El juego de competencia de calidad de precio de Stackelberg produce rutas óptimas en SPE. La prueba se da en el apéndice. Esta propiedad es favorable desde una perspectiva de innovación, ya que las empresas que invierten en alta calidad tenderán a caer en el camino óptimo, ganando un recompensa positivo. En general, sin embargo, las inversiones pueden ser superadas o bajo recompensas. Se pueden dar condiciones adicionales bajo las cuales las decisiones de innovación abordan la eficiencia perfecta para grandes innovaciones. Omitimos el análisis completo aquí. Ejemplo 2. Alternativamente, podemos imaginar que los jugadores reportan su información privada a una autoridad central, que luego asigna todos los contratos. Por ejemplo, los contratos podrían calcularse para implementar el mecanismo de VCG de minimización de costos propuesto por Feigenbaum, et al.en [7]. Con los monitores ROPC, podemos adaptar este mecanismo para maximizar el bienestar. Para el nodo, i, en la ruta óptima, L, el pago neto debe igualar, esencialmente, su contribución al bienestar de S, D y los otros nodos. Si L es una ruta óptima en el gráfico con I eliminado, el flujo de ganancias a i es, () () ∈ ≠ ∈ +−−, lj j ijlj jll ccququ, (6) donde LQ y LQ son las cualidades de los doscaminos. Aquí, (precio, calidad) los contratos aseguran que los nodos informen sus cualidades honestamente. La estructura de incentivos del mecanismo VCG es lo que motiva a los nodos a informar con precisión sus costos. Una buena característica de este juego es que las decisiones de innovación individual son eficientes, lo que significa que un nodo invertirá en una innovación cada vez que el costo de inversión sea menor que el aumento del bienestar de la ruta de datos óptima. Desafortunadamente, la fuente puede terminar pagando más que la utilidad de la ruta. Observe que con solo E2EC, una versión más débil de la reclamación 3 se mantiene. Los contratos bilaterales (precio, calidad) se pueden mantener en un equilibrio que es a prueba de rutas fijas y a prueba de coalición, pero no protegida inocente. Esto se hace escribiendo contratos para castigar a todos en el camino cuando la calidad de extremo a extremo cae. Si la longitud de la ruta es n, el primer salto paga NP a la fuente, el segundo salto paga () pn 1- al primero, y así sucesivamente. Esto asegura que cada nodo sea castigado lo suficiente como para que el engaño no sea rentable. Por las razones que dimos anteriormente, creemos que este concepto de solución es menos que ideal, ya que permite que los nodos maliciosos desencadenen castigos deliberadamente para competidores potenciales. Hasta este punto, hemos adoptado el equilibrio de protección a prueba de coalición de rutas fijas, el equilibrio inocente de la coalición como nuestro concepto de solución deseado, y demostramos que los monitores ROPC son suficientes para crear algunos juegos de competencia que sean deseables en términos de diversidad e innovación de servicios. Como mostrará la próxima afirmación, el resto del monitoreo de la ruta también es necesario para construir dichos juegos bajo nuestro concepto de solución. Antes de continuar, ¿qué significa que un juego sea deseable desde la perspectiva de la diversidad e innovación de servicios? Usaremos una suposición muy débil, esencialmente, que el juego no está completamente comercializado para ningún nodo. El reclamo se realizará para toda esta clase de juegos. Definición: Un juego de competencia no está comprobado por ninguna parte si para cada nodo, yo, no adyacente a D, hay una tarea de cualidades y costos marginales a los nodos, de modo que la ruta de datos óptima incluye I, y tengo una tentación positiva de hacer trampa. En el caso de los contratos lineales, es suficiente exigir que ∞ <ci, y que cada nodo obtenga ganancias positivas bajo alguna asignación de cualidades y costos marginales. Estrictamente hablando, los monitores ROPC no son la única forma de construir estos juegos deseables. Para probar la próxima afirmación, debemos ampliar nuestra noción de monitoreo del resto de la ruta para incluir el monitor ROPC similar, que atestigua la calidad que comienza en su propio nodo, hasta el final de la ruta. Compare los dos monitores a continuación: ROPC: Da una prueba de nodo de que la calidad de ruta desde el siguiente nodo al destino no es correcta. ROPC: da una prueba de nodo de que la calidad de ruta desde ese nodo al destino es correcta. Presentamos una versión simplificada de esta afirmación, al incluir la suposición de que solo un nodo en la ruta puede hacer trampa a la vez (aunque los conspiradores aún pueden intercambiar pagos laterales). Discutiremos la versión completa después de la prueba. Reclamación 5. Suponga un conjunto de monitores, y un juego de competencia de contratos bilateral de Nowhere-Commediced que siempre mantiene la calidad óptima en el equilibrio inocente a prueba de coalición de ruta fija, el equilibrio inocente, con solo un nodo permitido hacer trampa a la vez. Luego, para cada nodo, i, no adyacente a D, ya sea que tengo un monitor ROPC, o los niños tienen un monitor ROPC. Prueba: Primero, debido a la suposición de ruta fija, los castigos deben ser puramente monetarios. A continuación, cuando se produce trampa, si el pago no va a la fuente o el destino, puede ir a otro miembro de la coalición, lo que lo hace ineficaz. Por lo tanto, la fuente debe aceptar alguna compensación monetaria, neta de su pago de flujo normal, cuando se produce trampa. Dado que la fuente solo se contrae con el primer salto, debe aceptar este dinero del primer salto. Por lo tanto, el contrato de fuentes debe distinguir cuándo la calidad de la ruta es normal de cuando se reduce por trampa. Para hacerlo, puede aceptar pruebas 191 de la fuente, que la calidad es más baja de la requerida, o puede aceptar pruebas del primer salto, que la calidad es correcta. Estos nodos no ofrecerán racionalmente el tipo de prueba opuesta. Por definición, cualquier monitor que proporcione a la fuente prueba de que la calidad de la ruta es incorrecta es un monitor ROPC. Cualquier monitor que proporcione la primera prueba de salto de que la calidad es correcta es un monitor ROPC. Por lo tanto, al menos uno de estos monitores debe existir. Según la suposición de protección-inocente, si se produce trampa, pero el primer salto no es un tramposo, debe poder reclamar la recompensa del mismo tamaño del siguiente ISP en el camino y, por lo tanto, transmitir el castigo. El primer contrato de lúpulo con el segundo debe distinguir cuando se produce trampa después del primer salto. Por argumento similar al de la fuente, el primer salto tiene un monitor ROPC, o el segundo tiene un monitor ROPC. Este argumento se puede iterarse a lo largo de todo el camino hacia el penúltimo nodo antes de D. Dado que los costos y cualidades marginales se pueden organizar para hacer que cualquier camino sea el camino óptimo, estas declaraciones deben mantener para todos los nodos y sus hijos, lo que completa la prueba. Las dos posibilidades para el monitor corresponden a qué nodo tiene la carga de la prueba. En un caso, el nodo anterior debe probar la calidad subóptima para reclamar su recompensa. En el otro, el nodo posterior debe demostrar que la calidad era correcta para evitar la penalización. Debido a que los dos monitores son similares, parece probable que requieran costos comparables para implementar. Si enviar las pruebas es costoso, parece natural que los nodos prefieran usar el monitor ROPC, colocando la carga de la prueba en el nodo aguas arriba. Finalmente, observamos que es sencillo derivar la versión completa de la afirmación, lo que permite múltiples tramposos. La única complicación es que los tramposos pueden intercambiar pagos laterales, lo que hace que las transferencias de dinero entre ellos sean redundantes. Debido a esto, tenemos que generalizar aún más nuestro resto de los monitores de ruta, por lo que están menos limitados en el caso de que hay tramposos a cada lado.5.1 Implementación de monitores La reclamación 5 no debe interpretarse como una declaración de que cada nodo debe calcular el resto de la calidad de la ruta localmente, sin la entrada de otros nodos. Otros monitores, además de ROPC y ROPC, aún se pueden usar, hablando libremente, como bloques de construcción. Por ejemplo, la tomografía de red se ocupa de medir las propiedades del interior de la red con herramientas ubicadas en el borde. Utilizando tales técnicas, nuestra fuente puede aprender tanto las cualidades de nodo individuales como la ruta de datos. Esto está representado por los siguientes dos monitores: ShopC I: (calidad de lúpulo basada en la fuente) Un monitor que le da a la fuente prueba de cuál es la calidad del nodo I. SPATHC: (ruta basada en la fuente) Un monitor que le da a la fuente prueba de lo que la ruta de datos es en cualquier momento, al menos en cuanto a la ruta de equilibrio. Con estos monitores, se puede diseñar un mecanismo de castigo para cumplir con las condiciones de la reclamación 5. Implica la fuente compartiendo las pruebas que genera con nodos más adelante en el camino, que los usan para determinar los pagos bilaterales. Sin embargo, en última instancia, la prueba de la reclamación 5 nos muestra que cada nodo es contratos bilaterales requieren prueba del resto de la calidad de la ruta. Esto significa que el nodo I (o posiblemente sus hijos) tendrá que combinar las pruebas que reciben para generar una prueba del resto de la calidad de la ruta. Por lo tanto, el proceso combinado es en sí mismo un resto del monitor de ruta. Lo que hemos hecho, en general, se construye un monitor de resto de ruta utilizando Spathc y Shopc I como bloques de construcción. Nuestro nuevo monitor incluye tanto los monitores de componentes como cualquier mecanismo algorítmico distribuido que exista para asegurar que los nodos compartan sus pruebas correctamente. Este mecanismo puede involucrar a instituciones externas. Para un ejemplo concreto, suponga que cuando el nodo sospecho que está recibiendo una mala calidad de la ruta de su sucesor, lleva el nodo aguas abajo a la corte. Durante el proceso de descubrimiento, las pruebas de las citaciones de la corte de la ruta y de las cualidades de nodo de la fuente (en última instancia, debe haber alguna amenaza para garantizar que la fuente cumpla). Finalmente, para que el tribunal emita una sentencia, una parte u otra debe compilar una prueba de cuál era el resto de la calidad de la ruta. Por lo tanto, todo el proceso de descubrimiento actúa como un resto del monitor de ruta, aunque en un monitor bastante costoso en este caso. Por supuesto, los mecanismos se pueden diseñar para combinar estos monitores a un costo mucho más bajo. Por lo general, tales mecanismos requerirían el intercambio automático de pruebas, con una intervención judicial solo como último recurso. Aplazamos estos mecanismos interesantes para el trabajo futuro. Como aparte, la intuición podría dictar que ShopC I genera más información que ROPC;Después de todo, inferir cualidades de nodo individual parece un problema mucho más difícil. Sin embargo, sin información de ruta, Shopc I no es suficiente para nuestro primer mejor resultado de innovación. La prueba de esto demuestra una técnica útil: reclamo 6. Con los monitores E2E, ROP, Shopc I y PRC, y un juego de competencia de contratos bilaterales de Nowhere Commedited, no se puede mantener la calidad óptima para todas las tareas de calidad y costo marginal, en la protección a prueba de coalición de ruta fija, el equilibrio innocente. Prueba: Debido a que los nodos no pueden verificar la ruta de datos, no pueden formar una prueba de cuál es el resto de la calidad de la ruta. Por lo tanto, los monitores de ROPC no existen y, por lo tanto, los requisitos de la reclamación 5 no pueden mantener.6. Conclusiones y trabajo futuro Es nuestra esperanza que este estudio tenga un impacto positivo en al menos tres maneras diferentes. El primero es práctico: creemos que nuestro análisis tiene implicaciones para el diseño de futuros protocolos de monitoreo y para las políticas públicas. Para los diseñadores de protocolos, primero proporcionamos una nueva motivación para crear sistemas de monitoreo. Hemos argumentado que la pobre responsabilidad de Internet es un obstáculo fundamental para aliviar las patologías de la mercantilización y la falta de innovación. A menos que mejore la responsabilidad, estas patologías se garantizan que permanecerán. En segundo lugar, sugerimos instrucciones para futuros avances en el monitoreo. Hemos demostrado que agregar verificabilidad a los monitores permite algunas mejoras en las características de la competencia. Al mismo tiempo, esto no presenta una solución completamente satisfactoria. Este documento ha sugerido un estándar novedoso para que los monitores aspire, uno de los respaldos de rutas óptimas en juegos de competencia innovadores bajo el equilibrio de protección a prueba de coalición de ruta fija. Hemos demostrado que bajo los contratos bilaterales, esto requiere específicamente el resto de los monitores de ruta. Esto no quiere decir que otros tipos de monitores no sean importantes. Incluimos un ejemplo en el que los monitores de calidad de lúpulo individuales y un monitor de ruta también pueden cumplir con nuestro estándar para mantener la competencia. Sin embargo, para que esto suceda, se debe incluir un mecanismo de 192 para combinar pruebas de estos monitores para formar una prueba de calidad de calidad. En otras palabras, los monitores deben combinarse en última instancia para formar el resto de los monitores de ruta. Para apoyar la diferenciación e innovación del servicio, puede ser más fácil diseñar el resto de los monitores de ruta directamente, evitando así la tarea de diseñar mecanismos para combinar monitores de componentes. En cuanto a las implicaciones de la política, nuestro análisis apunta a la necesidad de instituciones legales para hacer cumplir los contratos basados en la calidad. Estas instituciones deben estar equipadas para verificar pruebas de calidad y el comportamiento de contratación ilegal de la policía. A medida que los contratos basados en la calidad se vuelven numerosos y complicados, y posiblemente negociados por la máquina, esto puede convertirse en una tarea desafiante, y pueden tener que surgir nuevos estándares y regulaciones en respuesta. Esta sigue siendo un área interesante e inexplorada para la investigación. La segunda área que esperamos que nuestro estudio se beneficie es el diseño arquitectónico de limpieza. Tradicionalmente, el diseño limpio-plato tiende a centrarse en crear redes efectivas y elegantes para un conjunto estático de requisitos. Por lo tanto, el enfoque a menudo es de ingeniería, que tiende a descuidar los efectos competitivos. Estamos de acuerdo con Ratnasamy, Shenker y McCanne, que el diseño para la evolución debería ser una prioridad [11]. Hemos demostrado que la capacidad de monitoreo de las redes es fundamental para apoyar la innovación, al igual que las instituciones que apoyan la contratación. Estos elementos deberían aparecer prominentemente en nuevos diseños. Nuestro análisis sugiere específicamente que las arquitecturas basadas en contratos bilaterales deben incluir el descanso contractible del monitoreo de ruta. Desde una perspectiva limpia, estos monitores pueden integrarse de manera transparente y completamente con los sistemas de enrutamiento y contratación. Finalmente, la última contribución que realiza nuestro estudio es metodológico. Creemos que la formalización matemática que presentamos es aplicable a una variedad de preguntas de investigación futuras. Si bien una literatura significativa aborda la innovación en presencia de efectos de la red, según nuestro conocimiento, el nuestro es el primer modelo de innovación en una industria de redes que incorpora con éxito la estructura topológica real como entrada. Esto permite el descubrimiento de nuevas propiedades, como el debilitamiento de las fuerzas del mercado con el número de ISP en una ruta de datos que observamos con baja capacidad de capacidad. Nuestro método también contrasta con el enfoque típico del diseño de mecanismo algorítmico distribuido. Debido a que este campo se basa en un marco de agente de principio, la fuente generalmente propuesta los contratos, a quien se le permite tomar una toma o dejarlo ofrecer nodos de red. Nuestra técnica permite que surjan contratos de un marco competitivo, por lo que la fuente se limita a seleccionar el contrato más deseable. Creemos que esto es un reflejo más cercano de la industria. Basado en las ideas en este estudio, las posibles direcciones para futuras investigaciones son numerosas y emocionantes. Hasta cierto punto, la contratación basada en la calidad abre una caja de Pandoras de preguntas apremiantes: ¿Se mantienen contratos basados en la calidad en contra del principio de neutralidad de la red? ¿Se debe permitir que los ISP ofrezcan una selección de contratos en diferentes niveles de calidad? ¿Qué comportamientos anticompetitivos están habilitados por contratos basados en la calidad? ¿Puede un sistema de contratación admitir árboles de multidifusión óptimos? En este estudio, nos hemos centrado en contratos bilaterales. Este sistema ha parecido natural, especialmente porque es el sistema prevalente en la red actual. Quizás su beneficio más importante es que cada contrato es de naturaleza local, por lo que ambas partes comparten una jurisdicción legal común y familiar. No hay necesidad de preocuparse por quién hará cumplir un castigo contra otro ISP en el lado opuesto del planeta, ni hay una disputa sobre cuyas reglas legales para aplicar al interpretar un contrato. Aunque este beneficio es convincente, vale la pena considerar otros sistemas. La alternativa más clara es formar un contrato entre la fuente y cada nodo en la ruta. Podemos llamar a estos contratos de origen. La contratación de origen puede presentar ventajas sorprendentes. Por ejemplo, dado que los ISP no cambian dinero entre sí, un ISP no puede ahorrar dinero seleccionando un próximo salto más barato. Además, si la fuente solo tiene contratos con nodos en la ruta prevista, otros nodos ni siquiera estarán dispuestos a aceptar paquetes de esta fuente, ya que no recibirán compensación por llevarlos. Esta combinación parece eliminar toda la tentación de un solo tramposo para hacer trampa en la ruta. Debido a esta y otras características alentadoras, creemos que los contratos de origen son un tema fértil para más estudios. Otra tarea de investigación importante es relajar nuestra suposición de que la calidad se puede medir de manera total y precisa. Una posibilidad es asumir que el monitoreo es solo probabilístico o sufre de ruido. Aún más relevante es la posibilidad de que los monitores de calidad sean fundamentalmente incompletos. Un monitor de calidad nunca puede anticipar cada dimensión de calidad que las aplicaciones futuras les importará, ni puede anticipar un protocolo nuevo y valioso que introduce un ISP. Podemos definir un espacio de monitor como un subespacio del espacio de calidad que un monitor puede medir, QM ⊂ y una función de monitoreo correspondiente que simplemente proyecta el rango completo de cualidades en el espacio del monitor, MQM → :. Claramente, las innovaciones que dejan una calidad invariante bajo M no son fáciles de soportar: son invisibles para el sistema de monitoreo. En este entorno, esperamos que el monitoreo de la ruta se vuelva más importante, ya que es la única forma de garantizar que los datos lleguen a ciertos ISP innovadores. Se necesita más investigación para comprender este proceso.7. Agradecimientos Nos gustaría agradecer a los revisores anónimos, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy y Hal Varian por sus comentarios. Este trabajo es apoyado en parte por la National Science Foundation bajo el premio ITR ANI-0331659.8. Referencias [1] Afergan, M. Uso de juegos repetidos para diseñar sistemas de enrutamiento basados en incentivos. En Actas de IEEE Infocom (abril de 2006).[2] Afergan, M. y Wroclawski, J. Sobre los beneficios y la viabilidad de la infraestructura de enrutamiento basada en incentivos. En el Taller ACM SIGCOMM04 sobre la práctica y la teoría de los incentivos en sistemas en red (PIN) (agosto de 2004).[3] Argyraki, K., Mania, P., Cheriton, D. y Shenker, S. proporcionando obituarios de paquetes. En el tercer taller sobre temas de Hot en Reds (Hotnets) (noviembre de 2004).[4] Clark, D. D. La filosofía de diseño de los protocolos de Internet DARPA. En Actas de ACM Sigcomm (1988).193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R. y Braden, R. Tussle en el ciberespacio: definición de Internet de mañana. En Actas de ACM Sigcomm (agosto de 2002).[6] Dang-Nguyen, G. y Pénard, T. Acuerdos de interconexión: comportamiento estratégico y derechos de propiedad. En Brousseau, E. y Glachant, J.M. Eds. La economía de los contratos: teorías y aplicaciones, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R. y Shenker, S. Un mecanismo basado en BGP para la ruta de menor costo. Distributed Computing 18 (2005), pp. 61-72.[8] Huston, G. Interconexión, emparejamiento y asentamientos. Telstra, Australia.[9] Liu, Y., Zhang, H., Gong, W. y Towsley, D. Sobre la interacción entre el enrutamiento de superposición y la ingeniería de tráfico. En Actas de IEEE Infocom (2005).[10] Mackie-Mason, J. y Varian, H. Precios de Internet. En Kahin, B. y Keller, J. Eds. Acceso público a Internet. Englewood Cliffs, NJ;Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S. y McCanne, S. Hacia una arquitectura de Internet evolvible. En procedimiento de ACM Sigcomm (2005).[12] Shakkottai, S. y Srikant, R. Economía de los precios de la red con múltiples ISP. En Actas de IEEE Infocom (2005).9. Apéndice Prueba de reclamo 2. Nodo Debo caer en la ruta de datos de equilibrio para recibir cualquier pago. Deje que los precios a lo largo de la ruta de datos sean ppppp ns ==, ..., 21, con costos marginales, NCC, ..., 1. Podemos suponer que los precios en el camino son mayores que LP o el reclamo sigue de manera trivial. Cada nodo a lo largo de la ruta de datos puede hacer trampa en la ruta dando datos a la ruta de negociación a precio no más que LP. Entonces, el nodo JS Temptation de hacer trampa es al menos 11 ++ - - ≥ −− −− jj l jjj ljj pp pp pcp pcp. Entonces Lemma 1 da, 1 13221 1 ... - - - - -> - - pastor() s n l p n t pp 1 1/1 - +≤ -, según sea necesario. El resto del reclamo simplemente reconoce que RP / es el mayor nodo de recompensa que puedo recibir por su inversión, por lo que no invertirá sumas mayores que esto. Prueba de reclamo 4. Etiquete los nodos 1,2, ... n en el orden en que seleccionan contratos. Deje que Subgame N sea el juego que comienza con N elegir su contrato. Sea LN el conjunto de posibles rutas restringidas a los nodos n, ..., n. Es decir, LN es el conjunto de rutas posibles de S para llegar a algún nodo que ya se ha movido. Para el subgame n, defina el bienestar local sobre las rutas nll ∈, y sus posibles próximos lúpulos, nj <como sigue, () () j li ipathjl pcqqujlv −− = ∈ *,, (8) donde ql es la calidad de la ruta lEn el conjunto {n, ..., n} y Pathjq y PJ están la calidad y el precio del contrato que J ha ofrecido. Para la inducción, suponga que el subjuego N + 1 maximiza el bienestar local. Mostramos que Subjame N también lo hace. Si el nodo n selecciona el siguiente hop k, podemos escribir la siguiente relación, () () () () () nknn knlvpcpknlvnlv π - = ++ - = ,,,,,,,, (9) donde n es ganancias de nodo NS siSe elige el camino a n. Esta ruta se elige cuando () NLV, es máxima sobre LN+1 y posibles los siguientes saltos. If () () knlv ,, es máximo sobre ln, también es máximo sobre las rutas en ln+1 que no conducen a n.Esto significa que el nodo N puede elegir algunas n lo suficientemente pequeñas para que () NLV sea máximo sobre LN+1, por lo que la ruta conducirá a k.Por el contrario, if () () knlv ,, no es máximo sobre ln, ya sea V es mayor para otro de los siguientes saltos de NS, en cuyo caso n seleccionará eso para aumentar N, o V es mayor para alguna ruta en LN+1 que no conducen a n, en cuyo caso () NLV, no puede ser máximo para ninguna n no negativa.Por lo tanto, concluimos que el subjuego n maximiza el bienestar local. Para el caso inicial, observe que esta suposición es válida para la fuente. Finalmente, deducimos ese Subgame 1, que es todo el juego, maximiza el bienestar local, que es equivalente al bienestar real. Por lo tanto, el juego de calidad de precio de Stackelberg produce una ruta óptima.194",
    "original_sentences": [
        "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
        "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
        "It is apparent that the networks primitive system of contracts does not align incentives properly.",
        "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
        "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
        "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
        "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
        "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
        "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
        "The list includes Multicast, IPv6, IntServ, and DiffServ.",
        "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
        "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
        "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
        "Thus, the network has characteristics of a commodity market.",
        "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
        "On one hand, this leads directly to suboptimal routing.",
        "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
        "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
        "There is simply no reward for introducing new services or investing in quality improvements.",
        "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
        "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
        "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
        "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
        "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
        "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
        "The second strategy suggests a revision of the contracting system.",
        "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
        "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
        "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
        "They argue that such a move would improve stability and align incentives.",
        "The third high-level strategy calls for greater network accountability.",
        "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
        "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
        "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
        "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
        "Until today, however, the relationship between them has been poorly understood.",
        "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
        "This paper will address both issues.",
        "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
        "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
        "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
        "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
        "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
        "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
        "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
        "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
        "This well-known trait is largely rooted in the networks history.",
        "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
        "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
        "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
        "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
        "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
        "Details of where and why drops occur are deliberately concealed.",
        "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
        "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
        "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
        "Of course, the vast majority of contracts never end up in court.",
        "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
        "This would not be possible, however, without the judge acting as a last resort.",
        "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
        "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
        "Hence, we imagine that a contract only accepts proofs as inputs.",
        "We will call any process that generates these proofs a contractible monitor.",
        "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
        "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
        "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
        "Figure 1 demonstrates how our model of contracts fits together.",
        "We make the assumption that all payments are mediated by contracts.",
        "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
        "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
        "Nodes cannot condition payments on either quality or path characteristics.",
        "Is there anything wrong with best-effort contracts?",
        "The reader might wonder why the Internet needs contracts at all.",
        "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
        "One might believe that such market forces apply to ISPs as well.",
        "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
        "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
        "Access providers try to increase their quality to get more consumers. 2.",
        "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
        "Access providers try to select high quality transit because that increases their quality. 3.",
        "The process continues through the network, giving every ISP a competitive reason to increase quality.",
        "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
        "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
        "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
        "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
        "These constraints limit their ability to punish cheaters.",
        "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
        "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
        "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
        "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
        "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
        "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
        "We approach this question from a clean-slate perspective.",
        "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
        "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
        "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
        "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
        "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
        "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
        "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
        "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
        "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
        "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
        "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
        "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
        "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
        "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
        "Rest of path monitors can be implemented in various ways.",
        "They may be purely local algorithms that listen for packet echoes.",
        "Alternately, they can be distributed in nature.",
        "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
        "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
        "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
        "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
        "Our study has several practical implications for future protocol design.",
        "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
        "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
        "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
        "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
        "In section 3, we present a lowaccountability network, modeled after todays Internet.",
        "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
        "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
        "In section 5, we turn our attention to contractible monitors.",
        "We show that rest of path monitors can support competition games with optimal routing and innovation.",
        "We further show that rest of path monitors are required to support such competition games.",
        "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
        "In section 6, we conclude and present several directions for future research. 2.",
        "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
        "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
        "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
        "Each dimension represents a distinct network characteristic that end-users care about.",
        "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
        "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
        "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
        "Let N Q∈q be the vector of all node qualities.",
        "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
        "We represent this by an associative binary operation, *: QQQ →× .",
        "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
        "The * operation reflects the characteristics of each dimension of quality.",
        "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
        "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
        "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
        "In this study, we will use innovation in a fairly general sense.",
        "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
        "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
        "It also includes deploying a new protocol that supports quality of service.",
        "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
        "Innovation may be thought of as the micro-level process by which the network evolves.",
        "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
        "This excludes technologies that require adoption by all ISPs on the network to function.",
        "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
        "We defer this interesting topic to future work.",
        "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
        "Our model must draw this connection in a realistic fashion.",
        "The rate of innovation depends on the profits that potential innovators expect in the future.",
        "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
        "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
        "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
        "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
        "We select a game dynamics that makes the relation between these processes as explicit as possible.",
        "This is represented schematically in Figure 2.",
        "The innovation stage occurs first, at time 2−=t .",
        "In this stage, each agent decides whether or not to make research investments.",
        "If she chooses not to, her quality remains fixed.",
        "If she makes an investment, her quality may change in some way.",
        "It is not necessary for us to specify how such changes take place.",
        "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
        "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
        "In todays industry, these contracts include prices for transit access, and peering agreements.",
        "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
        "Other contracting systems we will explore will require more detail.",
        "Finally, beginning at 0=t , firms participate in the routing stage.",
        "Other research has already employed repeated games to study routing, for example [1], [12].",
        "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
        "We use a game in continuous time in order to study such properties.",
        "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
        "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
        "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
        "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
        "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
        "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
        "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
        "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
        "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
        "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
        "Our model is most realistic when contracting decisions are infrequent.",
        "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
        "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
        "Three important subgames have been labeled in Figure 2.",
        "The innovation game includes all three stages.",
        "The competition game includes only the competition stage and the routing stage.",
        "The routing game includes only the routing stage.",
        "An SPE guarantees that players are forward-looking.",
        "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
        "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
        "Our schematic already suggests that the routing game is crucial for promoting innovation.",
        "To support innovation, the competition game must somehow reward ISPs with high quality.",
        "But that means that the routing game must tend to route to nodes with high quality.",
        "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
        "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
        "For each time 0≥t , each node must select a next hop to route data to.",
        "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
        "Payment flows are also created, based on the contracts in place.",
        "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
        "As we argued loosely above, such paths must be sustainable in order to support innovation.",
        "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
        "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
        "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
        "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
        "One type of cheating relates to the data path.",
        "Each node on the path has to pay the next node to deliver its traffic.",
        "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
        "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
        "We will call this type of action cheating in route.",
        "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
        "We will call this cheating internally to distinguish it from cheating in route.",
        "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
        "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
        "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
        "We assume that cheating can never be caught instantaneously.",
        "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
        "This includes the time for other players to detect and react to the cheating.",
        "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
        "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
        "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
        "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
        "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
        "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
        "Users know when drops occur, but not where they occur, nor why.",
        "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
        "The problem is similar for other dimensions of quality, or in fact more acute.",
        "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
        "In fact, it is similarly difficult to identify an ISP that cheats in route.",
        "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
        "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
        "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
        "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
        "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
        "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
        "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
        "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
        "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
        "In this section, we attempt to capture this lack of accountability in our model.",
        "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
        "We assume that all external information about network behavior is mediated in this way.",
        "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
        "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
        "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
        "It is important to note, however, that this information is aggregated over many source-destination pairs.",
        "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
        "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
        "Nodes cannot see the path past the next hop.",
        "This last assumption is stricter than needed for our results.",
        "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
        "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
        "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
        "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
        "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
        "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
        "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
        "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
        "These measurements can originate in other monitors, located at various ISPs.",
        "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
        "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
        "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
        "In other words, contracts are best-effort.",
        "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
        "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
        "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
        "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
        "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
        "We will call this arrangement of contracts bilateral.",
        "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
        "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
        "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
        "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
        "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
        "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
        "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
        "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
        "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
        "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
        "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
        "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
        "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
        "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
        "We will call the ratio, iiy π/ , the temptation to cheat.",
        "Lemma 1.",
        "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
        "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
        "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
        "Proof.",
        "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
        "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
        "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
        "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
        "For 1>n , assume for induction that the claim holds for 1−n .",
        "The source does not know whether the cheater is the first hop, or after the first hop.",
        "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
        "If it chooses a new first hop, it might not affect the rest of the data path.",
        "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
        "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
        "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
        "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
        "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
        "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
        "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
        "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
        "If your data only travels through your access provider, you know it is that providers fault.",
        "You can therefore take your business elsewhere, at least for some time.",
        "This threat should motivate your provider to maintain high quality.",
        "Suppose, on the other hand, that your data traverses two providers.",
        "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
        "Give us some time to punish them and then normal quality will resume.",
        "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
        "Thus, you will have to accept lower quality service for some longer time.",
        "On the other hand, you may want to punish your access provider as well, in case he is lying.",
        "This means you have to wait longer to resume normal service.",
        "As more ISPs are added to the path, the time increases in a recursive fashion.",
        "With this lemma in hand, we can return to prove Claim 1.",
        "Proof of Claim 1.",
        "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
        "For each node i, let is quality premium be 11 ++ −= iii ppd .",
        "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
        "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
        "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
        "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
        "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
        "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
        "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
        "Claim 2.",
        "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
        "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
        "The proof is given in the appendix.",
        "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
        "Hence, the reward for innovation is bounded by the same amount.",
        "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
        "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
        "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
        "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
        "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
        "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
        "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
        "Hence, competitive forces degrade as the network deepens. 4.",
        "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
        "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
        "What would happen if they could?",
        "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
        "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
        "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
        "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
        "We will label these E2Ev and ROPv.",
        "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
        "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
        "This means that the negative results of the previous section no longer hold.",
        "For example, the following lemma stands in contrast to Lemma 1.",
        "Lemma 2.",
        "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
        "This lemma follows because nodes can share proofs to identify who the cheater is.",
        "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
        "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
        "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
        "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
        "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
        "Of course, if t0 is small, this effect is minimal.",
        "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
        "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
        "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
        "This will make nodes less motivated to administer punishments.",
        "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
        "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
        "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
        "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
        "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
        "Effectively, innocent nodes will be punished along with the guilty.",
        "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
        "The effects are not so benign in the real world.",
        "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
        "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
        "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
        "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
        "This may give the cheater a strategic advantage against its competitors.",
        "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
        "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
        "In this section, we will show how all of these drawbacks can be overcome.",
        "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
        "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
        "Contractibility requires that a court, 1.",
        "Can verify the monitors proofs. 2.",
        "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
        "Can enforce payments among contracting parties.",
        "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
        "This may prove to be a harder task in a future network setting.",
        "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
        "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
        "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
        "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
        "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
        "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
        "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
        "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
        "Claim 3.",
        "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
        "Proof: Fix any data path consistent with the given rest of path qualities.",
        "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
        "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
        "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
        "Such proofs can be submitted every 0t for the previous interval.",
        "Suppose now that a coalition, C, decides to cheat.",
        "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
        "This means that there is a net outflow of P from the ISPs as a whole.",
        "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
        "This means 190 that there is a cheater after i.",
        "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
        "Thus, innocent nodes are not punished.",
        "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
        "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
        "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
        "Example 1.",
        "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
        "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
        "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
        "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
        "It has the following useful property: Claim 4.",
        "The Stackelberg price-quality competition game yields optimal routes in SPE.",
        "The proof is given in the appendix.",
        "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
        "In general, however, investments may be over or under rewarded.",
        "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
        "We omit the full analysis here.",
        "Example 2.",
        "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
        "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
        "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
        "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
        "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
        "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
        "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
        "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
        "Unfortunately, the source may end up paying more than the utility of the path.",
        "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
        "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
        "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
        "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
        "This ensures that every node is punished sufficiently to make cheating unprofitable.",
        "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
        "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
        "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
        "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
        "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
        "The claim will hold for this entire class of games.",
        "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
        "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
        "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
        "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
        "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
        "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
        "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
        "We will discuss the full version after the proof.",
        "Claim 5.",
        "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
        "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
        "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
        "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
        "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
        "Since the source only contracts with the first hop, it must accept this money from the first hop.",
        "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
        "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
        "These nodes will not rationally offer the opposing type of proof.",
        "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
        "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
        "Thus, at least one of these monitors must exist.",
        "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
        "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
        "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
        "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
        "The two possibilities for monitor correspond to which node has the burden of proof.",
        "In one case, the prior node must prove the suboptimal quality to claim its reward.",
        "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
        "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
        "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
        "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
        "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
        "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
        "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
        "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
        "Using such techniques, our source might learn both individual node qualities and the data path.",
        "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
        "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
        "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
        "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
        "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
        "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
        "Thus, the combined process is itself a rest of path monitor.",
        "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
        "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
        "This mechanism can potentially involve external institutions.",
        "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
        "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
        "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
        "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
        "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
        "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
        "We defer these interesting mechanisms to future work.",
        "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
        "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
        "The proof of this demonstrates a useful technique: Claim 6.",
        "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
        "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
        "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
        "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
        "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
        "For protocol designers, we first provide fresh motivation to create monitoring systems.",
        "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
        "Unless accountability improves, these pathologies are guaranteed to remain.",
        "Secondly, we suggest directions for future advances in monitoring.",
        "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
        "At the same time, this does not present a fully satisfying solution.",
        "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
        "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
        "This is not to say that other types of monitors are unimportant.",
        "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
        "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
        "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
        "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
        "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
        "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
        "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
        "This remains an interesting and unexplored area for research.",
        "The second area we hope our study will benefit is that of clean-slate architectural design.",
        "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
        "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
        "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
        "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
        "These elements should feature prominently in new designs.",
        "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
        "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
        "Finally, the last contribution our study makes is methodological.",
        "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
        "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
        "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
        "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
        "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
        "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
        "We believe this is a closer reflection of the industry.",
        "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
        "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
        "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
        "What anti-competitive behaviors are enabled by quality-based contracts?",
        "Can a contracting system support optimal multicast trees?",
        "In this study, we have focused on bilateral contracts.",
        "This system has seemed natural, especially since it is the prevalent system on the current network.",
        "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
        "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
        "Although this benefit is compelling, it is worth considering other systems.",
        "The clearest alternative is to form a contract between the source and every node on the path.",
        "We may call these source contracts.",
        "Source contracting may present surprising advantages.",
        "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
        "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
        "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
        "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
        "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
        "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
        "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
        "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
        "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
        "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
        "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
        "Further research is needed to understand this process. 7.",
        "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
        "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
        "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
        "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
        "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
        "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
        "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
        "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
        "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
        "In Brousseau, E. and Glachant, J.M.",
        "Eds.",
        "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
        "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
        "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
        "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
        "In Kahin, B. and Keller, J. Eds.",
        "Public access to the Internet.",
        "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
        "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
        "In Proceedings of IEEE INFOCOM (2005). 9.",
        "APPENDIX Proof of Claim 2.",
        "Node i must fall on the equilibrium data path to receive any payment.",
        "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
        "We may assume the prices on the path are greater than lp or the claim follows trivially.",
        "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
        "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
        "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
        "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
        "Proof of Claim 4.",
        "Label the nodes 1,2,.. N in the order in which they select contracts.",
        "Let subgame n be the game that begins with n choosing its contract.",
        "Let Ln be the set of possible paths restricted to nodes n,…,N.",
        "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
        "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
        "For induction, assume that subgame n + 1 maximizes local welfare.",
        "We show that subgame n does as well.",
        "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
        "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
        "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
        "For the initial case, observe that this assumption holds for the source.",
        "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
        "Hence, the Stackelberg price-quality game yields an optimal route. 194"
    ],
    "error_count": 0,
    "keys": {
        "smart market": {
            "translated_key": "mercado inteligente",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a <br>smart market</br> to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Esto es ejemplificado por Mackie-Mason y Varian, quienes proponen un \"mercado inteligente\" para controlar el acceso a los recursos de red [10]."
            ],
            "translated_text": "",
            "candidates": [
                "mercado inteligente",
                "mercado inteligente"
            ],
            "error": []
        },
        "network monitor": {
            "translated_key": "monitor de red",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "routing stagequality": {
            "translated_key": "Enrutamiento de la calidad del escenario",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "verifiable monitor": {
            "translated_key": "monitor verificable",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a <br>verifiable monitor</br>.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A <br>verifiable monitor</br> is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a <br>verifiable monitor</br> that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Si una señal informativa monitorea puede transmitirse de manera creíble a otros, la llamaremos un \"monitor verificable\".",
                "Un \"monitor verificable\" es un mecanismo algorítmico distribuido que se ejecuta en el gráfico de red y salidas, a nodos específicos, pruebas sobre el comportamiento de la red actual o pasado.",
                "Para hacer esto, requeriremos nuestra tercera y última categoría de monitor: un monitor contratible es simplemente un \"monitor verificable\" que genera pruebas que pueden servir como entrada a un contrato."
            ],
            "translated_text": "",
            "candidates": [
                "monitor verificable",
                "monitor verificable",
                "monitor verificable",
                "monitor verificable",
                "monitor verificable",
                "monitor verificable"
            ],
            "error": []
        },
        "contractible monitor": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a <br>contractible monitor</br>.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The <br>contractible monitor</br> includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A <br>contractible monitor</br> is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Llamaremos a cualquier proceso que genere estas pruebas como un \"monitor contractible\".",
                "El \"monitor contratible\" incluye cualquier mecanismo algorítmico distribuido que se utilice para motivar a los ISP a compartir esta información privada.",
                "Para hacer esto, requeriremos nuestra tercera y última categoría de monitor: un \"monitor contractible\" es simplemente un monitor verificable que genera pruebas que pueden servir como entrada a un contrato."
            ],
            "translated_text": "",
            "candidates": [
                "monitor contratible",
                "monitor contractible",
                "monitor contratible",
                "monitor contratible",
                "monitor contratible",
                "monitor contractible"
            ],
            "error": []
        },
        "contracting system": {
            "translated_key": "sistema de contratación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the <br>contracting system</br>.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the <br>contracting system</br>.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current <br>contracting system</br> is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the <br>contracting system</br> before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a <br>contracting system</br> support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En este estudio, identificamos la falta de responsabilidad de las redes como un obstáculo fundamental para corregir este problema: emplear un modelo económico, argumentamos que las rutas e innovación óptimas son imposibles a menos que se introduzca e incorpore una nueva capacidad de monitoreo con el \"sistema de contratación\".",
                "La segunda estrategia sugiere una revisión del \"sistema de contratación\".",
                "Está claro que estas tres estrategias están estrechamente vinculadas entre sí (por ejemplo, [2], [5] y [9] argumentan que el control de enrutamiento de los usuarios finales dentro del \"sistema de contratación\" actual es problemático).",
                "Mostramos que los nuevos monitores deben implementarse e integrarse con el \"sistema de contratación\" antes de que se puedan superar las patologías de la mercantilización y la falta de innovación.",
                "¿Puede un \"sistema de contratación\" admitir árboles de multidifusión óptimos?"
            ],
            "translated_text": "",
            "candidates": [
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación",
                "sistema de contratación"
            ],
            "error": []
        },
        "commoditization": {
            "translated_key": "mercantilización",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater <br>commoditization</br>.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, <br>commoditization</br> in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of <br>commoditization</br> or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of <br>commoditization</br> and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of <br>commoditization</br> and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of <br>commoditization</br> and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of <br>commoditization</br> and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes <br>commoditization</br> and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of <br>commoditization</br> as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of <br>commoditization</br>, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of <br>commoditization</br> and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En lugar de introducir nuevos servicios, los ISP actualmente se están moviendo hacia una mayor \"mercantilización\".",
                "Más importante aún, la \"mercantilización\" a corto plazo seguramente está relacionada con la falta de innovación a largo plazo.",
                "A diferencia de las dos primeras estrategias, no conocemos ningún estudio previo que haya conectado la responsabilidad con las patologías de \"mercantilización\" o falta de innovación.",
                "Usaremos nuestro modelo para dos propósitos principales: primero, utilizaremos nuestro modelo para argumentar que la falta de responsabilidad en la red actual es un obstáculo fundamental para superar las patologías de la \"mercantilización\" y la falta de innovación.",
                "Definiremos un índice de \"mercantilización\" y mostraremos que aumenta sin vinculación a medida que las rutas de datos crecen mucho.",
                "Pagos de prueba del contrato de Monitor de comportamiento de la red 184 Para resumir, argumentamos que la falta de responsabilidad de Internet debe abordarse antes de que se puedan resolver las patologías de \"mercantilización\" y la falta de innovación.",
                "Mostramos que los nuevos monitores deben implementarse e integrarse con el sistema de contratación antes de que se puedan superar las patologías de \"mercantilización\" y la falta de innovación.",
                "Demostramos cómo el monitoreo deficiente causa \"mercantilización\" y falta de innovación.",
                "Para medir esta tendencia, definimos un índice de \"mercantilización\" de la siguiente manera: para un nodo en la ruta de datos, i, definir su prima de calidad, minppd ji - =, donde PJ es el pago de flujo al siguiente salto en equilibrio, yPMIN es el precio del próximo costo más bajo en el próximo salto.",
                "Definición: El índice de \"mercantilización\", CI, es el promedio, sobre cada nodo en la ruta de datos, i, de IS Flow Beneficio como una fracción de IS de calidad Premium, () IJII DPCP /−−.",
                "Hemos argumentado que la mala responsabilidad de Internet es un obstáculo fundamental para aliviar las patologías de la \"mercantilización\" y la falta de innovación."
            ],
            "translated_text": "",
            "candidates": [
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización",
                "mercantilización"
            ],
            "error": []
        },
        "routing policies": {
            "translated_key": "Políticas de enrutamiento",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of <br>routing policies</br> at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Aunque en teoría, los ISP tienen una gran cantidad de \"políticas de enrutamiento\" a su disposición, la estrategia prevaleciente es enrutar de la manera más barata posible [2]."
            ],
            "translated_text": "",
            "candidates": [
                "Políticas de enrutamiento",
                "políticas de enrutamiento"
            ],
            "error": []
        },
        "clean-slate architectural design": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for <br>clean-slate architectural design</br>, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of <br>clean-slate architectural design</br>.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Además, nuestros resultados proporcionan una entrada útil para el \"diseño arquitectónico de limpieza-plato\", y utilizamos varias técnicas novedosas que esperamos serán aplicables a una variedad de investigaciones futuras.",
                "La segunda área que esperamos que nuestro estudio se beneficie es el del \"diseño arquitectónico de limpieza-plato\"."
            ],
            "translated_text": "",
            "candidates": [
                "diseño arquitectónico de limpieza",
                "diseño arquitectónico de limpieza-plato",
                "diseño arquitectónico de limpieza",
                "diseño arquitectónico de limpieza-plato"
            ],
            "error": []
        },
        "innovation": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and <br>innovation</br> Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and <br>innovation</br> are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and <br>innovation</br> characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence <br>innovation</br>.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of <br>innovation</br> in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of <br>innovation</br>.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with <br>innovation</br> and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and <br>innovation</br>.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of <br>innovation</br>.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and <br>innovation</br> characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of <br>innovation</br> because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and <br>innovation</br> on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of <br>innovation</br> can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain <br>innovation</br> and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal <br>innovation</br> characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of <br>innovation</br> can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support <br>innovation</br>.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of <br>innovation</br>.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and <br>innovation</br>.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote <br>innovation</br> on the network.",
                "In this study, we will use <br>innovation</br> in a fairly general sense.",
                "<br>innovation</br> describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as <br>innovation</br>.",
                "<br>innovation</br> may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as <br>innovation</br> can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of <br>innovation</br> depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network <br>innovation</br> must therefore relate at least three distinct processes: <br>innovation</br>, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The <br>innovation</br> stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make <br>innovation</br> decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places <br>innovation</br> at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future <br>innovation</br> or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The <br>innovation</br> game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the <br>innovation</br> stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting <br>innovation</br>.",
                "To support <br>innovation</br>, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, <br>innovation</br> will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support <br>innovation</br>.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "<br>innovation</br> Game Competition Game Routing Game <br>innovation</br> stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of <br>innovation</br>.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support <br>innovation</br>, we may speculate that <br>innovation</br> degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for <br>innovation</br> is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit <br>innovation</br> in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an <br>innovation</br> perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which <br>innovation</br> decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual <br>innovation</br> decisions are efficient, meaning that a node will invest in an <br>innovation</br> whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and <br>innovation</br>.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and <br>innovation</br>?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best <br>innovation</br> result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of <br>innovation</br>.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and <br>innovation</br>, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting <br>innovation</br>, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses <br>innovation</br> in the presence of network effects, to the best of our knowledge, ours is the first model of <br>innovation</br> in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Monitores de red y sistemas de contratación: competencia e \"innovación\" Paul Laskowski John Chuang Uc Berkeley {Paul, Chuang}@sims.berkeley.edu La industria de Internet Resumen de hoy sufre de varias patologías bien conocidas, pero ninguno es tan destructivo a largo plazo como a largo plazo comosu resistencia a la evolución.",
                "En este estudio, identificamos la falta de responsabilidad de las redes como un obstáculo fundamental para corregir este problema: emplear un modelo económico, argumentamos que las rutas óptimas y la \"innovación\" son imposibles a menos que se introduzca e incorpore una nueva capacidad de monitoreo con el sistema de contratación.",
                "Además, derivamos los requisitos mínimos que debe cumplir un sistema de monitoreo para apoyar las primeras características de enrutamiento y \"innovación\".",
                "Nuestro trabajo no constituye un nuevo protocolo;Más bien, proporcionamos orientación práctica y específica para el diseño de sistemas de monitoreo, así como un marco teórico para explorar los factores que influyen en la \"innovación\".",
                "Más importante aún, la mercantilización a corto plazo seguramente se relaciona con la falta de \"innovación\" a largo plazo.",
                "A diferencia de las dos primeras estrategias, no conocemos ningún estudio previo que haya conectado la responsabilidad con las patologías de la mercantilización o la falta de \"innovación\".",
                "Actualmente hay pocas bases teóricas para comparar los méritos relativos de cada propuesta, y una falta particular de evidencia que vincula la responsabilidad con la \"innovación\" y la diferenciación de servicios.",
                "Comenzaremos introduciendo un modelo de red económica que relacione la responsabilidad, los contratos, la competencia y la \"innovación\".",
                "Usaremos nuestro modelo para dos propósitos principales: primero, utilizaremos nuestro modelo para argumentar que la falta de responsabilidad en la red actual es un obstáculo fundamental para superar las patologías de la mercantilización y la falta de \"innovación\".",
                "En otras palabras, a menos que se introduzcan nuevas capacidades de monitoreo e integradas con el sistema de contratos, la red no puede lograr características óptimas de enrutamiento y \"innovación\".",
                "La falta de responsabilidad de las redes es muy relevante para una discusión de \"innovación\" porque limita el sistema de contratos.",
                "Podemos adoptar esto como nuestra hipótesis nula: hipótesis nula: las fuerzas del mercado son suficientes para mantener la diversidad de servicios y la \"innovación\" en una red, al menos en la misma medida que en los mercados tradicionales.",
                "Pagos de prueba del contrato de Monitor de comportamiento de la red 184 Para resumir, argumentamos que la falta de responsabilidad de Internet debe abordarse antes de que se puedan resolver las patologías de la mercantilización y la falta de \"innovación\".",
                "Aplicando este concepto de equilibrio, derivamos los monitores necesarios para mantener la \"innovación\" y optimizar las rutas.",
                "Este ejemplo muestra que otros tipos de monitores pueden ser útiles como bloques de construcción, pero deben combinarse para formar monitores de descanso para lograr características ideales de \"innovación\".",
                "Mostramos que los nuevos monitores deben implementarse e integrarse con el sistema de contratación antes de que se puedan superar las patologías de la mercantilización y la falta de \"innovación\".",
                "Además, derivamos exactamente qué monitores se necesitan para optimizar las rutas y apoyar la \"innovación\".",
                "Demostramos cómo el monitoreo deficiente causa la mercantilización y la falta de \"innovación\".",
                "Mostramos que el resto de los monitores de ruta puede apoyar juegos de competencia con un enrutamiento óptimo y \"innovación\".",
                "Cada nodo a lo largo de la ruta, i, experimenta algún costo de transmisión, CI.2.1 Dinámica del juego En última instancia, estamos más interesados en las políticas que promueven la \"innovación\" en la red.",
                "En este estudio, utilizaremos la \"innovación\" en un sentido bastante general.",
                "\"Innovation\" describe cualquier inversión de un ISP que altera su vector de calidad para que al menos una ruta de datos potencial ofrezca una mayor utilidad.",
                "Aún más amplio, comprar nuevos equipos para disminuir la latencia S D 185 también puede considerarse como \"innovación\".",
                "La \"innovación\" puede considerarse como el proceso de micro nivel mediante el cual la red evoluciona.",
                "Al principio, puede parecer poco claro cómo un proceso distribuido a gran escala, como la \"innovación\", puede verse influenciado por detalles mecánicos como monitores de redes.",
                "La tasa de \"innovación\" depende de las ganancias que los innovadores potenciales esperan en el futuro.",
                "Por lo tanto, cualquier modelo de \"innovación\" de la red debe relacionar al menos tres procesos distintos: \"innovación\", competencia y enrutamiento.",
                "La etapa de \"innovación\" ocurre primero, en el tiempo 2- = t.",
                "Nuestra dinámica refleja el hecho de que las ISP toman decisiones de \"innovación\" con poca frecuencia.",
                "Por lo tanto, nuestro modelo coloca \"innovación\" en la etapa más temprana, intentando capturar una sola decisión de inversión.",
                "Debido a este orden, nuestro modelo no permite que las empresas enriquecen estratégicamente estratégicamente para afectar las decisiones futuras de \"innovación\" o contratación.",
                "El juego de \"innovación\" incluye las tres etapas.",
                "No pueden llevar a cabo amenazas que hicieron en la etapa de \"innovación\" si reduce su recompensa esperada.",
                "Nuestro esquema ya sugiere que el juego de enrutamiento es crucial para promover la \"innovación\".",
                "Para apoyar la \"innovación\", el juego de competencia debe recompensar de alguna manera a los ISP con alta calidad.",
                "Si el juego de enrutamiento siempre selecciona las rutas de menor costo, por ejemplo, no será compatible con la \"innovación\".",
                "Como argumentamos libremente anteriormente, tales caminos deben ser sostenibles para apoyar la \"innovación\".",
                "\"Innovación\" Game Competition Ruting Juego \"Innovación\" Etapa de competencia Etapa de rutas de enrutamiento Stage (Q) Contratos (precios) Profites T = -2 t = -1 t ∈ [0,) Figura 2: Dinámica del juego 186 Analogosamente al dilema de los prisioneros,Llamaremos a tal decisión en trampa.",
                "Mostraremos cómo la falta de monitoreo necesariamente conduce a un mal enrutamiento y disminuye la tasa de \"innovación\".",
                "Dado que el enrutamiento de menor precio no respalda la \"innovación\", podemos especular que la \"innovación\" se degrada con la duración de la ruta de datos.",
                "Por lo tanto, la recompensa por la \"innovación\" está limitada por la misma cantidad.",
                "El reclamo 2 puede verse alternativamente como un límite inferior sobre cuánto cuesta provocar \"innovación\" en una red.",
                "Esta propiedad es favorable desde una perspectiva de \"innovación\", ya que las empresas que invierten en alta calidad tenderán a caer en el camino óptimo, obteniendo un recompensa positivo.",
                "Se pueden dar condiciones adicionales bajo las cuales las decisiones de \"innovación\" abordan la eficiencia perfecta para grandes innovaciones.",
                "Una buena característica de este juego es que las decisiones individuales de \"innovación\" son eficientes, lo que significa que un nodo invertirá en una \"innovación\" siempre que el costo de inversión sea menor que el aumento del bienestar de la ruta de datos óptima.",
                "Hasta este punto, hemos adoptado el equilibrio inocente a prueba de coalición de rutas fijas como nuestro concepto de solución deseado, y demostramos que los monitores ROPC son suficientes para crear algunos juegos de competencia que sean deseables en términos de diversidad de servicios e \"innovación\".",
                "Antes de continuar, ¿qué significa que un juego sea deseable desde la perspectiva de la diversidad de servicios y la \"innovación\"?",
                "Sin embargo, sin información de ruta, ShopC I no es suficiente para nuestro primer mejor resultado de \"innovación\".",
                "Hemos argumentado que la mala responsabilidad de Internet es un obstáculo fundamental para aliviar las patologías de la mercantilización y la falta de \"innovación\".",
                "Para apoyar la diferenciación de servicios y la \"innovación\", puede ser más fácil diseñar el resto de los monitores de ruta directamente, evitando así la tarea de diseñar mecanismos para combinar monitores de componentes.",
                "Hemos demostrado que la capacidad de monitoreo de redes es fundamental para apoyar la \"innovación\", al igual que las instituciones que apoyan la contratación.",
                "Si bien una literatura significativa aborda la \"innovación\" en presencia de efectos de la red, según nuestro conocimiento, el nuestro es el primer modelo de \"innovación\" en una industria de red que incorpora con éxito la estructura topológica real como entrada."
            ],
            "translated_text": "",
            "candidates": [
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "Innovation",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "Innovación",
                "Innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación",
                "innovación"
            ],
            "error": []
        },
        "monitor": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible <br>monitor</br>.",
                "Such a <br>monitor</br> includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible <br>monitor</br> includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior <br>monitor</br> Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path <br>monitor</br> out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their <br>monitor</br> outputs with each other.",
                "The rest of path <br>monitor</br> then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a <br>monitor</br>, our model of the way that players receive external information about network behavior, A <br>monitor</br> is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A <br>monitor</br> that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A <br>monitor</br> that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A <br>monitor</br> that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to <br>monitor</br> what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The <br>monitor</br> then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP <br>monitor</br>.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable <br>monitor</br>.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable <br>monitor</br> is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of <br>monitor</br>: A contractible <br>monitor</br> is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the <br>monitor</br> and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a <br>monitor</br> (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received <br>monitor</br>, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc <br>monitor</br>, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc <br>monitor</br>, or is children each have an ROPc <br>monitor</br>.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any <br>monitor</br> that gives the source proof that the path quality is wrong is an ROPc <br>monitor</br>.",
                "Any <br>monitor</br> that gives the first hop proof that the quality is correct is a ROPc <br>monitor</br>.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc <br>monitor</br>, or the second has a ROPc <br>monitor</br>.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for <br>monitor</br> correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc <br>monitor</br>, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A <br>monitor</br> that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A <br>monitor</br> that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path <br>monitor</br>.",
                "What we have done, all in all, is constructed a rest of path <br>monitor</br> using SPATHc and SHOPc i as building blocks.",
                "Our new <br>monitor</br> includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path <br>monitor</br>, albeit a rather costly <br>monitor</br> in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path <br>monitor</br> can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality <br>monitor</br> can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a <br>monitor</br> space as a subspace of the quality space that a <br>monitor</br> can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Llamaremos a cualquier proceso que genere estas pruebas un \"monitor\" contratible.",
                "Tal \"monitor\" incluye dispositivos de medición o detección en la red física, pero es un concepto más general.",
                "El \"monitor\" contratible incluye cualquier mecanismo algorítmico distribuido que se utilice para motivar a los ISP a compartir esta información privada.",
                "El comportamiento de la red monitorea los pagos a prueba de contrato 184 Para resumir, argumentamos que la falta de responsabilidad de Internet debe abordarse antes de que se puedan resolver las patologías de la mercantilización y la falta de innovación.",
                "Describimos una forma de construir una ruta de \"monitor\" fuera de los monitores para la calidad del ISP individual y para la ruta de datos.",
                "Esto requiere un mecanismo para motivar a los ISP a compartir sus salidas de \"monitor\" entre sí.",
                "El resto del \"monitor\" de la ruta incluye los monitores de componentes y el mecanismo algorítmico distribuido que asegura que la información se comparta según sea necesario.",
                "Comenzamos definiendo un \"monitor\", nuestro modelo de la forma en que los jugadores reciben información externa sobre el comportamiento de la red, un \"monitor\" es cualquier mecanismo algorítmico distribuido que se ejecute en el gráfico de la red, y salidas, a nodos específicos, declaraciones informativas sobre actualeso comportamiento de red pasado.",
                "Las propiedades de responsabilidad de Internet pueden estar representadas por los siguientes monitores: E2E (de extremo a extremo): un \"monitor\" que informa a S/D sobre cuál es la calidad total de la ruta en cualquier momento (esta es la calidad que experimentan).",
                "ROP (resto de la ruta): un \"monitor\" que informa a cada nodo a lo largo de la ruta de datos cuál es la calidad para el resto de la ruta al destino.",
                "PRC (paquetes recibidos): un \"monitor\" que le dice a los nodos cuántos datos se aceptan entre sí, para que puedan cargar por volumen.",
                "Por lo tanto, en aras del realismo, no se puede usar para \"monitorear\" cuál es la ruta de datos.",
                "El \"Monitor\" luego incluye los monitores de componentes, así como cualquier mecanismo que esté en su lugar para motivar a los nodos a compartir la información honestamente según sea necesario.",
                "Por ejemplo, si la fuente tiene monitores que revelan las cualidades de los nodos individuales, podrían combinarse con información de ruta para crear un \"monitor\" de ROP.",
                "Si una señal informativa de monitorea puede transmitirse de manera creíble a otros, lo llamaremos un \"monitor\" verificable.",
                "Un \"monitor\" verificable es un mecanismo algorítmico distribuido que se ejecuta en el gráfico de red y salidas, a nodos específicos, pruebas sobre el comportamiento de la red actual o pasado.",
                "Para hacer esto, requeriremos nuestra tercera y última categoría de \"monitor\": un \"monitor\" contratible es simplemente un monitor verificable que genera pruebas que pueden servir como entrada a un contrato.",
                "Por lo tanto, el contratible es conjuntamente una propiedad del \"monitor\" y las instituciones que deben verificar sus pruebas.",
                "Cuando un \"monitor\" (junto con la infraestructura institucional) cumple con estos criterios, lo etiquetaremos con un subíndice C, para contratible.",
                "El lector puede recordar que así es como etiquetamos los paquetes recibidos \"Monitor\", PRC, que permite a los ISP formar contratos con pagos por paquete.",
                "Para probar la próxima afirmación, debemos ampliar nuestra noción de monitoreo del resto de la ruta para incluir el \"monitor\" de ROPC similar, que atestigua la calidad que comienza en su propio nodo, hasta el final de la ruta.",
                "Luego, para cada nodo, yo, no adyacente a D, tengo un \"monitor\" de ROPC, o los niños tienen un \"monitor\" de ROPC.",
                "Por definición, cualquier \"monitor\" que proporcione la fuente de la fuente de que la calidad de la ruta es incorrecta es un \"monitor\" de ROPC.",
                "Cualquier \"monitor\" que proporcione la primera prueba de salto de que la calidad es correcta es un \"monitor\" de ROPC.",
                "Por argumento similar al de la fuente, el primer salto tiene un \"monitor\" de ROPC, o el segundo tiene un \"monitor\" de ROPC.",
                "Las dos posibilidades para \"monitor\" corresponden a qué nodo tiene la carga de la prueba.",
                "Si enviar las pruebas es costoso, parece natural que los nodos prefieran usar el \"monitor\" de ROPC, colocando la carga de la prueba en el nodo aguas arriba.",
                "Esto está representado por los siguientes dos monitores: ShopC I: (calidad de lúpulo basada en la fuente) un \"monitor\" que le da a la fuente prueba de cuál es la calidad del nodo I.",
                "SPATHC: (ruta basada en la fuente) Un \"monitor\" que le da a la fuente prueba de lo que la ruta de datos es en cualquier momento, al menos en cuanto a la ruta de equilibrio.",
                "Por lo tanto, el proceso combinado es en sí mismo un resto de la ruta \"monitor\".",
                "Lo que hemos hecho, en general, se construye como un \"monitor\" del resto de la ruta utilizando Spathc y ShopC I como bloques de construcción.",
                "Nuestro nuevo \"monitor\" incluye tanto los monitores de componentes como cualquier mecanismo algorítmico distribuido que exista para asegurar que los nodos compartan sus pruebas correctamente.",
                "Por lo tanto, todo el proceso de descubrimiento actúa como un \"monitor\" de la ruta, aunque un \"monitor\" bastante costoso en este caso.",
                "Incluimos un ejemplo en el que los monitores de calidad de lúpulo individuales y un \"monitor\" de ruta también pueden cumplir con nuestro estándar para mantener la competencia.",
                "Un \"monitor\" de calidad nunca puede anticipar cada dimensión de calidad que las aplicaciones futuras les importará, ni puede anticipar un protocolo nuevo y valioso que introduce un ISP.",
                "Podemos definir un espacio de \"monitor\" como un subespacio del espacio de calidad que un \"monitor\" puede medir, QM ⊂ y una función de monitoreo correspondiente que simplemente proyecta la gama completa de cualidades en el espacio del monitor, MQM →:."
            ],
            "translated_text": "",
            "candidates": [
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitorear",
                "monitor",
                "Monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "Monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor",
                "monitor"
            ],
            "error": []
        },
        "contract": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete <br>contract</br> theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a <br>contract</br> based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the <br>contract</br> terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a <br>contract</br> is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a <br>contract</br> only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor <br>contract</br> Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a <br>contract</br> which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the <br>contract</br> are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is <br>contract</br> by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral <br>contract</br> competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any incentive to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a <br>contract</br>.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a <br>contract</br> with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the <br>contract</br> awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her <br>contract</br>, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a <br>contract</br> to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The incentive structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral <br>contract</br> competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources <br>contract</br> must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops <br>contract</br> with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral <br>contract</br> competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable <br>contract</br>.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each <br>contract</br> is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a <br>contract</br>.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a <br>contract</br> between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of Incentive Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its <br>contract</br>.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the <br>contract</br> j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Esto se debe a que los contratos dependen de las instituciones externas para que funcionen: el juez en el lenguaje de la teoría de \"contrato\" incompleta, o simplemente del sistema legal.",
                "En última instancia, si un juez no puede verificar que tenga alguna condición, no puede hacer cumplir un \"contrato\" basado en esa condición.",
                "Especialmente cuando un fallo de jueces se predice fácilmente, las partes normalmente cumplirán con los términos \"contrato\" en su propia volición.",
                "Una institución para apoyar los contratos es típicamente compleja, pero la abstrae de la siguiente manera: imaginamos que un \"contrato\" es un algoritmo que genera una transferencia de pago entre un conjunto de ISP (las partes) en cada vez.",
                "Por lo tanto, imaginamos que un \"contrato\" solo acepta pruebas como entradas.",
                "Network Behavior Monitor \"Contrato\" Pagos de prueba 184 Para resumir, argumentamos que la falta de responsabilidad de Internet debe abordarse antes de que se puedan resolver las patologías de la mercantilización y la falta de innovación.",
                "Si el tramposo tiene un \"contrato\" que incluye un período de bloqueo del cliente, 0T también incluye el tiempo hasta que los clientes puedan cambiar a un nuevo ISP.",
                "Para el resto de esta sección, asumiremos que los contratos también son lineales: hay un flujo de pago constante siempre que un nodo acepte datos, y todas las condiciones del \"contrato\" se cumplen.",
                "Restringir la atención a los contratos lineales nos permite representar algún nodo es \"contrato\" por su precio, PI.",
                "Cuando un juego de competencia usa exclusivamente contratos bilaterales, lo llamaremos un juego de competencia de \"contrato\" bilateral.",
                "Para hacer esto, requeriremos nuestra tercera y última categoría de monitor: un monitor contratible es simplemente un monitor verificable que genera pruebas que pueden servir como entrada a un \"contrato\".",
                "Deje que cada nodo en la ruta celebre un \"contrato\" con su padre, que fija un programa de pagos arbitrario siempre que el resto de la calidad de la ruta sea prescrita.",
                "Cuando el nodo principal, que tiene ROPC, presenta una prueba de que el resto de la calidad de la ruta es menor de lo esperado, el \"contrato\" le otorga una transferencia instantánea, p, desde el nodo aguas abajo.",
                "La fuente mide una disminución en la calidad, y según su \"contrato\", se otorga P del primer salto.",
                "En este orden, cada nodo selecciona un \"contrato\" para ofrecer a sus padres, que consiste en un resto de calidad de ruta y un precio lineal.",
                "Suponga un conjunto de monitores, y un juego de competencia bilateral de \"contrato\" bilateral que no se reduce a ninguna parte que siempre mantiene la calidad óptima en el equilibrio inocente a prueba de coalición de ruta fija, el equilibrio inocente, con solo un nodo permitido hacer trampa a la vez.",
                "Por lo tanto, las fuentes \"contratar\" deben distinguir cuándo la calidad de la ruta es normal de cuándo se reduce por trampa.",
                "El primer \"contrato\" con el segundo debe distinguir cuando se produce engaño después del primer salto.",
                "Con monitores E2E, ROP, Shopc I y PRC, y un juego de competencia de \"contrato\" bilateral de Nowhere-Commetizado, no se puede mantener la calidad óptima para todas las tareas de calidad y costo marginal, en la protección a prueba de coalición de ruta fija, el equilibrio innocente.",
                "Nuestra técnica permite que surjan contratos de un marco competitivo, por lo que la fuente se limita a seleccionar el \"contrato\" más deseable.",
                "Quizás su beneficio más importante es que cada \"contrato\" es de naturaleza local, por lo que ambas partes comparten una jurisdicción legal común y familiar.",
                "No hay necesidad de preocuparse por quién aplicará un castigo contra otro ISP en el lado opuesto del planeta, ni hay una disputa sobre cuyas reglas legales se aplicarán al interpretar un \"contrato\".",
                "La alternativa más clara es formar un \"contrato\" entre la fuente y cada nodo en la ruta.",
                "Deje que Subgame N sea el juego que comienza con N elegir su \"contrato\".",
                "Para el subgame n, defina el bienestar local sobre las rutas nll ∈, y sus posibles próximos lúpulos, nj <como sigue, () () j li ipathjl pcqqujlv −− = ∈ *,, (8) donde ql es la calidad de la ruta lEn el conjunto {n, ..., n} y Pathjq y PJ están la calidad y el precio del \"contrato\" que J ha ofrecido."
            ],
            "translated_text": "",
            "candidates": [
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "Contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contratar",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato",
                "contrato"
            ],
            "error": []
        },
        "incentive": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Network Monitors and Contracting Systems: Competition and Innovation Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu ABSTRACT Todays Internet industry suffers from several well-known pathologies, but none is as destructive in the long term as its resistance to evolution.",
                "Rather than introducing new services, ISPs are presently moving towards greater commoditization.",
                "It is apparent that the networks primitive system of contracts does not align incentives properly.",
                "In this study, we identify the networks lack of accountability as a fundamental obstacle to correcting this problem: Employing an economic model, we argue that optimal routes and innovation are impossible unless new monitoring capability is introduced and incorporated with the contracting system.",
                "Furthermore, we derive the minimum requirements a monitoring system must meet to support first-best routing and innovation characteristics.",
                "Our work does not constitute a new protocol; rather, we provide practical and specific guidance for the design of monitoring systems, as well as a theoretical framework to explore the factors that influence innovation.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; J.4 [Social And Behavioral Sciences]: Economics General Terms Economics, Theory, Measurement, Design, Legal Aspects. 1.",
                "INTRODUCTION Many studies before us have noted the Internets resistance to new services and evolution.",
                "In recent decades, numerous ideas have been developed in universities, implemented in code, and even written into the routers and end systems of the network, only to languish as network operators fail to turn them on on a large scale.",
                "The list includes Multicast, IPv6, IntServ, and DiffServ.",
                "Lacking the incentives just to activate services, there seems to be little hope of ISPs devoting adequate resources to developing new ideas.",
                "In the long term, this pathology stands out as a critical obstacle to the networks continued success (Ratnasamy, Shenker, and McCanne provide extensive discussion in [11]).",
                "On a smaller time scale, ISPs shun new services in favor of cost cutting measures.",
                "Thus, the network has characteristics of a commodity market.",
                "Although in theory, ISPs have a plethora of routing policies at their disposal, the prevailing strategy is to route in the cheapest way possible [2].",
                "On one hand, this leads directly to suboptimal routing.",
                "More importantly, commoditization in the short term is surely related to the lack of innovation in the long term.",
                "When the routing decisions of others ignore quality characteristics, ISPs are motivated only to lower costs.",
                "There is simply no reward for introducing new services or investing in quality improvements.",
                "In response to these pathologies and others, researchers have put forth various proposals for improving the situation.",
                "These can be divided according to three high-level strategies: The first attempts to improve the status quo by empowering end-users.",
                "Clark, et al., suggest that giving end-users control over routing would lead to greater service diversity, recognizing that some payment mechanism must also be provided [5].",
                "Ratnasamy, Shenker, and McCanne postulate a link between network evolution and user-directed routing [11].",
                "They propose a system of Anycast to give end-users the ability to tunnel their packets to an ISP that introduces a desirable protocol.",
                "The extra traffic to the ISP, the authors suggest, will motivate the initial investment.",
                "The second strategy suggests a revision of the contracting system.",
                "This is exemplified by MacKie-Mason and Varian, who propose a smart market to control access to network resources [10].",
                "Prices are set to the market-clearing level based on bids that users associate to their traffic.",
                "In another direction, Afergan and Wroclawski suggest that prices should be explicitly encoded in the routing protocols [2].",
                "They argue that such a move would improve stability and align incentives.",
                "The third high-level strategy calls for greater network accountability.",
                "In this vein, Argyraki, et al., propose a system of packet obituaries to provide feedback as to which ISPs drop packets [3].",
                "They argue that such feedback would help reveal which ISPs were adequately meeting their contractual obligations.",
                "Unlike the first two strategies, we are not aware of any previous studies that have connected accountability with the pathologies of commoditization or lack of innovation.",
                "It is clear that these three strategies are closely linked to each other (for example, [2], [5], and [9] each argue that giving end-users routing control within the current contracting system is problematic).",
                "Until today, however, the relationship between them has been poorly understood.",
                "There is currently little theoretical foundation to compare the relative merits of each proposal, and a particular lack of evidence linking accountability with innovation and service differentiation.",
                "This paper will address both issues.",
                "We will begin by introducing an economic network model that relates accountability, contracts, competition, and innovation.",
                "Our model is highly stylized and may be considered preliminary: it is based on a single source sending data to a single destination.",
                "Nevertheless, the structure is rich enough to expose previously unseen features of network behavior.",
                "We will use our model for two main purposes: First, we will use our model to argue that the lack of accountability in todays network is a fundamental obstacle to overcoming the pathologies of commoditization and lack of innovation.",
                "In other words, unless new monitoring capabilities are introduced, and integrated with the system of contracts, the network cannot achieve optimal routing and innovation characteristics.",
                "This result provides motivation for the remainder of the paper, in which we explore how accountability can be leveraged to overcome these pathologies and create a sustainable industry.",
                "We will approach this problem from a clean-slate perspective, deriving the level of accountability needed to sustain an ideal competitive structure.",
                "When we say that todays Internet has poor accountability, we mean that it reveals little information about the behavior - or misbehavior - of ISPs.",
                "This well-known trait is largely rooted in the networks history.",
                "In describing the design philosophy behind the Internet protocols, Clark lists accountability as the least important among seven second level goals. [4] Accordingly, accountability received little attention during the networks formative years.",
                "Clark relates this to the networks military context, and finds that had the network been designed for commercial development, accountability would have been a top priority.",
                "Argyraki, et al., conjecture that applying the principles of layering and transparency may have led to the networks lack of accountability [3].",
                "According to these principles, end hosts should be informed of network problems only to the extent that they are required to adapt.",
                "They notice when packet drops occur so that they can perform congestion control and retransmit packets.",
                "Details of where and why drops occur are deliberately concealed.",
                "The networks lack of accountability is highly relevant to a discussion of innovation because it constrains the system of contracts.",
                "This is because contracts depend upon external institutions to function - the judge in the language of incomplete contract theory, or simply the legal system.",
                "Ultimately, if a judge cannot verify that some condition holds, she cannot enforce a contract based on that condition.",
                "Of course, the vast majority of contracts never end up in court.",
                "Especially when a judges ruling is easily predicted, the parties will typically comply with the contract terms on their own volition.",
                "This would not be possible, however, without the judge acting as a last resort.",
                "An institution to support contracts is typically complex, but we abstract it as follows: We imagine that a contract is an algorithm that outputs a payment transfer among a set of ISPs (the parties) at every time.",
                "This payment is a function of the past and present behaviors of the participants, but only those that are verifiable.",
                "Hence, we imagine that a contract only accepts proofs as inputs.",
                "We will call any process that generates these proofs a contractible monitor.",
                "Such a monitor includes metering or sensing devices on the physical network, but it is a more general concept.",
                "Constructing a proof of a particular behavior may require readings from various devices distributed among many ISPs.",
                "The contractible monitor includes whatever distributed algorithmic mechanism is used to motivate ISPs to share this private information.",
                "Figure 1 demonstrates how our model of contracts fits together.",
                "We make the assumption that all payments are mediated by contracts.",
                "This means that without contractible monitors that attest to, say, latency, payments cannot be conditioned on latency.",
                "Figure 1: Relationship between monitors and contracts With this model, we may conclude that the level of accountability in todays Internet only permits best effort contracts.",
                "Nodes cannot condition payments on either quality or path characteristics.",
                "Is there anything wrong with best-effort contracts?",
                "The reader might wonder why the Internet needs contracts at all.",
                "After all, in non-network industries, traditional firms invest in research and differentiate their products, all in the hopes of keeping their customers and securing new ones.",
                "One might believe that such market forces apply to ISPs as well.",
                "We may adopt this as our null hypothesis: Null hypothesis: Market forces are sufficient to maintain service diversity and innovation on a network, at least to the same extent as they do in traditional markets.",
                "There is a popular intuitive argument that supports this hypothesis, and it may be summarized as follows: Intuitive argument supporting null hypothesis: 1.",
                "Access providers try to increase their quality to get more consumers. 2.",
                "Access providers are themselves customers for second hop ISPs, and the second hops will therefore try to provide highquality service in order to secure traffic from access providers.",
                "Access providers try to select high quality transit because that increases their quality. 3.",
                "The process continues through the network, giving every ISP a competitive reason to increase quality.",
                "We are careful to model our network in continuous time, in order to capture the essence of this argument.",
                "We can, for example, specify equilibria in which nodes switch to a new next hop in the event of a quality drop.",
                "Moreover, our model allows us to explore any theoretically possible punishments against cheaters, including those that are costly for end-users to administer.",
                "By contrast, customers in the real world rarely respond collectively, and often simply seek the best deal currently offered.",
                "These constraints limit their ability to punish cheaters.",
                "Even with these liberal assumptions, however, we find that we must reject our null hypothesis.",
                "Our model will demonstrate that identifying a cheating ISP is difficult under low accountability, limiting the threat of market driven punishment.",
                "We will define an index of commoditization and show that it increases without bound as data paths grow long.",
                "Furthermore, we will demonstrate a framework in which an ISPs maximum research investment decreases hyperbolically with its distance from the end-user.",
                "Network Behavior Monitor Contract Proof Payments 184 To summarize, we argue that the Internets lack of accountability must be addressed before the pathologies of commoditization and lack of innovation can be resolved.",
                "This leads us to our next topic: How can we leverage accountability to overcome these pathologies?",
                "We approach this question from a clean-slate perspective.",
                "Instead of focusing on incremental improvements, we try to imagine how an ideal industry would behave, then derive the level of accountability needed to meet that objective.",
                "According to this approach, we first craft a new equilibrium concept appropriate for network competition.",
                "Our concept includes the following requirements: First, we require that punishing ISPs that cheat is done without rerouting the path.",
                "Rerouting is likely to prompt end-users to switch providers, punishing access providers who administer punishments correctly.",
                "Next, we require that the equilibrium cannot be threatened by a coalition of ISPs that exchanges illicit side payments.",
                "Finally, we require that the punishment mechanism that enforces contracts does not punish innocent nodes that are not in the coalition.",
                "The last requirement is somewhat unconventional from an economic perspective, but we maintain that it is crucial for any reasonable solution.",
                "Although ISPs provide complementary services when they form a data path together, they are likely to be horizontal competitors as well.",
                "If innocent nodes may be punished, an ISP may decide to deliberately cheat and draw punishment onto itself and its neighbors.",
                "By cheating, the ISP may save resources, thereby ensuring that the punishment is more damaging to the other ISPs, which probably compete with the cheater directly for some customers.",
                "In the extreme case, the cheater may force the other ISPs out of business, thereby gaining a monopoly on some routes.",
                "Applying this equilibrium concept, we derive the monitors needed to maintain innovation and optimize routes.",
                "The solution is surprisingly simple: contractible monitors must report the quality of the rest of the path, from each ISP to the destination.",
                "It turns out that this is the correct minimum accountability requirement, as opposed to either end-to-end monitors or hop-by-hop monitors, as one might initially suspect.",
                "Rest of path monitors can be implemented in various ways.",
                "They may be purely local algorithms that listen for packet echoes.",
                "Alternately, they can be distributed in nature.",
                "We describe a way to construct a rest of path monitor out of monitors for individual ISP quality and for the data path.",
                "This requires a mechanism to motivate ISPs to share their monitor outputs with each other.",
                "The rest of path monitor then includes the component monitors and the distributed algorithmic mechanism that ensures that information is shared as required.",
                "This example shows that other types of monitors may be useful as building blocks, but must be combined to form rest of path monitors in order to achieve ideal innovation characteristics.",
                "Our study has several practical implications for future protocol design.",
                "We show that new monitors must be implemented and integrated with the contracting system before the pathologies of commoditization and lack of innovation can be overcome.",
                "Moreover, we derive exactly what monitors are needed to optimize routes and support innovation.",
                "In addition, our results provide useful input for clean-slate architectural design, and we use several novel techniques that we expect will be applicable to a variety of future research.",
                "The rest of this paper is organized as follows: In section 2, we lay out our basic network model.",
                "In section 3, we present a lowaccountability network, modeled after todays Internet.",
                "We demonstrate how poor monitoring causes commoditization and a lack of innovation.",
                "In section 4, we present verifiable monitors, and show that proofs, even without contracts, can improve the status quo.",
                "In section 5, we turn our attention to contractible monitors.",
                "We show that rest of path monitors can support competition games with optimal routing and innovation.",
                "We further show that rest of path monitors are required to support such competition games.",
                "We continue by discussing how such monitors may be constructed using other monitors as building blocks.",
                "In section 6, we conclude and present several directions for future research. 2.",
                "BASIC NETWORK MODEL A source, S, wants to send data to destination, D. S and D are nodes on a directed, acyclic graph, with a finite set of intermediate nodes, { }NV ,...2,1= , representing ISPs.",
                "All paths lead to D, and every node not connected to D has at least two choices for next hop.",
                "We will represent quality by a finite dimensional vector space, Q, called the quality space.",
                "Each dimension represents a distinct network characteristic that end-users care about.",
                "For example, latency, loss probability, jitter, and IP version can each be assigned to a dimension.",
                "To each node, i, we associate a vector in the quality space, Qqi ∈ .",
                "This corresponds to the quality a user would experience if i were the only ISP on the data path.",
                "Let N Q∈q be the vector of all node qualities.",
                "Of course, when data passes through multiple nodes, their qualities combine in some way to yield a path quality.",
                "We represent this by an associative binary operation, *: QQQ →× .",
                "For path ( )nvvv ,...,, 21 , the quality is given by nvvv qqq ∗∗∗ ...21 .",
                "The * operation reflects the characteristics of each dimension of quality.",
                "For example, * can act as an addition in the case of latency, multiplication in the case of loss probability, or a minimumargument function in the case of security.",
                "When data flows along a complete path from S to D, the source and destination, generally regarded as a single player, enjoy utility given by a function of the path quality, →Qu : .",
                "Each node along the path, i, experiences some cost of transmission, ci. 2.1 Game Dynamics Ultimately, we are most interested in policies that promote innovation on the network.",
                "In this study, we will use innovation in a fairly general sense.",
                "Innovation describes any investment by an ISP that alters its quality vector so that at least one potential data path offers higher utility.",
                "This includes researching a new routing algorithm that decreases the amount of jitter users experience.",
                "It also includes deploying a new protocol that supports quality of service.",
                "Even more broadly, buying new equipment to decrease S D 185 latency may also be regarded as innovation.",
                "Innovation may be thought of as the micro-level process by which the network evolves.",
                "Our analysis is limited in one crucial respect: We focus on inventions that a single ISP can implement to improve the end-user experience.",
                "This excludes technologies that require adoption by all ISPs on the network to function.",
                "Because such technologies do not create a competitive advantage, rewarding them is difficult and may require intellectual property or some other market distortion.",
                "We defer this interesting topic to future work.",
                "At first, it may seem unclear how a large-scale distributed process such as innovation can be influenced by mechanical details like networks monitors.",
                "Our model must draw this connection in a realistic fashion.",
                "The rate of innovation depends on the profits that potential innovators expect in the future.",
                "The reward generated by an invention must exceed the total cost to develop it, or the inventor will not rationally invest.",
                "This reward, in turn, is governed by the competitive environment in which the firm operates, including the process by which firms select prices, and agree upon contracts with each other.",
                "Of course, these decisions depend on how routes are established, and how contracts determine actual monetary exchanges.",
                "Any model of network innovation must therefore relate at least three distinct processes: innovation, competition, and routing.",
                "We select a game dynamics that makes the relation between these processes as explicit as possible.",
                "This is represented schematically in Figure 2.",
                "The innovation stage occurs first, at time 2−=t .",
                "In this stage, each agent decides whether or not to make research investments.",
                "If she chooses not to, her quality remains fixed.",
                "If she makes an investment, her quality may change in some way.",
                "It is not necessary for us to specify how such changes take place.",
                "The agents choices in this stage determine the vector of qualities, q, common knowledge for the rest of the game.",
                "Next, at time 1−=t , agents participate in the competition stage, in which contracts are agreed upon.",
                "In todays industry, these contracts include prices for transit access, and peering agreements.",
                "Since access is provided on a best-effort basis, a transit agreement can simply be represented by its price.",
                "Other contracting systems we will explore will require more detail.",
                "Finally, beginning at 0=t , firms participate in the routing stage.",
                "Other research has already employed repeated games to study routing, for example [1], [12].",
                "Repetition reveals interesting effects not visible in a single stage game, such as informal collusion to elevate prices in [12].",
                "We use a game in continuous time in order to study such properties.",
                "For example, we will later ask whether a player will maintain higher quality than her contracts require, in the hope of keeping her customer base or attracting future customers.",
                "Our dynamics reflect the fact that ISPs make innovation decisions infrequently.",
                "Although real firms have multiple opportunities to innovate, each opportunity is followed by a substantial length of time in which qualities are fixed.",
                "The decision to invest focuses on how the firms new quality will improve the contracts it can enter into.",
                "Hence, our model places innovation at the earliest stage, attempting to capture a single investment decision.",
                "Contracting decisions are made on an intermediate time scale, thus appearing next in the dynamics.",
                "Routing decisions are made very frequently, mainly to maximize immediate profit flows, so they appear in the last stage.",
                "Because of this ordering, our model does not allow firms to route strategically to affect future innovation or contracting decisions.",
                "In opposition, Afergan and Wroclawski argue that contracts are formed in response to current traffic patterns, in a feedback loop [2].",
                "Although we are sympathetic to their observation, such an addition would make our analysis intractable.",
                "Our model is most realistic when contracting decisions are infrequent.",
                "Throughout this paper, our solution concept will be a subgame perfect equilibrium (SPE).",
                "An SPE is a strategy point that is a Nash equilibrium when restricted to each subgame.",
                "Three important subgames have been labeled in Figure 2.",
                "The innovation game includes all three stages.",
                "The competition game includes only the competition stage and the routing stage.",
                "The routing game includes only the routing stage.",
                "An SPE guarantees that players are forward-looking.",
                "This means, for example, that in the competition stage, firms must act rationally, maximizing their expected profits in the routing stage.",
                "They cannot carry out threats they made in the innovation stage if it lowers their expected payoff.",
                "Our schematic already suggests that the routing game is crucial for promoting innovation.",
                "To support innovation, the competition game must somehow reward ISPs with high quality.",
                "But that means that the routing game must tend to route to nodes with high quality.",
                "If the routing game always selects the lowest-cost routes, for example, innovation will not be supported.",
                "We will support this observation with analysis later. 2.2 The Routing Game The routing game proceeds in continuous time, with all players discounting by a common factor, r. The outputs from previous stages, q and the set of contracts, are treated as exogenous parameters for this game.",
                "For each time 0≥t , each node must select a next hop to route data to.",
                "Data flows across the resultant path, causing utility flow to S and D, and a flow cost to the nodes on the path, as described above.",
                "Payment flows are also created, based on the contracts in place.",
                "Relating our game to the familiar repeated prisoners dilemma, imagine that we are trying to impose a high quality, but costly path.",
                "As we argued loosely above, such paths must be sustainable in order to support innovation.",
                "Each ISP on the path tries to maximize her own payment, net of costs, so she may not want to cooperate with our plan.",
                "Rather, if she can find a way to save on costs, at the expense of the high quality we desire, she will be tempted to do so.",
                "Innovation Game Competition Game Routing Game Innovation stage Competition stage Routing stageQualities (q) Contracts (prices) Profits t = -2 t = -1 t ∈ [ 0 , ) Figure 2: Game Dynamics 186 Analogously to the prisoners dilemma, we will call such a decision cheating.",
                "A little more formally, Cheating refers to any action that an ISP can take, contrary to some target strategy point that we are trying to impose, that enhances her immediate payoff, but compromises the quality of the data path.",
                "One type of cheating relates to the data path.",
                "Each node on the path has to pay the next node to deliver its traffic.",
                "If the next node offers high quality transit, we may expect that a lower quality node will offer a lower price.",
                "Each node on the path will be tempted to route to a cheaper next hop, increasing her immediate profits, but lowering the path quality.",
                "We will call this type of action cheating in route.",
                "Another possibility we can model, is that a node finds a way to save on its internal forwarding costs, at the expense of its own quality.",
                "We will call this cheating internally to distinguish it from cheating in route.",
                "For example, a node might drop packets beyond the rate required for congestion control, in order to throttle back TCP flows and thus save on forwarding costs [3].",
                "Alternately, a node employing quality of service could give high priority packets a lower class of service, thus saving on resources and perhaps allowing itself to sell more high priority service.",
                "If either cheating in route or cheating internally is profitable, the specified path will not be an equilibrium.",
                "We assume that cheating can never be caught instantaneously.",
                "Rather, a cheater can always enjoy the payoff from cheating for some positive time, which we label 0t .",
                "This includes the time for other players to detect and react to the cheating.",
                "If the cheater has a contract which includes a customer lock-in period, 0t also includes the time until customers are allowed to switch to a new ISP.",
                "As we will see later, it is socially beneficial to decrease 0t , so such lock-in is detrimental to welfare. 3.",
                "PATHOLOGIES OF A LOWACCOUNTABILITY NETWORK In order to motivate an exploration of monitoring systems, we begin in this section by considering a network with a poor degree of accountability, modeled after todays Internet.",
                "We will show how the lack of monitoring necessarily leads to poor routing and diminishes the rate of innovation.",
                "Thus, the networks lack of accountability is a fundamental obstacle to resolving these pathologies. 3.1 Accountability in the Current Internet First, we reflect on what accountability characteristics the present Internet has.",
                "Argyraki, et al., point out that end hosts are given minimal information about packet drops [3].",
                "Users know when drops occur, but not where they occur, nor why.",
                "Dropped packets may represent the innocent signaling of congestion, or, as we mentioned above, they may be a form of cheating internally.",
                "The problem is similar for other dimensions of quality, or in fact more acute.",
                "Finding an ISP that gives high priority packets a lower class of service, for example, is further complicated by the lack of even basic diagnostic tools.",
                "In fact, it is similarly difficult to identify an ISP that cheats in route.",
                "Huston notes that Internet traffic flows do not always correspond to routing information [8].",
                "An ISP may hand a packet off to a neighbor regardless of what routes that neighbor has advertised.",
                "Furthermore, blocks of addresses are summarized together for distant hosts, so a destination may not even be resolvable until packets are forwarded closer.",
                "One might argue that diagnostic tools like ping and traceroute can identify cheaters.",
                "Unfortunately, Argyraki, et al., explain that these tools only reveal whether probe packets are echoed, not the fate of past packets [3].",
                "Thus, for example, they are ineffective in detecting low-frequency packet drops.",
                "Even more fundamentally, a sophisticated cheater can always spot diagnostic packets and give them special treatment.",
                "As a further complication, a cheater may assume different aliases for diagnostic packets arriving over different routes.",
                "As we will see below, this gives the cheater a significant advantage in escaping punishment for bad behavior, even if the data path is otherwise observable. 3.2 Modeling Low-Accountability As the above evidence suggests, the current industry allows for very little insight into the behavior of the network.",
                "In this section, we attempt to capture this lack of accountability in our model.",
                "We begin by defining a monitor, our model of the way that players receive external information about network behavior, A monitor is any distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, informational statements about current or past network behavior.",
                "We assume that all external information about network behavior is mediated in this way.",
                "The accountability properties of the Internet can be represented by the following monitors: E2E (End to End): A monitor that informs S/D about what the total path quality is at any time (this is the quality they experience).",
                "ROP (Rest of Path): A monitor that informs each node along the data path what the quality is for the rest of the path to the destination.",
                "PRc (Packets Received): A monitor that tells nodes how much data they accept from each other, so that they can charge by volume.",
                "It is important to note, however, that this information is aggregated over many source-destination pairs.",
                "Hence, for the sake of realism, it cannot be used to monitor what the data path is.",
                "Players cannot measure the qualities of other, single nodes, just the rest of the path.",
                "Nodes cannot see the path past the next hop.",
                "This last assumption is stricter than needed for our results.",
                "The critical ingredient is that nodes cannot verify that the path avoids a specific hop.",
                "This holds, for example, if the path is generally visible, except nodes can use different aliases for different parents.",
                "Similar results also hold if alternate paths always converge after some integer number, m, of hops.",
                "It is important to stress that E2E and ROP are not the contractible monitors we described in the introduction - they do not generate proofs.",
                "Thus, even though a player observes certain information, she generally cannot credibly share it with another player.",
                "For example, if a node after the first hop starts cheating, the first hop will detect the sudden drop in quality for the rest of the path, but the first hop cannot make the source believe this observation - the 187 source will suspect that the first hop was the cheater, and fabricated the claim against the rest of the path.",
                "Typically, E2E and ROP are envisioned as algorithms that run on a single node, and listen for packet echoes.",
                "This is not the only way that they could be implemented, however; an alternate strategy is to aggregate quality measurements from multiple points in the network.",
                "These measurements can originate in other monitors, located at various ISPs.",
                "The monitor then includes the component monitors as well as whatever mechanisms are in place to motivate nodes to share information honestly as needed.",
                "For example, if the source has monitors that reveal the qualities of individual nodes, they could be combined with path information to create an ROP monitor.",
                "Since we know that contracts only accept proofs as input, we can infer that payments in this environment can only depend on the number of packets exchanged between players.",
                "In other words, contracts are best-effort.",
                "For the remainder of this section, we will assume that contracts are also linear - there is a constant payment flow so long as a node accepts data, and all conditions of the contract are met.",
                "Other, more complicated tariffs are also possible, and are typically used to generate lock-in.",
                "We believe that our parameter t0 is sufficient to describe lock-in effects, and we believe that the insights in this section apply equally to any tariffs that are bounded so that the routing game remains continuous at infinity.",
                "Restricting attention to linear contracts allows us to represent some node is contract by its price, pi.",
                "Because we further know that nodes cannot observe the path after the next hop, we can infer that contracts exist only between neighboring nodes on the graph.",
                "We will call this arrangement of contracts bilateral.",
                "When a competition game exclusively uses bilateral contracts, we will call it a bilateral contract competition game.",
                "We first focus on the routing game and ask whether a high quality route can be maintained, even when a low quality route is cheaper.",
                "Recall that this is a requirement in order for nodes to have any <br>incentive</br> to innovate.",
                "If nodes tend to route to low price next hops, regardless of quality, we say that the network is commoditized.",
                "To measure this tendency, we define an index of commoditization as follows: For a node on the data path, i, define its quality premium, minppd ji −= , where pj is the flow payment to the next hop in equilibrium, and pmin is the price of the lowest cost next hop.",
                "Definition: The index of commoditization, CI , is the average, over each node on the data path, i, of is flow profit as a fraction of is quality premium, ( ) ijii dpcp /−− .",
                "CI ranges from 0, when each node spends all of its potential profit on its quality premium, to infinite, when a node absorbs positive profit, but uses the lowest price next hop.",
                "A high value for CI implies that nodes are spending little of their money inflow on purchasing high quality for the rest of the path.",
                "As the next claim shows, this is exactly what happens as the path grows long: Claim 1.",
                "If the only monitors are E2E, ROP, and PRc, ∞→CI as ∞→n , where n is the number of nodes on the data path.",
                "To show that this is true, we first need the following lemma, which will establish the difficulty of punishing nodes in the network.",
                "First a bit of notation: Recall that a cheater can benefit from its actions for 00 >t before other players can react.",
                "When a node cheats, it can expect a higher profit flow, at least until it is caught and other players react, perhaps by diverting traffic.",
                "Let node is normal profit flow be iπ , and her profit flow during cheating be some greater value, yi.",
                "We will call the ratio, iiy π/ , the temptation to cheat.",
                "Lemma 1.",
                "If the only monitors are E2E, ROP, and PRc, the discounted time, −nt rt e 0 , needed to punish a cheater increases at least as fast as the product of the temptations to cheat along the data path, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corollary.",
                "If nodes share a minimum temptation to cheat, π/y , the discounted time needed to punish cheating increases at least exponentially in the length of the data path, n, −− ≥ 0 00 t rt nt rt e y e n π (2) Since it is the discounted time that increases exponentially, the actual time increases faster than exponentially.",
                "If n is so large that tn is undefined, the given path cannot be maintained in equilibrium.",
                "Proof.",
                "The proof proceeds by induction on the number of nodes on the equilibrium data path, n. For 1=n , there is a single node, say i.",
                "By cheating, the node earns extra profit ( ) − − 0 0 t rt ii ey π .",
                "If node i is then punished until time 1t , the extra profit must be cancelled out by the lost profit between time 0t and 1t , −1 0 t t rt i eπ .",
                "A little manipulation gives −− = 01 00 t rt i i t rt e y e π , as required.",
                "For 1>n , assume for induction that the claim holds for 1−n .",
                "The source does not know whether the cheater is the first hop, or after the first hop.",
                "Because the source does not know the data path after the first hop, it is unable to punish nodes beyond it.",
                "If it chooses a new first hop, it might not affect the rest of the data path.",
                "Because of this, the source must rely on the first hop to punish cheating nodes farther along the path.",
                "The first hop needs discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , to accomplish this by assumption.",
                "So the source must give the first hop this much discounted time in order to punish defectors further down the line (and the source will expect poor quality during this period).",
                "Next, the source must be protected against a first hop that cheats, and pretends that the problem is later in the path.",
                "The first hop can 188 do this for the full discounted time, ∏ −0 0 hopfirstafter t rt i i i e y π , so the source must punish the first hop long enough to remove the extra profit it can make.",
                "Following the same argument as for 1=n , we can show that the full discounted time is ∏ −0 0 pathdataon t rt i i i e y π , which completes the proof.",
                "The above lemma and its corollary show that punishing cheaters becomes more and more difficult as the data path grows long, until doing so is impossible.",
                "To capture some intuition behind this result, imagine that you are an end user, and you notice a sudden drop in service quality.",
                "If your data only travels through your access provider, you know it is that providers fault.",
                "You can therefore take your business elsewhere, at least for some time.",
                "This threat should motivate your provider to maintain high quality.",
                "Suppose, on the other hand, that your data traverses two providers.",
                "When you complain to your ISP, he responds, yes, we know your quality went down, but its not our fault, its the next ISP.",
                "Give us some time to punish them and then normal quality will resume.",
                "If your access provider is telling the truth, you will want to listen, since switching access providers may not even route around the actual offender.",
                "Thus, you will have to accept lower quality service for some longer time.",
                "On the other hand, you may want to punish your access provider as well, in case he is lying.",
                "This means you have to wait longer to resume normal service.",
                "As more ISPs are added to the path, the time increases in a recursive fashion.",
                "With this lemma in hand, we can return to prove Claim 1.",
                "Proof of Claim 1.",
                "Fix an equilibrium data path of length n. Label the path nodes 1,2,…,n.",
                "For each node i, let is quality premium be 11 ++ −= iii ppd .",
                "Then we have, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) where gi is node is temptation to cheat by routing to the lowest price next hop.",
                "Lemma 1 tells us that Tg n i i <∏ =1 , where ( )01 rt eT − −= .",
                "It requires a bit of calculus to show that IC is minimized by setting each gi equal to n T /1 .",
                "However, as ∞→n , we have 1/1 →n T , which shows that ∞→CI .",
                "According to the claim, as the data path grows long, it increasingly resembles a lowest-price path.",
                "Since lowest-price routing does not support innovation, we may speculate that innovation degrades with the length of the data path.",
                "Though we suspect stronger claims are possible, we can demonstrate one such result by including an extra assumption: Available Bargain Path: A competitive market exists for lowcost transit, such that every node can route to the destination for no more than flow payment, lp .",
                "Claim 2.",
                "Under the available bargain path assumption, if node i , a distance n from S, can invest to alter its quality, and the source will spend no more than sP for a route including node is new quality, then the payment to node i, p, decreases hyperbolically with n, ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) where ( )01 rt eT − −= is the bound on the product of temptations from the previous claim.",
                "Thus, i will spend no more than ( ) ( )− + − s n l P n T p r 1 1 1/1 on this quality improvement, which approaches the bargain paths payment, r pl , as ∞→n .",
                "The proof is given in the appendix.",
                "As a node gets farther from the source, its maximum payment approaches the bargain price, pl.",
                "Hence, the reward for innovation is bounded by the same amount.",
                "Large innovations, meaning substantially more expensive than rpl / , will not be pursued deep into the network.",
                "Claim 2 can alternately be viewed as a lower bound on how much it costs to elicit innovation in a network.",
                "If the source S wants node i to innovate, it needs to get a motivating payment, p, to i during the routing stage.",
                "However, it must also pay the nodes on the way to i a premium in order to motivate them to route properly.",
                "The claim shows that this premium increases with the distance to i, until it dwarfs the original payment, p. Our claims stand in sharp contrast to our null hypothesis from the introduction.",
                "Comparing the intuitive argument that supported our hypothesis with these claims, we can see that we implicitly used an oversimplified model of market pressure (as either present or not).",
                "As is now clear, market pressure relies on the decisions of customers, but these are limited by the lack of information.",
                "Hence, competitive forces degrade as the network deepens. 4.",
                "VERIFIABLE MONITORS In this section, we begin to introduce more accountability into the network.",
                "Recall that in the previous section, we assumed that players couldnt convince each other of their private information.",
                "What would happen if they could?",
                "If a monitors informational signal can be credibly conveyed to others, we will call it a verifiable monitor.",
                "The monitors output in this case can be thought of as a statement accompanied by a proof, a string that can be processed by any player to determine that the statement is true.",
                "A verifiable monitor is a distributed algorithmic mechanism that runs on the network graph, and outputs, to specific nodes, proofs about current or past network behavior.",
                "Along these lines, we can imagine verifiable counterparts to E2E and ROP.",
                "We will label these E2Ev and ROPv.",
                "With these monitors, each node observes the quality of the rest of the path and can also convince other players of these observations by giving them a proof. 189 By adding verifiability to our monitors, identifying a single cheater is straightforward.",
                "The cheater is the node that cannot produce proof that the rest of path quality decreased.",
                "This means that the negative results of the previous section no longer hold.",
                "For example, the following lemma stands in contrast to Lemma 1.",
                "Lemma 2.",
                "With monitors E2Ev, ROPv, and PRc, and provided that the node before each potential cheater has an alternate next hop that isnt more expensive, it is possible to enforce any data path in SPE so long as the maximum temptation is less than what can be deterred in finite time, − ≤ 0 0 max 1 t rt er y π (5) Proof.",
                "This lemma follows because nodes can share proofs to identify who the cheater is.",
                "Only that node must be punished in equilibrium, and the preceding node does not lose any payoff in administering the punishment.",
                "With this lemma in mind, it is easy to construct counterexamples to Claim 1 and Claim 2 in this new environment.",
                "Unfortunately, there are at least four reasons not to be satisfied with this improved monitoring system.",
                "The first, and weakest reason is that the maximum temptation remains finite, causing some distortion in routes or payments.",
                "Each node along a route must extract some positive profit unless the next hop is also the cheapest.",
                "Of course, if t0 is small, this effect is minimal.",
                "The second, and more serious reason is that we have always given our source the ability to commit to any punishment.",
                "Real world users are less likely to act collectively, and may simply search for the best service currently offered.",
                "Since punishment phases are generally characterized by a drop in quality, real world end-users may take this opportunity to shop for a new access provider.",
                "This will make nodes less motivated to administer punishments.",
                "The third reason is that Lemma 2 does not apply to cheating by coalitions.",
                "A coalition node may pretend to punish its successor, but instead enjoy a secret payment from the cheating node.",
                "Alternately, a node may bribe its successor to cheat, if the punishment phase is profitable, and so forth.",
                "The required discounted time for punishment may increase exponentially in the number of coalition members, just as in the previous section!",
                "The final reason not to accept this monitoring system is that when a cheater is punished, the path will often be routed around not just the offender, but around other nodes as well.",
                "Effectively, innocent nodes will be punished along with the guilty.",
                "In our abstract model, this doesnt cause trouble since the punishment falls off the equilibrium path.",
                "The effects are not so benign in the real world.",
                "When ISPs lie in sequence along a data path, they contribute complementary services, and their relationship is vertical.",
                "From the perspective of other source-destination pairs, however, these same firms are likely to be horizontal competitors.",
                "Because of this, a node might deliberately cheat, in order to trigger punishment for itself and its neighbors.",
                "By cheating, the node will save money to some extent, so the cheater is likely to emerge from the punishment phase better off than the innocent nodes.",
                "This may give the cheater a strategic advantage against its competitors.",
                "In the extreme, the cheater may use such a strategy to drive neighbors out of business, and thereby gain a monopoly on some routes. 5.",
                "CONTRACTIBLE MONITORS At the end of the last section, we identified several drawbacks that persist in an environment with E2Ev, ROPv, and PRc.",
                "In this section, we will show how all of these drawbacks can be overcome.",
                "To do this, we will require our third and final category of monitor: A contractible monitor is simply a verifiable monitor that generates proofs that can serve as input to a contract.",
                "Thus, contractible is jointly a property of the monitor and the institutions that must verify its proofs.",
                "Contractibility requires that a court, 1.",
                "Can verify the monitors proofs. 2.",
                "Can understand what the proofs and contracts represent to the extent required to police illegal activity. 3.",
                "Can enforce payments among contracting parties.",
                "Understanding the agreements between companies has traditionally been a matter of reading contracts on paper.",
                "This may prove to be a harder task in a future network setting.",
                "Contracts may plausibly be negotiated by machine, be numerous, even per-flow, and be further complicated by the many dimensions of quality.",
                "When a monitor (together with institutional infrastructure) meets these criteria, we will label it with a subscript c, for contractible.",
                "The reader may recall that this is how we labeled the packets received monitor, PRc, which allows ISPs to form contracts with per-packet payments.",
                "Similarly, E2Ec and ROPc are contractible versions of the monitors we are now familiar with.",
                "At the end of the previous section, we argued for some desirable properties that wed like our solution to have.",
                "Briefly, we would like to enforce optimal data paths with an equilibrium concept that doesnt rely on re-routing for punishment, is coalition proof, and doesnt punish innocent nodes when a coalition cheats.",
                "We will call such an equilibrium a fixed-route coalition-proof protect-theinnocent equilibrium.",
                "As the next claim shows, ROPc allows us to create a system of linear (price, quality) contracts under just such an equilibrium.",
                "Claim 3.",
                "With ROPc, for any feasible and consistent assignment of rest of path qualities to nodes, and any corresponding payment schedule that yields non-negative payoffs, these qualities can be maintained with bilateral contracts in a fixed-route coalition-proof protect-the-innocent equilibrium.",
                "Proof: Fix any data path consistent with the given rest of path qualities.",
                "Select some monetary punishment, P, large enough to prevent any cheating for time t0 (the discounted total payment from the source will work).",
                "Let each node on the path enter into a contract with its parent, which fixes an arbitrary payment schedule so long as the rest of path quality is as prescribed.",
                "When the parent node, which has ROPc, submits a proof that the rest of path quality is less than expected, the contract awards her an instantaneous transfer, P, from the downstream node.",
                "Such proofs can be submitted every 0t for the previous interval.",
                "Suppose now that a coalition, C, decides to cheat.",
                "The source measures a decrease in quality, and according to her contract, is awarded P from the first hop.",
                "This means that there is a net outflow of P from the ISPs as a whole.",
                "Suppose that node i is not in C. In order for the parent node to claim P from i, it must submit proof that the quality of the path starting at i is not as prescribed.",
                "This means 190 that there is a cheater after i.",
                "Hence, i would also have detected a change in quality, so i can claim P from the next node on the path.",
                "Thus, innocent nodes are not punished.",
                "The sequence of payments must end by the destination, so the net outflow of P must come from the nodes in C. This establishes all necessary conditions of the equilibrium.",
                "Essentially, ROPc allows for an implementation of (price, quality) contracts.",
                "Building upon this result, we can construct competition games in which nodes offer various qualities to each other at specified prices, and can credibly commit to meet these performance targets, even allowing for coalitions and a desire to damage other ISPs.",
                "Example 1.",
                "Define a Stackelberg price-quality competition game as follows: Extend the partial order of nodes induced by the graph to any complete ordering, such that downstream nodes appear before their parents.",
                "In this order, each node selects a contract to offer to its parents, consisting of a rest of path quality, and a linear price.",
                "In the routing game, each node selects a next hop at every time, consistent with its advertised rest of path quality.",
                "The Stackelberg price-quality competition game can be implemented in our model with ROPc monitors, by using the strategy in the proof, above.",
                "It has the following useful property: Claim 4.",
                "The Stackelberg price-quality competition game yields optimal routes in SPE.",
                "The proof is given in the appendix.",
                "This property is favorable from an innovation perspective, since firms that invest in high quality will tend to fall on the optimal path, gaining positive payoff.",
                "In general, however, investments may be over or under rewarded.",
                "Extra conditions may be given under which innovation decisions approach perfect efficiency for large innovations.",
                "We omit the full analysis here.",
                "Example 2.",
                "Alternately, we can imagine that players report their private information to a central authority, which then assigns all contracts.",
                "For example, contracts could be computed to implement the cost-minimizing VCG mechanism proposed by Feigenbaum, et al. in [7].",
                "With ROPc monitors, we can adapt this mechanism to maximize welfare.",
                "For node, i, on the optimal path, L, the net payment must equal, essentially, its contribution to the welfare of S, D, and the other nodes.",
                "If L is an optimal path in the graph with i removed, the profit flow to i is, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) where Lq and Lq are the qualities of the two paths.",
                "Here, (price, quality) contracts ensure that nodes report their qualities honestly.",
                "The <br>incentive</br> structure of the VCG mechanism is what motivates nodes to report their costs accurately.",
                "A nice feature of this game is that individual innovation decisions are efficient, meaning that a node will invest in an innovation whenever the investment cost is less than the increased welfare of the optimal data path.",
                "Unfortunately, the source may end up paying more than the utility of the path.",
                "Notice that with just E2Ec, a weaker version of Claim 3 holds.",
                "Bilateral (price, quality) contracts can be maintained in an equilibrium that is fixed-route and coalition-proof, but not protectthe-innocent.",
                "This is done by writing contracts to punish everyone on the path when the end to end quality drops.",
                "If the path length is n, the first hop pays nP to the source, the second hop pays ( )Pn 1− to the first, and so forth.",
                "This ensures that every node is punished sufficiently to make cheating unprofitable.",
                "For the reasons we gave previously, we believe that this solution concept is less than ideal, since it allows for malicious nodes to deliberately trigger punishments for potential competitors.",
                "Up to this point, we have adopted fixed-route coalition-proof protect-the-innocent equilibrium as our desired solution concept, and shown that ROPc monitors are sufficient to create some competition games that are desirable in terms of service diversity and innovation.",
                "As the next claim will show, rest of path monitoring is also necessary to construct such games under our solution concept.",
                "Before we proceed, what does it mean for a game to be desirable from the perspective of service diversity and innovation?",
                "We will use a very weak assumption, essentially, that the game is not fully commoditized for any node.",
                "The claim will hold for this entire class of games.",
                "Definition: A competition game is nowhere-commoditized if for each node, i, not adjacent to D, there is some assignment of qualities and marginal costs to nodes, such that the optimal data path includes i, and i has a positive temptation to cheat.",
                "In the case of linear contracts, it is sufficient to require that ∞<CI , and that every node make positive profit under some assignment of qualities and marginal costs.",
                "Strictly speaking, ROPc monitors are not the only way to construct these desirable games.",
                "To prove the next claim, we must broaden our notion of rest of path monitoring to include the similar ROPc monitor, which attests to the quality starting at its own node, through the end of the path.",
                "Compare the two monitors below: ROPc: gives a node proof that the path quality from the next node to the destination is not correct.",
                "ROPc: gives a node proof that the path quality from that node to the destination is correct.",
                "We present a simplified version of this claim, by including an assumption that only one node on the path can cheat at a time (though conspirators can still exchange side payments).",
                "We will discuss the full version after the proof.",
                "Claim 5.",
                "Assume a set of monitors, and a nowhere-commoditized bilateral contract competition game that always maintains the optimal quality in fixed-route coalition-proof protect-the-innocent equilibrium, with only one node allowed to cheat at a time.",
                "Then for each node, i, not adjacent to D, either i has an ROPc monitor, or is children each have an ROPc monitor.",
                "Proof: First, because of the fixed-route assumption, punishments must be purely monetary.",
                "Next, when cheating occurs, if the payment does not go to the source or destination, it may go to another coalition member, rendering it ineffective.",
                "Thus, the source must accept some monetary compensation, net of its normal flow payment, when cheating occurs.",
                "Since the source only contracts with the first hop, it must accept this money from the first hop.",
                "The sources contract must therefore distinguish when the path quality is normal from when it is lowered by cheating.",
                "To do so, it can either accept proofs 191 from the source, that the quality is lower than required, or it can accept proofs from the first hop, that the quality is correct.",
                "These nodes will not rationally offer the opposing type of proof.",
                "By definition, any monitor that gives the source proof that the path quality is wrong is an ROPc monitor.",
                "Any monitor that gives the first hop proof that the quality is correct is a ROPc monitor.",
                "Thus, at least one of these monitors must exist.",
                "By the protect-the-innocent assumption, if cheating occurs, but the first hop is not a cheater, she must be able to claim the same size reward from the next ISP on the path, and thus pass on the punishment.",
                "The first hops contract with the second must then distinguish when cheating occurs after the first hop.",
                "By argument similar to that for the source, either the first hop has a ROPc monitor, or the second has a ROPc monitor.",
                "This argument can be iterated along the entire path to the penultimate node before D. Since the marginal costs and qualities can be arranged to make any path the optimal path, these statements must hold for all nodes and their children, which completes the proof.",
                "The two possibilities for monitor correspond to which node has the burden of proof.",
                "In one case, the prior node must prove the suboptimal quality to claim its reward.",
                "In the other, the subsequent node must prove that the quality was correct to avoid penalty.",
                "Because the two monitors are similar, it seems likely that they require comparable costs to implement.",
                "If submitting the proofs is costly, it seems natural that nodes would prefer to use the ROPc monitor, placing the burden of proof on the upstream node.",
                "Finally, we note that it is straightforward to derive the full version of the claim, which allows for multiple cheaters.",
                "The only complication is that cheaters can exchange side payments, which makes any money transfers between them redundant.",
                "Because of this, we have to further generalize our rest of path monitors, so they are less constrained in the case that there are cheaters on either side. 5.1 Implementing Monitors Claim 5 should not be interpreted as a statement that each node must compute the rest of path quality locally, without input from other nodes.",
                "Other monitors, besides ROPc and ROPc can still be used, loosely speaking, as building blocks.",
                "For instance, network tomography is concerned with measuring properties of the network interior with tools located at the edge.",
                "Using such techniques, our source might learn both individual node qualities and the data path.",
                "This is represented by the following two monitors: SHOPc i : (source-based hop quality) A monitor that gives the source proof of what the quality of node i is.",
                "SPATHc: (source-based path) A monitor that gives the source proof of what the data path is at any time, at least as far as it matches the equilibrium path.",
                "With these monitors, a punishment mechanism can be designed to fulfill the conditions of Claim 5.",
                "It involves the source sharing the proofs it generates with nodes further down the path, which use them to determine bilateral payments.",
                "Ultimately however, the proof of Claim 5 shows us that each node is bilateral contracts require proof of the rest of path quality.",
                "This means that node i (or possibly its children) will have to combine the proofs that they receive to generate a proof of the rest of path quality.",
                "Thus, the combined process is itself a rest of path monitor.",
                "What we have done, all in all, is constructed a rest of path monitor using SPATHc and SHOPc i as building blocks.",
                "Our new monitor includes both the component monitors and whatever distributed algorithmic mechanism exists to make sure nodes share their proofs correctly.",
                "This mechanism can potentially involve external institutions.",
                "For a concrete example, suppose that when node i suspects it is getting poor rest of path quality from its successor, it takes the downstream node to court.",
                "During the discovery process, the court subpoenas proofs of the path and of node qualities from the source (ultimately, there must be some threat to ensure the source complies).",
                "Finally, for the court to issue a judgment, one party or the other must compile a proof of what the rest of path quality was.",
                "Hence, the entire discovery process acts as a rest of path monitor, albeit a rather costly monitor in this case.",
                "Of course, mechanisms can be designed to combine these monitors at much lower cost.",
                "Typically, such mechanisms would call for automatic sharing of proofs, with court intervention only as a last resort.",
                "We defer these interesting mechanisms to future work.",
                "As an aside, intuition might dictate that SHOPc i generates more information than ROPc; after all, inferring individual node qualities seems a much harder problem.",
                "Yet, without path information, SHOPc i is not sufficient for our first-best innovation result.",
                "The proof of this demonstrates a useful technique: Claim 6.",
                "With monitors E2E, ROP, SHOPc i and PRc, and a nowhere-commoditized bilateral contract competition game, the optimal quality cannot be maintained for all assignments of quality and marginal cost, in fixed-route coalition-proof protect-theinnocent equilibrium.",
                "Proof: Because nodes cannot verify the data path, they cannot form a proof of what the rest of path quality is.",
                "Hence, ROPc monitors do not exist, and therefore the requirements of Claim 5 cannot hold. 6.",
                "CONCLUSIONS AND FUTURE WORK It is our hope that this study will have a positive impact in at least three different ways.",
                "The first is practical: we believe our analysis has implications for the design of future monitoring protocols and for public policy.",
                "For protocol designers, we first provide fresh motivation to create monitoring systems.",
                "We have argued that the poor accountability of the Internet is a fundamental obstacle to alleviating the pathologies of commoditization and lack of innovation.",
                "Unless accountability improves, these pathologies are guaranteed to remain.",
                "Secondly, we suggest directions for future advances in monitoring.",
                "We have shown that adding verifiability to monitors allows for some improvements in the characteristics of competition.",
                "At the same time, this does not present a fully satisfying solution.",
                "This paper has suggested a novel standard for monitors to aspire to - one of supporting optimal routes in innovative competition games under fixed-route coalition-proof protect-the-innocent equilibrium.",
                "We have shown that under bilateral contracts, this specifically requires contractible rest of path monitors.",
                "This is not to say that other types of monitors are unimportant.",
                "We included an example in which individual hop quality monitors and a path monitor can also meet our standard for sustaining competition.",
                "However, in order for this to happen, a mechanism must be included 192 to combine proofs from these monitors to form a proof of rest of path quality.",
                "In other words, the monitors must ultimately be combined to form contractible rest of path monitors.",
                "To support service differentiation and innovation, it may be easier to design rest of path monitors directly, thereby avoiding the task of designing mechanisms for combining component monitors.",
                "As far as policy implications, our analysis points to the need for legal institutions to enforce contracts based on quality.",
                "These institutions must be equipped to verify proofs of quality, and police illegal contracting behavior.",
                "As quality-based contracts become numerous and complicated, and possibly negotiated by machine, this may become a challenging task, and new standards and regulations may have to emerge in response.",
                "This remains an interesting and unexplored area for research.",
                "The second area we hope our study will benefit is that of clean-slate architectural design.",
                "Traditionally, clean-slate design tends to focus on creating effective and elegant networks for a static set of requirements.",
                "Thus, the approach is often one of engineering, which tends to neglect competitive effects.",
                "We agree with Ratnasamy, Shenker, and McCanne, that designing for evolution should be a top priority [11].",
                "We have demonstrated that the networks monitoring ability is critical to supporting innovation, as are the institutions that support contracting.",
                "These elements should feature prominently in new designs.",
                "Our analysis specifically suggests that architectures based on bilateral contracts should include contractible rest of path monitoring.",
                "From a clean-slate perspective, these monitors can be transparently and fully integrated with the routing and contracting systems.",
                "Finally, the last contribution our study makes is methodological.",
                "We believe that the mathematical formalization we present is applicable to a variety of future research questions.",
                "While a significant literature addresses innovation in the presence of network effects, to the best of our knowledge, ours is the first model of innovation in a network industry that successfully incorporates the actual topological structure as input.",
                "This allows the discovery of new properties, such as the weakening of market forces with the number of ISPs on a data path that we observe with lowaccountability.",
                "Our method also stands in contrast to the typical approach of distributed algorithmic mechanism design.",
                "Because this field is based on a principle-agent framework, contracts are usually proposed by the source, who is allowed to make a take it or leave it offer to network nodes.",
                "Our technique allows contracts to emerge from a competitive framework, so the source is limited to selecting the most desirable contract.",
                "We believe this is a closer reflection of the industry.",
                "Based on the insights in this study, the possible directions for future research are numerous and exciting.",
                "To some degree, contracting based on quality opens a Pandoras Box of pressing questions: Do quality-based contracts stand counter to the principle of network neutrality?",
                "Should ISPs be allowed to offer a choice of contracts at different quality levels?",
                "What anti-competitive behaviors are enabled by quality-based contracts?",
                "Can a contracting system support optimal multicast trees?",
                "In this study, we have focused on bilateral contracts.",
                "This system has seemed natural, especially since it is the prevalent system on the current network.",
                "Perhaps its most important benefit is that each contract is local in nature, so both parties share a common, familiar legal jurisdiction.",
                "There is no need to worry about who will enforce a punishment against another ISP on the opposite side of the planet, nor is there a dispute over whose legal rules to apply in interpreting a contract.",
                "Although this benefit is compelling, it is worth considering other systems.",
                "The clearest alternative is to form a contract between the source and every node on the path.",
                "We may call these source contracts.",
                "Source contracting may present surprising advantages.",
                "For instance, since ISPs do not exchange money with each other, an ISP cannot save money by selecting a cheaper next hop.",
                "Additionally, if the source only has contracts with nodes on the intended path, other nodes wont even be willing to accept packets from this source since they wont receive compensation for carrying them.",
                "This combination seems to eliminate all temptation for a single cheater to cheat in route.",
                "Because of this and other encouraging features, we believe source contracts are a fertile topic for further study.",
                "Another important research task is to relax our assumption that quality can be measured fully and precisely.",
                "One possibility is to assume that monitoring is only probabilistic or suffers from noise.",
                "Even more relevant is the possibility that quality monitors are fundamentally incomplete.",
                "A quality monitor can never anticipate every dimension of quality that future applications will care about, nor can it anticipate a new and valuable protocol that an ISP introduces.",
                "We may define a monitor space as a subspace of the quality space that a monitor can measure, QM ⊂ , and a corresponding monitoring function that simply projects the full range of qualities onto the monitor space, MQm →: .",
                "Clearly, innovations that leave quality invariant under m are not easy to support - they are invisible to the monitoring system.",
                "In this environment, we expect that path monitoring becomes more important, since it is the only way to ensure data reaches certain innovator ISPs.",
                "Further research is needed to understand this process. 7.",
                "ACKNOWLEDGEMENTS We would like to thank the anonymous reviewers, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy, and Hal Varian for their comments.",
                "This work is supported in part by the National Science Foundation under ITR award ANI-0331659. 8.",
                "REFERENCES [1] Afergan, M. Using Repeated Games to Design IncentiveBased Routing Systems.",
                "In Proceedings of IEEE INFOCOM (April 2006). [2] Afergan, M. and Wroclawski, J.",
                "On the Benefits and Feasibility of <br>incentive</br> Based Routing Infrastructure.",
                "In ACM SIGCOMM04 Workshop on Practice and Theory of Incentives in Networked Systems (PINS) (August 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., and Shenker, S. Providing Packet Obituaries.",
                "In Third Workshop on Hot Topics in Networks (HotNets) (November 2004). [4] Clark, D. D. The Design Philosophy of the DARPA Internet Protocols.",
                "In Proceedings of ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., and Braden, R. Tussle in cyberspace: Defining tomorrows internet.",
                "In Proceedings of ACM SIGCOMM (August 2002). [6] Dang-Nguyen, G. and Pénard, T. Interconnection Agreements: Strategic Behaviour and Property Rights.",
                "In Brousseau, E. and Glachant, J.M.",
                "Eds.",
                "The Economics of Contracts: Theories and Applications, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., and Shenker, S. A BGP-based Mechanism for Lowest-Cost Routing.",
                "Distributed Computing 18 (2005), pp. 61-72. [8] Huston, G. Interconnection, Peering, and Settlements.",
                "Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., and Towsley, D. On the Interaction Between Overlay Routing and Traffic Engineering.",
                "In Proceedings of IEEE INFOCOM (2005). [10] MacKie-Mason, J. and Varian, H. Pricing the Internet.",
                "In Kahin, B. and Keller, J. Eds.",
                "Public access to the Internet.",
                "Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., and McCanne, S. Towards an Evolvable Internet Architecture.",
                "In Proceeding of ACM SIGCOMM (2005). [12] Shakkottai, S., and Srikant, R. Economics of Network Pricing with Multiple ISPs.",
                "In Proceedings of IEEE INFOCOM (2005). 9.",
                "APPENDIX Proof of Claim 2.",
                "Node i must fall on the equilibrium data path to receive any payment.",
                "Let the prices along the data path be ppppP nS == ,..., 21 , with marginal costs, ncc ,...,1 .",
                "We may assume the prices on the path are greater than lp or the claim follows trivially.",
                "Each node along the data path can cheat in route by giving data to the bargain path at price no more than lp .",
                "So node js temptation to cheat is at least 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp .",
                "Then Lemma 1 gives, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp T (7) This can be rearranged to give ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , as required.",
                "The rest of the claim simply recognizes that rp / is the greatest reward node i can receive for its investment, so it will not invest sums greater than this.",
                "Proof of Claim 4.",
                "Label the nodes 1,2,.. N in the order in which they select contracts.",
                "Let subgame n be the game that begins with n choosing its contract.",
                "Let Ln be the set of possible paths restricted to nodes n,…,N.",
                "That is, Ln is the set of possible routes from S to reach some node that has already moved.",
                "For subgame n, define the local welfare over paths nLl ∈ , and their possible next hops, nj < as follows, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) where ql is the quality of path l in the set {n,…,N}, and pathjq and pj are the quality and price of the contract j has offered.",
                "For induction, assume that subgame n + 1 maximizes local welfare.",
                "We show that subgame n does as well.",
                "If node n selects next hop k, we can write the following relation, ( ) ( )( ) ( )( ) nknn knlVpcpknlVnlV π−=++−= ,,,,, , (9) where n is node ns profit if the path to n is chosen.",
                "This path is chosen whenever ( )nlV , is maximal over Ln+1 and possible next hops.",
                "If ( )( )knlV ,, is maximal over Ln, it is also maximal over the paths in Ln+1 that dont lead to n. This means that node n can choose some n small enough so that ( )nlV , is maximal over Ln+1, so the route will lead to k. Conversely, if ( )( )knlV ,, is not maximal over Ln, either V is greater for another of ns next hops, in which case n will select that one in order to increase n, or V is greater for some path in Ln+1 that dont lead to n, in which case ( )nlV , cannot be maximal for any nonnegative n. Thus, we conclude that subgame n maximizes local welfare.",
                "For the initial case, observe that this assumption holds for the source.",
                "Finally, we deduce that subgame 1, which is the entire game, maximizes local welfare, which is equivalent to actual welfare.",
                "Hence, the Stackelberg price-quality game yields an optimal route. 194"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Recuerde que este es un requisito para que los nodos tengan algún \"incentivo\" para innovar.",
                "La estructura de \"incentivo\" del mecanismo VCG es lo que motiva a los nodos a informar con precisión sus costos.",
                "Sobre los beneficios y la viabilidad de la infraestructura de enrutamiento basada en \"incentivos\"."
            ],
            "translated_text": "",
            "candidates": [
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivo",
                "incentivos"
            ],
            "error": []
        }
    }
}