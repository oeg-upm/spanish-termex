{
    "id": "I-53",
    "original_text": "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games. Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time. In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case. However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable. For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value. The time complexity of this method is linear in the number of players. We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%. Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1. INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13]. Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins. Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable). However, in many cases there may be more than one solution (i.e., a stable coalition). In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions). In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14]. Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff. Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs. The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness. Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper. Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18]. Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19]. A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects. The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness). However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time. For instance, finding this value for the weighted voting game is, in general, #P-complete [6]. A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442]. Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general. In other words, it is practically infeasible to try to compute the exact Shapley value. However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents. Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game. Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time. By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not. For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value. The computational complexity of such games has typically been tackled using two main approaches. The first is to use generating functions [3]. This method trades time complexity for storage space. The second uses an approximation technique based on Monte Carlo simulation [12, 7]. However the method we propose is more general than either of these (see Section 6 for details). Moreover, no work has previously analysed the approximation error. The approximation error relates to how close the approximate is to the true Shapley value. Specifically, it is the difference between the true and the approximate Shapley value. It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error. Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value. This analysis is carried out empirically. Our experiments show that the error is always less than 20%, and in most cases it is under 5%. Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space). Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents. The rest of the paper is organised as follows. Section 2 defines the Shapley value and describes the weighted voting game. In Section 3 we describe voting games whose Shapley value can be found in polynomial time. In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5. Section 6 discusses related literature. Finally, Section 7 concludes. 2. BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game. A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members. Hence the game is a competition between coalitions of players, rather than between individual players. Depending on how the players measure utility, coalition game theory is split into two parts. If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility. More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S). For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S). Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way. For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount. The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs. Thus, in either case, the players will only join a coalition if they expect to gain from it. Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff. The problem then is how to split the total payoff between or among the players. In this context, Shapley [19] constructed a solution using an axiomatic approach. Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1. Symmetry. This axiom requires that the names of players play no role in determining the value. 2. Carrier. This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C). A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3. Additivity. This axiom specifies how the values of different games must be related to one another. It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms. Shapley viewed this value as an index for measuring the power of players in a game. Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities. Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game. We first introduce some notation and then define the Shapley value. Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|!(n − |S| − 1)! n! The random variable fi is interpreted as the random choice of a coalition that player i joins. Then, a players Shapley value is defined in terms of its marginal contribution. Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it. DEFINITION 1. The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows. Suppose that all the players are arranged in some order, all orderings being equally likely. Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him. The method for finding a players Shapley value depends on the definition of the value function (v). This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6]. Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament. The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota). Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one. This is because the value of any coalition is either zero or one. A coalition with value zero is called a losing coalition and with value one a winning coalition. If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero. The main advantage of the Shapley value is that it gives a solution that is both unique and fair. The property of uniqueness is desirable because it leaves no ambiguity. The property of fairness relates to how the gains from cooperation are split between the members of a coalition. In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value. Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3. VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time. This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them). We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties. Each party has j votes. If q ≤ j, then there would be no need for the players to form a coalition. On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible. The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1). For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero. Let ϕ denote the Shapley value for a player. Consider any one player. This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member. In all other cases, its marginal contribution is zero. Thus, the Shapley value for each player ϕ = 1/m. Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws). There is one large player and m small ones. The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws . The total number of players is (m + 1). The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero. Let ϕl denote the Shapley value for the large player and ϕs that for each small player. We first consider ws = 1 and then ws > 1. The smallest possible value for q is wl + 1. This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition. Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1. Also, the lower and upper limits for wl are 2 and (q − 1) respectively. The lower limit is 2 because the weight of the large party has to be greater than each small one. Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition. Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one. Consider the large party. This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1). However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q. In all the remaining cases, its marginal contribution is zero. Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases. Hence, the Shapley value of the large party is: ϕl = wl/(m + 1). In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player. We know that the sum of the Shapley values of all the m+1 players is one. Also, since the small parties have equal weights, their Shapley values are the same. Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time. This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division). In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties. The set of parties consists of ml large parties and ms small parties. The weight of each large party is wl and that of each small one is ws, where ws < wl. We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player. In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one. It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl. In other words, there are (q −1)/wl +1 such cases and we now consider each of them. The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player. Such a coalition gives the large player unit marginal contribution. Let C2 l (i, q) denote the number of all such coalitions. To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items. For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl). In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws). Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3. The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3). For this voting game, consider a player of type 1. It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1. In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them. Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it. The remaining players join after the type 1 player. Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3). Thus, we have identified games for which the exact Shapley value can be easily determined. However, the computational complexity of the above direct enumeration method increases with the number of player types. For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more. To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4. FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value. Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems. A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2]. The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution. Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation. The approximation error refers to the difference between the exact solution and its approximation. Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error. We first describe the general voting game and then present our randomized algorithm. In its general form, a voting game has more than two types of players. Let wi denote the weight of player i. Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm . The weights are specified in terms of a probability distribution function. For such a game, we want to find the approximate Shapley value. We let P denote a population of players. The players weights in this population are defined by a probability distribution function. Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights. From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1. Ti ← 0; a ← q − wi; b ← q − 2. For X from 1 to m repeatedly do the following 2.1. Select a random sample SX of size X from the population P 2.2. Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i. We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly. We use this rule to determine the Shapley value as follows. For player i with weight wi, let ϕi denote the Shapley value. Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution. The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity). Otherwise, its marginal contribution is zero. Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b]. This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ). Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1. In more detail, Step 1 does the initialization. In Step 2, we vary X between 1 and m and repeatedly do the following. In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2. The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1. The time complexity of the proposed randomized method is linear in the number of players. PROOF. As per Equation 3, ΔX i must be computed m times. This is done in the for loop of Step 2 in Table 1. Hence, the time complexity of computing a players Shapley value is O(m). The following section analyses the approximation error for the proposed method. 5. PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings. However, before doing so, we introduce the idea of error. The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4]. Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value. Thus, error has to do with uncertainty in measurements that nothing can be done about. If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others. However, although it is not possible to do anything about such error, it can be characterized. As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players. Now, there are statistical errors associated with sampling which are unavoidable and must be lived with. Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone. An indication of how accurate the result is must be included also. Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value. For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x). For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22]. Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2. The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements. To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2). This error is obtained by propagating the error in Equation 4 to Equation 2. In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X. Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively. Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1). More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE. Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game. In particular, we conduct experiments in the following setting. For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1. The number of parties (m). 2. The mean weight (μ). 3. The variance in the players weights (ν). 4. The quota for the voting game (q). 5. The given players weight (w). We fix μ = 10 and ν = 1. This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5). We then vary m, q, and w as follows. We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players). The results of these experiments are shown in Figures 2, 3, and 4. As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%. We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ). The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ). Thus, the interval is the same for both integrations and it is independent of wi. Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2. Only the limits of the integration are different. Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1). The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )). As per Equation 5, it is the maximum of these two areas. Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged. However, the area of the unshaded region B increases. Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q. For a given q, the Shapley value for player i is as given in Equation 3. We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X. Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1. However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2. Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q. As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases. Consequently, the error in a players marginal contribution (see Equation 5) also decreases. This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X. Hence, for small m, e(σ1 ) has a significant effect on PE. But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6. RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature. One approach is to use generating functions [3]. This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays. It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas. The other method uses an approximation technique based on Monte Carlo simulation. In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players. The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables. In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this. Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game. Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights. Thus, as stated in Section 1, our method is more general than [3, 12, 7]. Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value. A method for finding the Shapley value was also proposed in [5]. This method gives the exact Shapley value, but its time complexity is exponential. Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise. Finally, [9, 10] present a polynomial time method for finding the Shapley value. This method can be used if the coalition game is represented as a marginal contribution net. Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game. In contrast, our method is independent The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7. CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems. An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition. In this context, cooperative game theory offers a solution concept called the Shapley value. The main advantage of the Shapley value is that it provides a solution that is both unique and fair. However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time. In particular, the problem of finding this value for the voting game is #P-complete. Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games. By doing so, we have shown when it is computationally feasible to find the exact Shapley value. For other complex voting games, we presented a new randomized method for determining the approximate Shapley value. The time complexity of the proposed method is linear in the number of players. We analysed the performance of this method in terms of the percentage error in the approximate Shapley value. Our experiments show that the percentage error in the Shapley value is at most 20. Furthermore, in most cases, the error is less than 5%. Finally, we analyse the effect of the different parameters of the voting game on this error. Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases. Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents. In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8. REFERENCES [1] R. Aumann. Acceptable points in general cooperative n-person games. In Contributions to theTheory of Games volume IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi. Complexity and approximation: Combinatorial optimization problems and their approximability properties. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez. Generating functions for computing power indices efficiently. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler. Data Analysis Techniques in High Energy Physics Experiments. Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm. Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains. In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou. On the complexity of cooperative solution concepts. Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings. An analysis of the shapley value and its uncertainty for the voting game. In Proc. 7th Int. Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis. Advanced Level Statistics. Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham. Marginal contribution nets: A compact representation scheme for coalitional games. In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham. Multi-attribute coalition games. In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport. Theories of Coalition Formation. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley. Values for large games iv: Evaluating the electoral college exactly. Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green. Microeconomic Theory. Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein. A Course in Game Theory. The MIT Press, 1994. [15] C. H. Papadimitriou. Computational Complexity. Addison Wesley Longman, 1994. [16] A. Rapoport. N-person Game Theory : Concepts and Applications. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introduction to the shapley value. In A. E. Roth, editor, The Shapley value, pages 1-27. University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser. Coalitions among computationally bounded agents. Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley. A value for n person games. In A. E. Roth, editor, The Shapley value, pages 31-40. University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus. A kernel-oriented model for coalition-formation in general environments: Implemetation and results. In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus. Methods for task allocation via agent coalition formation. Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor. An introduction to error analysis: The study of uncertainties in physical measurements. University Science Books, 1982. 966 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)",
    "original_translation": "Un método aleatorizado para el valor de Shapley para el juego de votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. shaheen@csc.liv.ac.uk Michael Wooldridge Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido.mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, Reino Unido.nrj@ecs.soton.ac.uk Resumen El valor de Shapley es uno de los conceptos clave de soluciones para los juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en el tiempo polinomial. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-COMPLETO en el caso general. Sin embargo, en este documento, mostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional al presentar un nuevo método aleatorizado para determinar el valor aproximado de Shapley. La complejidad del tiempo de este método es lineal en el número de jugadores. También mostramos, a través de estudios empíricos, que el error porcentual para el método propuesto es siempre inferior al 20% y, en la mayoría de los casos, menos del 5%. Categorías y descriptores de sujetos I.2.11 [Inteligencia artificial distribuida]: Sistemas Multiagentes Algoritmos de Términos Generales, Diseño, Teoría 1. Introducción La formación de coalición, una forma clave de interacción en sistemas de múltiples agentes, es el proceso de unir dos o más agentes para lograr objetivos que las personas por sí mismas no pueden, o lograrlos de manera más eficiente [1, 11, 14,13]. A menudo, en tales situaciones, hay más de una posible coalición y una recompensa de jugadores depende de cuál se una. Dado esto, un problema clave es asegurarse de que ninguna de las partes en una coalición tenga ningún incentivo para separarse y unirse a otra coalición (es decir, las coaliciones deberían ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una sola solución entre las posibles, especialmente si las partes se interesan (es decir, tienen diferentes preferencias sobre coaliciones estables). En este contexto, la teoría cooperativa de juegos se ocupa del problema de la formación de coalición y ofrece una serie de conceptos de solución que poseen propiedades deseables como la estabilidad, la división justa de las ganancias conjuntas y la singularidad [16, 14]. La teoría cooperativa del juego difiere de su contraparte no cooperativa en que para los primeros los jugadores pueden formar acuerdos vinculantes, por lo que existe un fuerte incentivo para trabajar juntos para recibir la mayor recompensa total. Además, a diferencia de la teoría del juego no cooperativo, la teoría del juego cooperativo no especifica un juego a través de una descripción del entorno estratégico (incluido el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los pagos resultantes, pero, en cambio, loReduce esta colección de datos a la forma de coalición donde cada coalición está representada por un solo número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de jugadores múltiples, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real se ajustan más fácilmente a un juego de forma coalición, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensa y es por esta razón que nos centramos en esteformularios en este documento. Dadas estas observaciones, una serie de investigadores de sistemas múltiples han utilizado y extendido soluciones teóricas cooperativas del juego para facilitar la formación automatizada de la coalición [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más ampliamente estudiados es el valor de Shapley [19]. El valor de los jugadores de Shapley da una indicación de sus perspectivas de jugar el juego: cuanto más alto sea el valor de Shapley, mejores son sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es única y justa (consulte la Sección 2.1 para una discusión sobre la propiedad de la equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene un inconveniente importante: para muchos juegos de coalición, no se puede determinar en el tiempo polinomial. Por ejemplo, encontrar este valor para el juego de votación ponderado es, en general, #P-Complete [6]. Un problema es #P-Hard si resolverlo es tan difícil como contar tareas satisfactorias de fórmulas lógicas proposicionales [15, P442]. Dado que #P-Completity, por lo tanto, subsume la completidad de NP, esto implica que calcular el valor de Shapley para el juego de votación ponderado será intratable en general. En otras palabras, es prácticamente inviable tratar de calcular el valor exacto de Shapley. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas de múltiples agentes, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero mostramos que hay algunos juegos de votación específicos para los que el valor exacto puede 959 978-81-904262-7-5 (RPS) c 2007 Ifaamas se calcula en tiempo polinómico. Al identificar tales juegos, mostramos, por primera vez, cuando es posible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, en la línea de la simulación de Monte-Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de tales juegos generalmente se ha abordado utilizando dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad de tiempo para el espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se relaciona con qué tan cerca está la aproximación al valor verdadero de Shapley. Específicamente, es la diferencia entre el valor de Shapley verdadero y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en términos de dos criterios: su complejidad de tiempo y su error de aproximación. Por lo tanto, nuestra contribución radica en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se lleva a cabo empíricamente. Nuestros experimentos muestran que el error siempre es inferior al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene una complejidad de tiempo lineal en el número de jugadores y no requiere ninguna matrices (es decir, es económico en términos de tiempo de computación y espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tengan recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para tales agentes limitados por los recursos. El resto del documento está organizado de la siguiente manera. La Sección 2 define el valor de Shapley y describe el juego de votación ponderado. En la Sección 3 describimos los juegos de votación cuyo valor de Shapley se puede encontrar en el tiempo polinomial. En la Sección 4, presentamos un método aleatorizado para encontrar el valor de Shapley aproximado y analizar su rendimiento en la Sección 5. La Sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye.2. Antecedentes comenzamos introduciendo juegos de coalición y el valor de Shapley y luego definimos el juego de votación ponderado. Un juego de coalición es un juego donde los grupos de jugadores (coaliciones) pueden hacer cumplir el comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría del juego de coalición se divide en dos partes. Si los jugadores miden la utilidad o la recompensa en las mismas unidades y hay un medio de intercambio de utilidad, como los pagos secundarios, decimos que el juego tiene utilidad transferible;De lo contrario, tiene una utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, V, consta de: 1. Un conjunto finito (n = {1, 2, ..., n}) de jugadores y 2. una función (v) que se asocia conCada subconjunto no vacío de N (es decir, una coalición) un número real V (s) (el valor de S). Para cada coalición s, el número V (s) es el recompensa total que está disponible para la división entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición puede tomar consiste en todas las divisiones posibles de V (s) entre losmiembros de s). Los juegos de coalición con pagos no transferibles difieren de los que se transfieren con pagos transferibles de la siguiente manera. Para el primero, cada coalición se asocia con un conjunto de vectores de pago que no es necesariamente el conjunto de todas las divisiones posibles de alguna cantidad fija. El enfoque de este documento está en el juego de votación ponderado (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en cualquier caso, los jugadores solo se unirán a una coalición si esperan ganar de ella. Aquí, los jugadores pueden formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos para recibir el mayor recompensa total. El problema entonces es cómo dividir el recompensa total entre los jugadores o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para que los juegos sean una función que asigna a un juego (n, v), un número ϕi (n, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor.2. Este axioma requiere que la suma de ϕi (n, v) para todos los jugadores i en cualquier portador C igual a V (c). Un portador C es un subconjunto de N tal que V (S) = V (S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. 3. Este axioma especifica cómo los valores de diferentes juegos deben estar relacionados entre sí. Requiere que para cualquier juego ϕi (N, V) y ϕi (N, V), ϕi (N, V) + ϕi (N, V) = ϕi (N, V + V) para todos los i en N. Shapley se mostróque existe una función única que satisface estos tres axiomas. Shapley vio este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, uno puede pensar en el valor de Shapley como una medida de la utilidad de los jugadores neutrales de riesgo en un juego. Primero presentamos alguna notación y luego definimos el valor de Shapley. Sea s denote el conjunto n - {i} y fi: s → 2n− {i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de n - {i}, y tiene la función de distribución de probabilidad (g)definido como: g (fi (s) = s) = | s |!(N - | S | - 1)!¡norte! La variable aleatoria FI se interpreta como la elección aleatoria de una coalición a la que se une al jugador al que me une. Luego, el valor de los jugadores de Shapley se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador I al coalición s con i /∈ S es una función ΔIV que se define como sigue: ΔIV (s) = V (S ∪ {i}) - V (S), por lo tanto, la contribución marginal de los jugadoresUna coalición S es el aumento en el valor de S como resultado de que me uniera. El valor de Shapley (ϕi) del juego n, v para el jugador I es la expectativa (e) de su contribución marginal a una coalición que se elige al azar: ϕi (n, v) = e [Δiv ◦ fi] (1) elEl valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están organizados en algún orden, todos los pedidos son igualmente probables. Entonces ϕi (n, v) es la contribución marginal esperada, sobre todos los ordenos, del jugador I al conjunto de jugadores que lo preceden. El método para encontrar un valor de reproductores de Shapley depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos centramos específicamente en el juego de votación ponderado por las razones descritas en la Sección 1. 960 El Sexto INTL. Conf.En agentes autónomos y sistemas de múltiples agentes (AAMAS 07) 2.1 El juego de votación ponderado adoptamos la definición del juego de votación dado en [6]. Por lo tanto, hay un conjunto de N jugadores que pueden, por ejemplo, representar a los accionistas en una empresa o miembros en un parlamento. El juego de votación ponderado es entonces un juego g = n, v en el que: v (s) = j 1 si w (s) ≥ q 0 de lo contrario para algunos q ∈ Ir + y wi ∈ Irn +, donde: w (s) = =X i∈S wi para cualquier coalición S. Por lo tanto, wi es el número de votos que el jugador que tengo y Q es el número de votos necesarios para ganar el juego (es decir, la cuota). Tenga en cuenta que para este juego (denotado q; w1, ..., wn), una contribución marginal de los jugadores es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama coalición perdedora y con el valor uno una coalición ganadora. Si un jugador que ingresa a una coalición lo cambia de perder a ganar, entonces la contribución marginal de los jugadores para esa coalición es una;De lo contrario, es cero. La principal ventaja del valor de Shapley es que ofrece una solución que es única y justa. La propiedad de la singularidad es deseable porque no deja ambigüedad. La propiedad de la equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de los jugadores de Shapley es proporcional a la contribución que hace como miembro de una coalición;Cuanta más contribución hace, mayor es su valor. Por lo tanto, desde la perspectiva de los jugadores, tanto la singularidad como la equidad son propiedades deseables.3. Juegos de votación con soluciones de tiempo polinomial aquí describimos aquellos juegos de votación para los cuales el valor de Shapley se puede determinar en el tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerar todas las coaliciones posibles y encontrar una contribución marginal de jugadores a cada uno de ellos). Caracterizamos tales juegos en términos de la cantidad de jugadores y sus pesos.3.1 Todos los jugadores tienen el mismo peso considerar el juego Q;J ,..., j con m fiestas. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = | n | es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (Q) satisface la restricción: (j + 1) ≤ q ≤ j (m - 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a Q, de lo contrario es cero. Deje que ϕ denote el valor de Shapley para un jugador. Este jugador puede unirse a una coalición como el miembro ésimo donde 1 ≤ i ≤ m.Sin embargo, la contribución marginal del jugador es 1 solo si se une a una coalición como miembro q/j th. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, o (1)).3.2 Una sola fiesta grande considere un juego en el que hay dos tipos de jugadores: grandes (con peso wl> ws) y pequeño (con ws de peso). Hay un jugador grande y m pequeños. La cuota para este juego es Q;es decir, tenemos un juego de la forma Q;WL, WS, WS ,..., ws. El número total de jugadores es (M + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a Q, de lo contrario es cero. Deje que ϕl denote el valor de Shapley para el jugador grande y ϕs que para cada jugador pequeño. Primero consideramos WS = 1 y luego WS> 1. El valor más pequeño posible para Q es WL + 1. Esto se debe a que, si q ≤ wl, entonces la gran parte puede ganar las elecciones por sí solas sin la necesidad de una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl - 1. Además, los límites inferiores y superiores para WL son 2 y (Q - 1) respectivamente. El límite inferior es 2 porque el peso de la parte grande debe ser mayor que cada pequeña. Además, el peso de la gran parte no puede ser mayor que Q, ya que en ese caso, no habría necesidad de que la gran parte forme una coalición. Recuerde que para nuestro juego de votación, una contribución marginal de los jugadores a una coalición solo puede ser cero o uno. Este partido puede unirse a una coalición como miembro del i -ésimo donde 1 ≤ I ≤ (m + 1). Sin embargo, la contribución marginal de la gran parte es una si se une a una coalición como miembro del i -ésimo donde (q - wl) ≤ i <q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, del total de casos posibles (m + 1), su contribución marginal es una en casos WL. Por lo tanto, el valor de Shapley de la parte grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley de la gran parte para el caso general donde ws> 1 como: ϕl = wl /ws /(m + 1) ahora considere un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los jugadores M+1 es una. Además, dado que las pequeñas fiestas tienen peso igual, sus valores de Shapley son los mismos. Por lo tanto, obtenemos: ϕs = 1 - ϕl m Por lo tanto, tanto ϕL como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (adición, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con una sola fiesta grande y múltiples partidos pequeños se puede determinar en tiempo constante.3.3 Múltiples partidos grandes y pequeños ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples grandes y múltiples partidos pequeños. El conjunto de fiestas consiste en grandes fiestas y fiestas de MS. El peso de cada fiesta grande es WL y el de cada pequeño es WS, donde WS <wl. Mostramos la tractibilidad computacional para este juego considerando los siguientes cuatro escenarios posibles: S1 Q ≤ MlWl y Q ≤ MSWS S2 Q ≤ MlWl y Q ≥ MSWS S3 Q ≥ MlWl y Q ≥ MSWS S4 Q ≥ MLWL y Q ≤ MSWS para elPrimer escenario, considere un jugador grande. Para determinar el valor de Shapley para este jugador, debemos considerar el número de todas las coaliciones posibles que le dan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea una si se une a una coalición en la que el número de grandes jugadores es entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 de tales casos y ahora consideramos cada uno de ellos. Conf.En agentes autónomos y sistemas de múltiples agentes (AAMAS 07) 961 considere una coalición de tal manera que cuando el jugador grande se une, hay I gran jugador y (Q-IWL-1)/WS pequeños jugadores que ya están en él, y los jugadores restantesÚnete después del jugador grande. Tal coalición otorga la contribución marginal de la unidad de jugadores grandes. Deje que C2 L (i, Q) denote el número de todas esas coaliciones. Para comenzar, considere el caso i = 0: c2 l (0, q) = c „ms, q - 1 ws« × factorial „q - 1 ws« × factorial „ml + ms - q - 1 ws - 1« dondeC (y, x) denota el número de combinaciones posibles de X elementos de un conjunto de elementos y. Para i = 1, obtenemos: c2 l (1, q) = c (ml, 1) × c „ms, q - wl - 1 ws« × factorial „q - wl - 1 ws« × factorial „ml + ms- Q - Wl - 1 WS - 1 «En general, para i> 1, obtenemos: c2 l (i, q) = c (ml, i) × c„ ms, q - iwl - 1 ws «× factorial„q - iwl - 1 ws «× factorial„ ml + ms - q - wl - 1 ws - 1 «Por lo tanto, el valor de los grandes jugadores es: ϕl = q - 1 wlx i = 0 c2 l (i, q)/factorial (ml + ms) Para un dado i, el tiempo para encontrar C2 l (i, q) es o (t) donde t = (mlms (q - iwl - 1) (ml + ms))/ws Por lo tanto, el tiempo deEncuentre el valor de Shapley es o (t q/wl). De la misma manera, el valor de un pequeño jugador de Shapley es: ϕs = Q - 1 WSX I = 0 C2 S (I, Q)/Factorial (ML + MS) y se puede encontrar en el tiempo O (T Q/WS). Del mismo modo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad del tiempo.3.4 Tipos de tres jugadores ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en jugadores M1 de tipo 1 (cada uno con peso W1), jugadores M2 de tipo 2 (cada uno con peso W2) y jugadores M3 de tipo 3 (cada uno con peso W3). Para este juego de votación, considere un jugador del tipo 1. Es posible que la contribución marginal de este jugador sea una si se une a una coalición en la que el número de jugadores tipo 1 es entre cero y (q - 1)/W1. En otras palabras, hay (Q - 1)/W1 + 1 de tales casos y ahora consideramos cada uno de ellos. Considere una coalición de tal manera que cuando se une el jugador tipo 1, ya hay jugadores tipo 1. Los jugadores restantes se unen después del jugador tipo 1. Deje que C3 L (i, Q) denote el número de todas de estas coaliciones que dan una contribución marginal de uno al jugador tipo 1 donde: C3 1 (i, Q) = Q - 1 W1X I = 0 Q - IW1−1 W2XJ = 0 C2 1 (J, Q - IW1) Por lo tanto, el valor de Shapley del reproductor tipo 1 es: ϕ1 = Q - 1 W1X I = 0 C3 1 (i, Q)/factorial (M1 + M2 + M3) El tiempoLa complejidad de encontrar este valor es O (T Q2 /W1W2) donde: t = (3y i = 1 mi) (q - iwl - 1) (3x i = 1 mi) /(w2 + w3) igualmente, para los otros dosTipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor exacto de Shapley se puede determinar fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad del tiempo del método anterior es un polinomio de grado cuatro o más. Para tratar tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorizado más rápido para encontrar el valor de Shapley aproximado.4. Al encontrar el valor de Shapley aproximado, primero damos una breve introducción a los algoritmos aleatorios y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorios son el enfoque más utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunos de sus pasos, realiza opciones aleatorias [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados para encontrar la misma solución. Ahora, dado que tales algoritmos generan soluciones aproximadas, su rendimiento se evalúa en términos de dos criterios: su complejidad del tiempo y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorizado para encontrar el valor de Shapley aproximado y evaluar empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorizado. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Deje que WI denote el peso del jugador i. Por lo tanto, para los jugadores y la cuota Q, el juego es de la forma Q;W1, W2 ,..., Wm. Los pesos se especifican en términos de una función de distribución de probabilidad. Para tal juego, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población se definen por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ el peso medio para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores dibujamos al azar muestras y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la teoría de muestreo (ver [8] P425): si W1, W2 ,..., WN es una muestra aleatoria de tamaño N extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución normal aproximada con Nμ y varianza ν n (cuanto más grande sea, mejor será la aproximación).962 El sexto intl. Conf.en agentes autónomos y sistemas de múltiples agentes (AAMAS 07) R-Shapleyvalue (P, μ, ν, Q, Wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos P Q:Cuota para el juego de votación WI: El jugador es peso 1. Ti ← 0;A ← Q - Wi;B ← Q - 2. Para x de 1 a m hace repetidamente el siguiente 2.1. Seleccione una muestra aleatoria SX de tamaño X de la población P 2.2. Evalúe la contribución marginal esperada (Δx I) del jugador I a SX como: ΔX I ← 1√ (2πν/x) r B a e - x (x - x μ) 2ν dx 2.3. Evalúe el valor de Shapley del jugador I como: ϕi ← Ti/M Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos por la definición 1, que el valor de Shapley para un jugador es la expectativa (e) de su contribución marginal a una coalición que se elige al azar. Usamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el Jugador I con peso WI, deje que ϕi denote el valor de Shapley. Deje que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos del jugador individual tienen cualquier distribución. La contribución marginal del jugador I a esta muestra aleatoria es una si el peso total de los jugadores X en la muestra es mayor o igual a a = q −wi pero menor que b = q - (donde es una cantidad inifinitisimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador I (denotado Δx I) a la coalición de muestra es el área bajo la curva definida por N (xμ, ν x) en el intervalo [A, B]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: Δx i = 1 p (2πν/x) z b a e - x (x - x μ) 2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mx x = 1 Δx i (3) lo anteriorLos pasos se describen en la Tabla 1. Con más detalle, el Paso 1 hace la inicialización. En el paso 2, variamos X entre 1 y M y hacemos repetidamente lo siguiente. En el paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. El jugador es la contribución marginal a la coalición aleatoria SX se encuentra en el paso 2.2. La contribución marginal promedio se encuentra en el paso 3, y este es el valor de Shapley para el jugador i.Teorema 1. La complejidad del tiempo del método aleatorizado propuesto es lineal en el número de jugadores. Según la ecuación 3, Δx debo calcularse en veces. Esto se realiza en el bucle for del paso 2 en la Tabla 1. Por lo tanto, la complejidad del tiempo de calcular el valor de Shapley de los jugadores es O (M). La siguiente sección analiza el error de aproximación para el método propuesto.5. Rendimiento del método aleatorizado primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, presentamos la idea de error. El concepto de error se relaciona con una medición hecha de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente qué tan lejos está una medición del valor aceptado;Si esto pudiera hacerse, sería posible dar un valor más preciso y corregido. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones de las que no se puede hacer nada. Si se repite una medición, los valores obtenidos diferirán y ninguno de los resultados puede preferirse sobre los demás. Sin embargo, aunque no es posible hacer nada sobre tal error, se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, hay errores estadísticos asociados con el muestreo que son inevitables y deben ser vividos. Por lo tanto, si el resultado de una medición es tener un significado, no puede consistir en el valor medido solo. Una indicación de cuán preciso es el resultado también debe incluirse. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. Un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es E (x), la cantidad se encuentra en x ± E (x). Para los experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo usa para evaluar el rendimiento del método aleatorizado propuesto.5.1 Error de aproximación La precisión del método aleatorizado anterior depende de su error de muestreo que se define de la siguiente manera [22, 4]: definición 2. El error de muestreo (o error estándar) se define como la desviación estándar para un conjunto de mediciones divididas por la raíz cuadrada del número de mediciones. Para este fin, deje que E (σx) sea el error de muestreo en la suma de los pesos para una muestra de tamaño x extraída de la distribución n (xμ, ν x) donde: e (σx) = p (ν/x)/P (x) = P (ν)/x (4) Sea E (Δx I) denota el error en la contribución marginal para el Jugador I (dado en la Ecuación 2). Este error se obtiene propagando el error en la ecuación 4 a la ecuación 2. En la ecuación 2, A y B son los límites inferiores y superiores para la suma de los pesos de los jugadores para el sexto intl. Conf.en agentes autónomos y sistemas de múltiples agentes (aamas 07) 963 b c b a-e (σx) a a) x (σeb+ suma de pesos z1 z2 Figura 1: una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño x. 40 60 80 100 0 50 100 0 0 5 10 15 20 25 Cuotaweight Porcentaje de porcentaje de mierda Figura 2: rendimiento del método aleatorizado para M = 10 jugadores. Coalición del tamaño X. Dado que el error en esta suma es E (σx), los valores reales de A y B se encuentran en el intervalo A ± E (σx) y B ± E (σx) respectivamente. Por lo tanto, el error en la ecuación 2 es la probabilidad de que la suma se encuentre entre los límites A - E (σx) y A (es decir, el área debajo de la curva definida por N (xμ, ν x) entre A - E (σx)y A, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de pesos se encuentre entre los límites B y B+E (σx) (es decir, el área debajo de la curva definida por N (xμ, ν x)entre B y B + E (σx), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: E (Δx i) = 1 p (2πν/x) × max „z a a - e (σx) e - x (x - x μ) 2ν dx, z b+e (σx) b e - x (x - x μ) 2 2 dx «Sobre la base del error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas de propagación de errores estándar [22]: R1 si x e yson dos variables aleatorias con errores e (x) y e (y) respectivamente, entonces el error en la variable aleatoria z = x + y viene dada por: e (z) = e (x) + e (y) r2 si xes una variable aleatoria con error E (x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CUTOWEIGHT porcentaje de porcentajesLa constante k no tiene error, entonces el error en z es: e (z) = | k | e (x) Usando las reglas anteriores, el error en el valor de Shapley (dado en la ecuación 3) se obtiene propagando el error enEcuación 4 a todas las coaliciones entre los tamaños x = 1 y x = m.Deje que E (ϕi) denote este error donde: E (ϕi) = 1 m mx x = 1 e (Δx i) Analizamos el rendimiento de nuestro método en términos del error porcentual PE en el valor de Shapley aproximado que se define de la siguiente manera: PE = 100 × E (ϕi)/ϕi (5) 5.2 Resultados experimentales Ahora calculamos el error porcentual en el valor de Shapley usando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de entornos variando sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en la siguiente configuración. Para un jugador con peso W, el error porcentual en el valor de los jugadores de Shapley depende de los siguientes cinco parámetros (ver Ecuación 3): 1. La varianza en los jugadores pesos (ν).4. La cuota para el juego de votación (Q).5. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se usa más comúnmente en experimentos estadísticos (ν puede ser más alto o más bajo, pero PE aumenta en las ecuaciones 4y 5). Luego variamos M, Q y W como sigue. Variamos M entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos Q entre 4 μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 el sexto intl. Conf.en agentes autónomos y sistemas de múltiples agentes (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 CuotaWeight PorcentajeerTrorinthapleyValue Figura 4: rendimiento del método aleatorizado para M = 100 jugadores.La coalición ganadora es más de una y menos que M - ver Sección 3 para más detalles), y para cada Q, variamos W entre 1 y Q - 1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se ve en las cifras, el PE máximo es de alrededor del 20% y en la mayoría de los casos está por debajo del 5%. Ahora analizamos el efecto de los tres parámetros: W, Q y M en el error porcentual con más detalle.- Efecto de w.El PE depende de E (σx) porque, en la ecuación 5, los límites de integración dependen de E (σx). El intervalo sobre el cual se realiza la primera integración en la ecuación 5 es a - a + e (σx) = e (σx), y el intervalo sobre el cual se realiza el segundo es b + e (σx) - b = e (σx). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de WI. Tenga en cuenta que cada una de las dos funciones que están integradas en la Ecuación 5 son las mismas que la función que está integrada en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la ecuación 2 es b - a = wi - (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre A - E (σx) y A) en la Figura 1, o el área sombreada C (entre B y B + E (σx)). Según la ecuación 5, es el máximo de estas dos áreas. Dado que E (σx) es independiente de WI, a medida que WI aumenta, E (σx) permanece sin cambios. Sin embargo, aumenta el área de la región B sin sombra. Por lo tanto, a medida que aumenta el WI, el error en la contribución marginal disminuye y la EP también disminuye.- Efecto de q. Para una Q dada, el valor de Shapley para el Jugador I es el dado en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con X μ y varianza ν/x. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], el jugador es la contribución marginal a una muestra de tamaño x es casi cero si: a <xμ + 2 p ν/x o b> xμ - 2 pν/x Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran a la derecha de Z2 o a la izquierda de Z1. Sin embargo, el jugador es la contribución marginal es mayor que cero para aquellos x para los cuales se cumple la siguiente restricción: xμ - 2 p ν/x <a <b <xμ + 2 p ν/x Para esta restricción, las tres regiones A, By C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q -, la ecuación 6 también se puede escribir como: xμ - 2 p ν/x <q - wi <q - <xμ + 2 p ν/x la x más pequeña que satisface la restricción enLa ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, E (σx) = P (ν)/X) disminuye. En consecuencia, el error en una contribución marginal de los jugadores (ver Ecuación 5) también disminuye. Esto implica que a medida que aumenta Q, el error en la contribución marginal (y en consecuencia el error en el valor de Shapley) disminuye.- Efecto de m.Está claro de la ecuación 4 que el error E (σx) es más alto para x = 1 y disminuye con X. Por lo tanto, para la pequeña M, E (σ1) tiene un efecto significativo sobre la EP. Pero a medida que aumenta la M, el efecto de E (σ1) en la EP disminuye y, como resultado, PE disminuye.6. Trabajo relacionado Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad del tiempo, pero sus requisitos de almacenamiento son sustanciales: requiere grandes matrices. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a los juegos con pesas y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que definen el valor de Shapley tratando a un número de columpios de jugadores (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un swing) comoUna variable aleatoria, mientras tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de cambios de la definición de un juego de votación y cuál es la complejidad del tiempo de hacerlo. Dado que el juego de votación se define en términos de los pesos de los jugadores y el número de cambios se obtiene de estos pesos, nuestro método corresponde más estrechamente a la definición del juego de votación. Nuestro método también difiere de [7] en el sentido de que [7] presenta un método para el caso donde todos los pesos de los jugadores se distribuyen normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del desempeño de nuestro método en términos del error porcentual en el valor aproximado de Shapley. También se propuso un método para encontrar el valor de Shapley en [5]. Este método proporciona el valor exacto de Shapley, pero su complejidad de tiempo es exponencial. Además, el método solo se puede usar si el juego se representa en una forma específica (a saber, la representación de múltiples problemas), no de otra manera. Finalmente, [9, 10] presentan un método de tiempo polinomial para encontrar el valor de Shapley. Este método se puede usar si el juego de la coalición se representa como una red de contribución marginal. Además, suponen que el valor de Shapley de un componente de un juego de coalición dado viene dado por un oráculo, y sobre la base de esta suposición agregan estos valores para encontrar el valor para el juego general. En contraste, nuestro método es independiente el sexto intl. Conf.en agentes autónomos y sistemas de múltiples agentes (AAMAS 07) 965 de la representación y ofrece un valor de Shapley aproximado en tiempo lineal, sin la necesidad de un oráculo.7. Conclusiones y la formación de la coalición de trabajo futuro es una forma importante de interacción en sistemas multiagentes. Un tema importante en dicho trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría del juego cooperativo ofrece un concepto de solución llamado valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en el tiempo polinomial. En particular, el problema de encontrar este valor para el juego de votación es #P-COMPLETO. Aunque este problema es, en general, #P-complete, mostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley se puede determinar en el tiempo polinomial y caracterizar tales juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor exacto de Shapley. Para otros juegos de votación complejos, presentamos un nuevo método aleatorizado para determinar el valor aproximado de Shapley. La complejidad del tiempo del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo 20. Además, en la mayoría de los casos, el error es inferior al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye como 1. El peso de los jugadores aumenta, 2. la cuota aumenta y 3. El número de jugadores aumenta. Dado el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el valor verdadero de Shapley, nuestros resultados son especialmente relevantes para tales agentes limitados por recursos. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición común como la economía de producción y la economía de mercado.8. Puntos aceptables en los juegos cooperativos n-persona cooperativos generales. En contribuciones a la teoría de los juegos Volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela y M. Protasi. Complejidad y aproximación: problemas de optimización combinatoria y sus propiedades de aproximación. Springer, 2003. [3] J. M. Bilbao, J. R. Fernández, A. J. Losada y J. J. López. Generación de funciones para calcular los índices de potencia de manera eficiente. Top 8, 2: 191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de análisis de datos en experimentos de física de alta energía. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Computar valores de Shapley, manipular esquemas de división de valor y verificar la membresía central en dominios de múltiples problemas. En Actas de la Conferencia Nacional sobre Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la investigación de operaciones, 19 (2): 257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. Taller sobre el comercio electrónico mediado por agente, páginas 39-52, 2005. [8] A. Francis. Stanley Thornes Publishers, 1979. [9] S. Ieong e Y. Shoham. Redes de contribución marginal: un esquema de representación compacta para juegos de coalición. En Actas de la Sexta Conferencia ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong e Y. Shoham. Juegos de coalición multi-atribución. En Actas de la Séptima Conferencia ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de la formación de coalición. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para grandes juegos IV: Evaluar exactamente el Colegio Electoral. Informe técnico, The Rand Corporation, Santa Mónica, 1962. [13] A. Mascolell, M. Whinston y J. R. Green. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. The MIT Press, 1994. [15] C. H. Papadimitriou. Addison Wesley Longman, 1994. [16] A. Rapoport. Teoría del juego N-Persona: conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, The Shapley Value, páginas 1-27. Universidad de Cambridge Press, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Artificial Intelligence Journal, 94 (1): 99-137, 1997. [19] L. S. Shapley. En A. E. Roth, editor, The Shapley Value, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coalición en entornos generales: implementación y resultados. En Actas de la Conferencia Nacional sobre Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de la coalición del agente. Artificial Intelligence Journal, 101 (2): 165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: el estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 El sexto intl. Conf.en agentes autónomos y sistemas de múltiples agentes (AAMAS 07)",
    "original_sentences": [
        "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
        "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
        "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
        "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
        "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
        "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
        "The time complexity of this method is linear in the number of players.",
        "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
        "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
        "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
        "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
        "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
        "However, in many cases there may be more than one solution (i.e., a stable coalition).",
        "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
        "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
        "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
        "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
        "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
        "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
        "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
        "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
        "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
        "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
        "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
        "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
        "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
        "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
        "In other words, it is practically infeasible to try to compute the exact Shapley value.",
        "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
        "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
        "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
        "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
        "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
        "The computational complexity of such games has typically been tackled using two main approaches.",
        "The first is to use generating functions [3].",
        "This method trades time complexity for storage space.",
        "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
        "However the method we propose is more general than either of these (see Section 6 for details).",
        "Moreover, no work has previously analysed the approximation error.",
        "The approximation error relates to how close the approximate is to the true Shapley value.",
        "Specifically, it is the difference between the true and the approximate Shapley value.",
        "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
        "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
        "This analysis is carried out empirically.",
        "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
        "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
        "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
        "The rest of the paper is organised as follows.",
        "Section 2 defines the Shapley value and describes the weighted voting game.",
        "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
        "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
        "Section 6 discusses related literature.",
        "Finally, Section 7 concludes. 2.",
        "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
        "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
        "Hence the game is a competition between coalitions of players, rather than between individual players.",
        "Depending on how the players measure utility, coalition game theory is split into two parts.",
        "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
        "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
        "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
        "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
        "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
        "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
        "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
        "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
        "The problem then is how to split the total payoff between or among the players.",
        "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
        "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
        "Symmetry.",
        "This axiom requires that the names of players play no role in determining the value. 2.",
        "Carrier.",
        "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
        "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
        "Additivity.",
        "This axiom specifies how the values of different games must be related to one another.",
        "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
        "Shapley viewed this value as an index for measuring the power of players in a game.",
        "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
        "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
        "We first introduce some notation and then define the Shapley value.",
        "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
        "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
        "Then, a players Shapley value is defined in terms of its marginal contribution.",
        "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
        "DEFINITION 1.",
        "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
        "Suppose that all the players are arranged in some order, all orderings being equally likely.",
        "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
        "The method for finding a players Shapley value depends on the definition of the value function (v).",
        "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
        "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
        "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
        "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
        "This is because the value of any coalition is either zero or one.",
        "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
        "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
        "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
        "The property of uniqueness is desirable because it leaves no ambiguity.",
        "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
        "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
        "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
        "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
        "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
        "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
        "Each party has j votes.",
        "If q ≤ j, then there would be no need for the players to form a coalition.",
        "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
        "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
        "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
        "Let ϕ denote the Shapley value for a player.",
        "Consider any one player.",
        "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
        "In all other cases, its marginal contribution is zero.",
        "Thus, the Shapley value for each player ϕ = 1/m.",
        "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
        "There is one large player and m small ones.",
        "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
        "The total number of players is (m + 1).",
        "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
        "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
        "We first consider ws = 1 and then ws > 1.",
        "The smallest possible value for q is wl + 1.",
        "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
        "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
        "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
        "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
        "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
        "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
        "Consider the large party.",
        "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
        "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
        "In all the remaining cases, its marginal contribution is zero.",
        "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
        "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
        "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
        "We know that the sum of the Shapley values of all the m+1 players is one.",
        "Also, since the small parties have equal weights, their Shapley values are the same.",
        "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
        "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
        "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
        "The set of parties consists of ml large parties and ms small parties.",
        "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
        "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
        "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
        "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
        "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
        "The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
        "Such a coalition gives the large player unit marginal contribution.",
        "Let C2 l (i, q) denote the number of all such coalitions.",
        "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
        "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
        "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
        "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
        "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
        "For this voting game, consider a player of type 1.",
        "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
        "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
        "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
        "The remaining players join after the type 1 player.",
        "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
        "Thus, we have identified games for which the exact Shapley value can be easily determined.",
        "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
        "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
        "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
        "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
        "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
        "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
        "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
        "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
        "The approximation error refers to the difference between the exact solution and its approximation.",
        "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
        "We first describe the general voting game and then present our randomized algorithm.",
        "In its general form, a voting game has more than two types of players.",
        "Let wi denote the weight of player i.",
        "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
        "The weights are specified in terms of a probability distribution function.",
        "For such a game, we want to find the approximate Shapley value.",
        "We let P denote a population of players.",
        "The players weights in this population are defined by a probability distribution function.",
        "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
        "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
        "Ti ← 0; a ← q − wi; b ← q − 2.",
        "For X from 1 to m repeatedly do the following 2.1.",
        "Select a random sample SX of size X from the population P 2.2.",
        "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
        "Ti ← Ti + ΔX i 3.",
        "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
        "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
        "We use this rule to determine the Shapley value as follows.",
        "For player i with weight wi, let ϕi denote the Shapley value.",
        "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
        "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
        "Otherwise, its marginal contribution is zero.",
        "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
        "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
        "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
        "In more detail, Step 1 does the initialization.",
        "In Step 2, we vary X between 1 and m and repeatedly do the following.",
        "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
        "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
        "The time complexity of the proposed randomized method is linear in the number of players.",
        "PROOF.",
        "As per Equation 3, ΔX i must be computed m times.",
        "This is done in the for loop of Step 2 in Table 1.",
        "Hence, the time complexity of computing a players Shapley value is O(m).",
        "The following section analyses the approximation error for the proposed method. 5.",
        "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
        "However, before doing so, we introduce the idea of error.",
        "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
        "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
        "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
        "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
        "However, although it is not possible to do anything about such error, it can be characterized.",
        "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
        "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
        "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
        "An indication of how accurate the result is must be included also.",
        "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
        "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
        "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
        "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
        "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
        "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
        "This error is obtained by propagating the error in Equation 4 to Equation 2.",
        "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
        "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
        "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
        "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
        "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
        "In particular, we conduct experiments in the following setting.",
        "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
        "The number of parties (m). 2.",
        "The mean weight (μ). 3.",
        "The variance in the players weights (ν). 4.",
        "The quota for the voting game (q). 5.",
        "The given players weight (w).",
        "We fix μ = 10 and ν = 1.",
        "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
        "We then vary m, q, and w as follows.",
        "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
        "The results of these experiments are shown in Figures 2, 3, and 4.",
        "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
        "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
        "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
        "Thus, the interval is the same for both integrations and it is independent of wi.",
        "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
        "Only the limits of the integration are different.",
        "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
        "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
        "As per Equation 5, it is the maximum of these two areas.",
        "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
        "However, the area of the unshaded region B increases.",
        "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
        "For a given q, the Shapley value for player i is as given in Equation 3.",
        "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
        "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
        "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
        "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
        "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
        "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
        "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
        "Hence, for small m, e(σ1 ) has a significant effect on PE.",
        "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
        "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
        "One approach is to use generating functions [3].",
        "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
        "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
        "The other method uses an approximation technique based on Monte Carlo simulation.",
        "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
        "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
        "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
        "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
        "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
        "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
        "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
        "A method for finding the Shapley value was also proposed in [5].",
        "This method gives the exact Shapley value, but its time complexity is exponential.",
        "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
        "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
        "This method can be used if the coalition game is represented as a marginal contribution net.",
        "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
        "In contrast, our method is independent The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
        "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
        "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
        "In this context, cooperative game theory offers a solution concept called the Shapley value.",
        "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
        "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
        "In particular, the problem of finding this value for the voting game is #P-complete.",
        "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
        "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
        "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
        "The time complexity of the proposed method is linear in the number of players.",
        "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
        "Our experiments show that the percentage error in the Shapley value is at most 20.",
        "Furthermore, in most cases, the error is less than 5%.",
        "Finally, we analyse the effect of the different parameters of the voting game on this error.",
        "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
        "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
        "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
        "REFERENCES [1] R. Aumann.",
        "Acceptable points in general cooperative n-person games.",
        "In Contributions to theTheory of Games volume IV.",
        "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
        "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
        "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
        "Generating functions for computing power indices efficiently.",
        "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
        "Data Analysis Techniques in High Energy Physics Experiments.",
        "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
        "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
        "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
        "On the complexity of cooperative solution concepts.",
        "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
        "An analysis of the shapley value and its uncertainty for the voting game.",
        "In Proc. 7th Int.",
        "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
        "Advanced Level Statistics.",
        "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
        "Marginal contribution nets: A compact representation scheme for coalitional games.",
        "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
        "Multi-attribute coalition games.",
        "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
        "Theories of Coalition Formation.",
        "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
        "Values for large games iv: Evaluating the electoral college exactly.",
        "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
        "Microeconomic Theory.",
        "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
        "A Course in Game Theory.",
        "The MIT Press, 1994. [15] C. H. Papadimitriou.",
        "Computational Complexity.",
        "Addison Wesley Longman, 1994. [16] A. Rapoport.",
        "N-person Game Theory : Concepts and Applications.",
        "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
        "Introduction to the shapley value.",
        "In A. E. Roth, editor, The Shapley value, pages 1-27.",
        "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
        "Coalitions among computationally bounded agents.",
        "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
        "A value for n person games.",
        "In A. E. Roth, editor, The Shapley value, pages 31-40.",
        "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
        "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
        "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
        "Methods for task allocation via agent coalition formation.",
        "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
        "An introduction to error analysis: The study of uncertainties in physical measurements.",
        "University Science Books, 1982. 966 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
    ],
    "error_count": 0,
    "keys": {
        "coalition formation": {
            "translated_key": "formación de coalición",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION <br>coalition formation</br>, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of <br>coalition formation</br> and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated <br>coalition formation</br> [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK <br>coalition formation</br> is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of <br>coalition formation</br>.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent <br>coalition formation</br>.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Introducción \"Formación de coalición\", una forma clave de interacción en sistemas de múltiples agentes, es el proceso de unir dos o más agentes para lograr objetivos que las personas por su cuenta no pueden, o lograrlos de manera más eficiente [1, 11,14, 13].",
                "En este contexto, la teoría cooperativa del juego se ocupa del problema de la \"formación de coalición\" y ofrece una serie de conceptos de solución que poseen propiedades deseables como la estabilidad, la división justa de las ganancias conjuntas y la singularidad [16, 14].",
                "Dadas estas observaciones, varios investigadores de sistemas múltiples han utilizado y extendido soluciones teóricas cooperativas de juego cooperativas para facilitar la \"formación de coalición\" automatizada [20, 21, 18].",
                "Conclusiones y el trabajo futuro \"Formación de coalición\" es una forma importante de interacción en sistemas multiagentes.",
                "Teorías de \"Formación de coalición\".",
                "Métodos para la asignación de tareas a través del agente \"Formación de coalición\"."
            ],
            "translated_text": "",
            "candidates": [
                "formación de coalición",
                "Formación de coalición",
                "formación de coalición",
                "formación de coalición",
                "formación de coalición",
                "formación de coalición",
                "formación de coalición",
                "Formación de coalición",
                "formación de coalición",
                "Formación de coalición",
                "formación de coalición",
                "Formación de coalición"
            ],
            "error": []
        },
        "interaction": {
            "translated_key": "interacción",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of <br>interaction</br> in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of <br>interaction</br> in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Introducción La formación de la coalición, una forma clave de \"interacción\" en sistemas de múltiples agentes, es el proceso de unir dos o más agentes para lograr objetivos que las personas por su cuenta no pueden, o lograrlos de manera más eficiente [1, 11,14, 13].",
                "Conclusiones y la formación de la coalición de trabajo futuro es una forma importante de \"interacción\" en sistemas multiagentes."
            ],
            "translated_text": "",
            "candidates": [
                "interacción",
                "interacción",
                "interacción",
                "interacción"
            ],
            "error": []
        },
        "multi-agent system": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in <br>multi-agent system</br>s, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to <br>multi-agent system</br>s as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Introducción La formación de coalición, una forma clave de interacción en el \"sistema de múltiples agentes\", es el proceso de unir dos o más agentes para lograr objetivos que las personas por su cuenta no pueden, o lograrlos de manera más eficiente [1, 11, 14, 13].",
                "Sin embargo, el juego de votación tiene relevancia práctica para los \"sistemas de múltiples agentes\", ya que es un medio importante para llegar a un consenso entre múltiples agentes."
            ],
            "translated_text": "",
            "candidates": [
                "sistema de múltiples agentes",
                "sistema de múltiples agentes",
                "sistema de múltiples agentes",
                "sistemas de múltiples agentes"
            ],
            "error": []
        },
        "cooperative game theory": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, <br>cooperative game theory</br> deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "<br>cooperative game theory</br> differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-<br>cooperative game theory</br>, <br>cooperative game theory</br> does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, <br>cooperative game theory</br> offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En este contexto, la \"teoría cooperativa de juegos\" se ocupa del problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como la estabilidad, la división justa de las ganancias conjuntas y la singularidad [16, 14].",
                "La \"teoría del juego cooperativo\" difiere de su contraparte no cooperativa en que para los primeros se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor recompensa total.",
                "Además, a diferencia de la \"teoría del juego cooperativo\", la \"teoría del juego cooperativo\" no especifica un juego a través de una descripción del entorno estratégico (incluido el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los pagos resultantes, sino, en cambio, reduce esta colección de datos a la forma de coalición donde cada coalición está representada por un solo número real: no hay acciones, movimientos o pagos individuales.",
                "En este contexto, la \"Teoría del juego cooperativo\" ofrece un concepto de solución llamado valor de Shapley."
            ],
            "translated_text": "",
            "candidates": [
                "Teoría del juego cooperativo",
                "teoría cooperativa de juegos",
                "Teoría del juego cooperativo",
                "teoría del juego cooperativo",
                "Teoría del juego cooperativo",
                "teoría del juego cooperativo",
                "teoría del juego cooperativo",
                "Teoría del juego cooperativo",
                "Teoría del juego cooperativo"
            ],
            "error": []
        },
        "shapley value": {
            "translated_key": "Valor de Shapley",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the <br>shapley value</br> for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The <br>shapley value</br> is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the <br>shapley value</br> cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate <br>shapley value</br>.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the <br>shapley value</br> [19].",
                "A players <br>shapley value</br> gives an indication of its prospects of playing the game - the higher the <br>shapley value</br>, the better its prospects.",
                "The main advantage of the <br>shapley value</br> is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the <br>shapley value</br> has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the <br>shapley value</br> for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact <br>shapley value</br>.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the <br>shapley value</br> for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate <br>shapley value</br>.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true <br>shapley value</br>.",
                "Specifically, it is the difference between the true and the approximate <br>shapley value</br>.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate <br>shapley value</br>.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true <br>shapley value</br>, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the <br>shapley value</br> and describes the weighted voting game.",
                "In Section 3 we describe voting games whose <br>shapley value</br> can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate <br>shapley value</br> and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the <br>shapley value</br> and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the <br>shapley value</br> as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the <br>shapley value</br>.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players <br>shapley value</br> is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The <br>shapley value</br> (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The <br>shapley value</br> is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players <br>shapley value</br> depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the <br>shapley value</br> is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players <br>shapley value</br> is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the <br>shapley value</br> can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the <br>shapley value</br> for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the <br>shapley value</br> for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the <br>shapley value</br> for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the <br>shapley value</br> of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the <br>shapley value</br> of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the <br>shapley value</br> for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the <br>shapley value</br> for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players <br>shapley value</br> is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the <br>shapley value</br> is O(T q/wl).",
                "In the same way, a small players <br>shapley value</br> is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the <br>shapley value</br> of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact <br>shapley value</br> can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate <br>shapley value</br>. 4.",
                "FINDING THE APPROXIMATE <br>shapley value</br> We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate <br>shapley value</br>.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate <br>shapley value</br> and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate <br>shapley value</br>.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate <br>shapley value</br> of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the <br>shapley value</br> for player i.",
                "We know from Definition 1, that the <br>shapley value</br> for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the <br>shapley value</br> as follows.",
                "For player i with weight wi, let ϕi denote the <br>shapley value</br>.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the <br>shapley value</br> is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the <br>shapley value</br> for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players <br>shapley value</br> is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate <br>shapley value</br> and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the <br>shapley value</br> by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the <br>shapley value</br> (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players <br>shapley value</br> depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the <br>shapley value</br> for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the <br>shapley value</br>) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the <br>shapley value</br>, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the <br>shapley value</br> is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the <br>shapley value</br> by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate <br>shapley value</br>.",
                "A method for finding the <br>shapley value</br> was also proposed in [5].",
                "This method gives the exact <br>shapley value</br>, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the <br>shapley value</br>.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the <br>shapley value</br> of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate <br>shapley value</br> in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the <br>shapley value</br>.",
                "The main advantage of the <br>shapley value</br> is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the <br>shapley value</br> cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the <br>shapley value</br> can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact <br>shapley value</br>.",
                "For other complex voting games, we presented a new randomized method for determining the approximate <br>shapley value</br>.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate <br>shapley value</br>.",
                "Our experiments show that the percentage error in the <br>shapley value</br> is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true <br>shapley value</br>, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the <br>shapley value</br> for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the <br>shapley value</br> and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the <br>shapley value</br>.",
                "In A. E. Roth, editor, The <br>shapley value</br>, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The <br>shapley value</br>, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Un método aleatorizado para el \"valor de Shapley\" para el juego de votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido.mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, Reino Unido.nrj@ecs.soton.ac.uk Resumen El \"valor de Shapley\" es uno de los conceptos clave de la solución para los juegos de coalición.",
                "Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el \"valor de Shapley\" no se puede determinar en el tiempo polinomial.",
                "Para otros juegos de votación generales, superamos el problema de la complejidad computacional al presentar un nuevo método aleatorizado para determinar el \"valor de Shapley\" aproximado.",
                "Además, en este trabajo, uno de los conceptos de solución más ampliamente estudiados es el \"valor de Shapley\" [19].",
                "Un \"valor de Shapley\" de los jugadores da una indicación de sus perspectivas de jugar el juego: cuanto más alto sea el \"valor de Shapley\", mejores son sus perspectivas.",
                "La principal ventaja del \"valor de Shapley\" es que proporciona una solución que es única y justa (ver Sección 2.1 para una discusión sobre la propiedad de la equidad).",
                "Sin embargo, aunque ambas son propiedades deseables, el \"valor de Shapley\" tiene un inconveniente importante: para muchos juegos de coalición, no se puede determinar en el tiempo polinomial.",
                "Dado que #P-completidad, por lo tanto, subsume la completidad de NP, esto implica que calcular el \"valor de Shapley\" para el juego de votación ponderado será intratable en general.",
                "En otras palabras, es prácticamente inviable tratar de calcular el \"valor de Shapley\" exacto."
            ],
            "translated_text": "",
            "candidates": [
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley",
                "Valor de Shapley",
                "valor de Shapley"
            ],
            "error": []
        },
        "unique and fair solution": {
            "translated_key": "Solución única y justa",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a <br>unique and fair solution</br>, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Su principal ventaja es que proporciona una \"solución única y justa\", pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en el tiempo polinomial."
            ],
            "translated_text": "",
            "candidates": [
                "Solución única y justa",
                "solución única y justa"
            ],
            "error": []
        },
        "polynomial time": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in <br>polynomial time</br>.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in <br>polynomial time</br>.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in <br>polynomial time</br>.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in <br>polynomial time</br>.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH <br>polynomial time</br> SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in <br>polynomial time</br>.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a <br>polynomial time</br> method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in <br>polynomial time</br>.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in <br>polynomial time</br> and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en \"tiempo polinómico\".",
                "Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene un inconveniente importante: para muchos juegos de coalición, no se puede determinar en \"tiempo polinomial\".",
                "Específicamente, primero mostramos que hay algunos juegos de votación específicos para los cuales el valor exacto puede calcularse 959 978-81-904262-7-5 (RPS) c 2007 Ifaamas en \"tiempo polinómico\".",
                "En la Sección 3 describimos los juegos de votación cuyo valor de Shapley se puede encontrar en \"tiempo polinomial\".",
                "Los juegos de votación con soluciones de \"tiempo polinómico\" aquí describimos aquellos juegos de votación para los cuales el valor de Shapley se puede determinar en \"tiempo polinomial\".",
                "Finalmente, [9, 10] presentan un método de \"tiempo polinomial\" para encontrar el valor de Shapley.",
                "Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en \"tiempo polinomial\".",
                "Aunque este problema es, en general, #P-complete, mostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley se puede determinar en \"tiempo polinómico\" y caracterizar tales juegos."
            ],
            "translated_text": "",
            "candidates": [
                "tiempo polinomial",
                "tiempo polinómico",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinómico",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinómico",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinomial",
                "tiempo polinómico"
            ],
            "error": []
        },
        "means of reaching consensus": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important <br>means of reaching consensus</br> between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Sin embargo, el juego de votación tiene relevancia práctica para los sistemas de múltiples agentes, ya que es un \"medio importante para llegar a un consenso\" entre múltiples agentes."
            ],
            "translated_text": "",
            "candidates": [
                "medios para llegar a un consenso",
                "medio importante para llegar a un consenso"
            ],
            "error": []
        },
        "reaching consensus mean": {
            "translated_key": "alcanzar la media de consenso",
            "is_in_text": false,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "randomised method": {
            "translated_key": "método aleatorizado",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new <br>randomised method</br>, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster <br>randomised method</br> for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Para los juegos de votación computacionalmente complejos, presentamos un nuevo \"método aleatorizado\", en la línea de la simulación de Monte-Carlo, para calcular el valor de Shapley aproximado.",
                "Para tratar tales situaciones, por lo tanto, la siguiente sección presenta un \"método aleatorizado\" más rápido para encontrar el valor de Shapley aproximado.4."
            ],
            "translated_text": "",
            "candidates": [
                "método aleatorizado",
                "método aleatorizado",
                "Método aleatorizado",
                "método aleatorizado"
            ],
            "error": []
        },
        "generating function": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use <br>generating function</br>s [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use <br>generating function</br>s [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El primero es usar \"Función de generación\" S [3].",
                "Un enfoque es usar \"función de generación\" s [3]."
            ],
            "translated_text": "",
            "candidates": [
                "función generadora",
                "Función de generación",
                "función generadora",
                "función de generación"
            ],
            "error": []
        },
        "approximation": {
            "translated_key": "aproximación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an <br>approximation</br> technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the <br>approximation</br> error.",
                "The <br>approximation</br> error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an <br>approximation</br> method is evaluated in terms of two criteria: its time complexity, and its <br>approximation</br> error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of <br>approximation</br>.",
                "The <br>approximation</br> error refers to the difference between the exact solution and its <br>approximation</br>.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the <br>approximation</br>). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the <br>approximation</br> error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 <br>approximation</br> error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an <br>approximation</br> technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and <br>approximation</br>: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El segundo utiliza una técnica de \"aproximación\" basada en la simulación de Monte Carlo [12, 7].",
                "Además, ningún trabajo ha analizado previamente el error de \"aproximación\".",
                "El error de \"aproximación\" se relaciona con qué tan cerca está la aproximación al valor verdadero de Shapley.",
                "Es importante determinar este error porque el rendimiento de un método de \"aproximación\" se evalúa en términos de dos criterios: su complejidad de tiempo y su error de \"aproximación\".",
                "Ahora, dado que tales algoritmos generan soluciones aproximadas, su rendimiento se evalúa en términos de dos criterios: su complejidad del tiempo y su error de \"aproximación\".",
                "El error de \"aproximación\" se refiere a la diferencia entre la solución exacta y su \"aproximación\".",
                "De esta población de jugadores dibujamos al azar muestras y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la teoría de muestreo (ver [8] P425): si W1, W2 ,..., WN es una muestra aleatoria de tamaño N extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución normal aproximada con Nμ y varianza ν n (cuanto más grande sea, mejor será la \"aproximación\").962 El sexto intl.",
                "La siguiente sección analiza el error de \"aproximación\" para el método propuesto.5.",
                "Dado esto, la siguiente sección define este error y lo usa para evaluar el rendimiento del método aleatorizado propuesto.5.1 Error de \"aproximación\" La precisión del método aleatorizado anterior depende de su error de muestreo que se define de la siguiente manera [22, 4]: Definición 2.",
                "El otro método utiliza una técnica de \"aproximación\" basada en la simulación de Monte Carlo."
            ],
            "translated_text": "",
            "candidates": [
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "aproximación",
                "Aproximación",
                "aproximación",
                "Aproximación",
                "aproximación",
                "aproximación",
                "aproximación"
            ],
            "error": []
        },
        "game-theory": {
            "translated_key": "teoría de juego",
            "is_in_text": false,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        }
    }
}