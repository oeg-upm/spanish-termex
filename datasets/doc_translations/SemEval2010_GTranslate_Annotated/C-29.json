{
    "id": "C-29",
    "original_text": "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX. We have implemented CONFLEX-G using a grid RPC system called OmniRPC. In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters. In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid. OmniRPC provides a restricted persistence model to support the parametric search applications. In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure. This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid. The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time. The load imbalance of the optimization time of the trial structure may also cause performance degradation. Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1. INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science. While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations. Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing. Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources. CONFLEX is one of the most efficient and reliable conformational space search programs[1]. We have applied this 154 program to parallelization using global computing. The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster. Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation. Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone. Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures. This requires the vast computer resources of a grid computing environment. In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed. The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput. In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed. OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing. Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9]. The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications. In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC. In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness. In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set. In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls. In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call. This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers. We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule. The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers. Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program. In addition, the user can easily build a private grid environment. The rest of this paper is organized as follows. An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3. We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4. In Section 6, we present conclusions and discuss subjects for future study. 2. CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region. Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions. The original CONFLEX performs the following four major steps: 1. Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2. Generation of trial structures by local perturbations to the selected initial structure. 3. Geometry optimization for the newly generated trial structures. 4. Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database. Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm. These procedures incorporate two unique strategies. Figure 2 shows the strategies for generating local perturbations in CONFLEX. The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains. These methods provide a highly efficient way to produce several good trial structures. These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion. Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation. The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions. The initial structure is selected as the set of lowest energy conformers stored in the conformation database. This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way. Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm. In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined. Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques. In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution. Therefore, we parallelized this optimization using the Master/Worker parallelization technique. We modified the search procedures as follows. After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node. Then, each worker node is dynamically supplied with one trial structure from the master node. After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure. When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison. By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3. CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease. In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense. We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster. In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system. CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment. Figure 3 shows the process of CONFLEX-G. The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation. At each RPC call, the initialized state is reused on the remote host. In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment. OmniRPC inherits its API and basic architecture from Ninf. A client and the remote computational hosts which execute the remote procedures may be connected via a network. The remote libraries are implemented as an executable program which contains a network stub routine as its main routine. We call this executable program a remote executable program (rex). When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file. To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh. The user can switch the configurations only by changing the host file. OmniRpcCall is a simple client programming interface for calling remote functions. When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host. When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file. If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call. The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function. Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again. When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission. Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables. This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account. Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters. For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection. This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts. When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO. Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address. For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations. The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request. In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly. Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs. For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module. The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls. Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used. As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization. Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls. However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls. This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults. However, persistence of the remote executable can be exploited in certain applications. An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters. This is the case for CONFLEX. OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application. If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure. When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module. This can eliminate unnecessary communications when RPC calls use the same data. To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures. Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility. In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation. The bold line indicates the time when the client program sends the data to a worker program. It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC. The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized. This can reduce the initialization at each RPC. The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG. Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment. There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization. First, the OmniRPC facility of the AIM is adapted for initialization of a worker program. This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node. It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module. Table 1: Machine configurations in the grid testbed. Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported. In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically. Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes. Thus, the higher the set-up cost, the greater the potential benefit. We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function. We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization. This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set. Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state. The result is returned to the client program after the worker has Optimized the trial structure. Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side. To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC. In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure. The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows. OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ... Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function. As described above, the actual Initialization is performed at the first remote call. Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance. Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster. Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4. PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST). Table 1 shows the computing resources used for the grid of the present study. The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan. Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed. The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba. The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler. SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used. Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster. That is, the number of workers is equal to the number of CPUs. These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95. MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G. In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility. The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set. In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules. The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster. Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster. Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code. Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04. Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y. Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1. Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism. Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure. Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster. We investigated performance by varying the number of workers using the Dennis cluster. We chose AlaX04 as a test molecule for this experiment. Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster. The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX. We found that CONFLEX-G achieved efficiencies comparable to the MPI version. With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version. The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers. This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs. As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version. This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI. In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase. In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued. Therefore, the initialization incurs this overhead. Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large. In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment. Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster. Detailed results are shown in Table 4 and Table 5. In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters. CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16. In the case of AlaX04, the performance is improved only when the network performance between clusters is high. However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short. In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time. In particular, the data transmission required for the initialization of a worker program is 2 MB. In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds. Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission. Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained. In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed. This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden. The best performance was obtained using 64 workers in the Dennis and Alice clusters. In the case of AaX16, the achieved performance was a speedup of 36.08 times. Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance. In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility. In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network. The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules. In a grid environment, this experiment was conducted using the Dennis and Ume clusters. In this experiment, we used two proteins, 1L2Y and 1BL1. Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively. The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI. CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y. Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved. We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation. When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4. For 1BL1, the ratio of minimum time over maximum time was 190. In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours. This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments. Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism. In this experiment, the degree of parallelism was not so large in the case of the sample molecules. When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two. If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM. One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures. In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated. Furthermore, this will help to improve load imbalance. By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations. It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search. Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster. When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures. The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time. Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced. When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time. Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX. This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures. In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated. By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs. However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster. Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes. In general, however, it might be difficult to predict the time required for trial structure optimization. Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program. In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5. RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation. The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved. This has allowed us to simulate folding for the first time and to directly examine folding related diseases. SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites. SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers. Radio telescope data chunks can easily be assigned to different computers. Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort. However, the skills and effort required to develop a grid application may not be required for OmniRPC. Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters. Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network. Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design. NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism. Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall. Matsuoka et al.[16] has also discussed several design issues related to grid RPC systems. 162 6. CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC. We reported its performance in a grid testbed of several geographically distributed PC clusters. In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid. OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure. This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid. The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time. The load imbalance of the trial structure optimizations may cause performance degradation. We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX. Future studies will include development of deployment tools and an examination of fault tolerance. In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set. Deployment tools will be required as the number of remote hosts is increased. In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance. This feature is especially important in large-scale applications which require lengthy calculation in a grid environment. We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7. ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design). We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8. REFERENCES [1] H. Goto and E. Osawa. An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules. J. Chem. Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi. OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment. In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi. OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP. In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi. Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure. In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka. Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing . Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar. Users Guide to NetSolve V1.4.1. Innovative Computing Dept. Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova. GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima. Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search. In Nanotech2003, volume 1, pages 32-35, 2003. [12] I. Foster and C. Kesselman. Globus: A metacomputing infrastructure toolkit. The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande. Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology. Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson. The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid. Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi. Design issues of Network Enabled Server Systems for the Grid. In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163",
    "original_translation": "Implementación y evaluación del desempeño de Conflex-G: Programa de búsqueda de espacio conformacional molecular habilitado para la red con Omnirpc Yoshihiro Nakajima Escuela de Graduados de Sistemas e Ingeniería de la Información, Universidad de Tsukuba Tsukuba, 305-8577, Japón yoshihiro@hpcs.is.tsukuba.ac.JPMitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japón msato@is.tsukuba.ac.jp Hitohi GOO GOTO Ingeniería de información basada en el conocimiento, Toyohashi University Technology Toolyhashi, 441-8580, Japón Gotoh@COCHEM2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japón {Taisuke, Daisuke}@hpcs.is.tsukuba.ac.jp Resumen conflex-g esLa versión habilitada para la cuadrícula de un programa de búsqueda de espacio conformacional molecular llamado conflex. Hemos implementado Conflex-G utilizando un sistema RPC Grid llamado OMNIRPC. En este documento, informamos el rendimiento de Conflex-G en un tallador de cuadrícula de varios grupos de PC distribuidos geográficamente. Para explorar muchas conformaciones de grandes bio-moléculas, Conflex-G genera estructuras de prueba de las moléculas y asigna trabajos para optimizar una estructura de prueba con un método de mecánica molecular confiable en la cuadrícula. OMNIRPC proporciona un modelo de persistencia restringido para admitir las aplicaciones de búsqueda paramétrica. En este modelo, cuando el procedimiento de inicialización se define en el módulo RPC, el módulo se inicializa automáticamente en el momento de la invocación llamando al procedimiento de inicialización. Esto puede eliminar la comunicación e inicialización innecesaria en cada llamada en Conflex-G.Conflexg puede lograr un rendimiento comparable a MPI Conflex y puede explotar más recursos informáticos al permitir el uso de un clúster de múltiples grupos en la cuadrícula. El resultado experimental muestra que el conflex-G logró una aceleración de 56.5 veces en el caso de la molécula 1BL1, donde la molécula consiste en una gran cantidad de átomos, y cada optimización de la estructura de prueba requiere un tiempo significativo. El desequilibrio de carga del tiempo de optimización de la estructura de prueba también puede causar la degradación del rendimiento. Categorías y descriptores de sujetos C.2.4 [Organización de sistemas informáticos]: sistemas distribuidos por redes de comunicación ComputerMunication;J.2.4 [Aplicaciones informáticas]: Ciencias físicas e ingeniería Términos generales Diseño, rendimiento 1. La aclaración de la introducción de las conformaciones estables y el proceso de plegamiento de las proteínas es uno de los objetivos más fundamentales y desafiantes en la ciencia de la vida. Mientras que algunas de las estructuras secundarias más comunes (por ejemplo, ciertos tipos de hélice, la cadena beta y la bobina) son bien conocidos, un análisis preciso de los miles de conformadores químicamente importantes y el análisis de orden pico de sus interconversiones conformacionales a través de sus conformacionalLos estados de transición en la superficie de energía potencial son necesarios para la investigación de orden de microsegundos del proceso de plegamiento hacia las formaciones de la estructura terciaria. Recientemente, el concepto de la red computacional ha comenzado a atraer un interés significativo en el campo de la informática de la red de alto rendimiento. Los rápidos avances en tecnología e infraestructura de red de amplio área han permitido construir entornos informáticos distribuidos a gran escala y de alto rendimiento, o cuadrículas computacionales, que proporcionan un acceso confiable, consistente y generalizado a enormes recursos computacionales. Conflex es uno de los programas de búsqueda de espacio conformacional más eficientes y confiables [1]. Hemos aplicado este programa 154 a la paralelización utilizando la computación global. El rendimiento del conflex paralelo permite la exploración de la región de menor energía del espacio conformacional de pequeños péptidos dentro de un tiempo transcurrido disponible utilizando un clúster de PC local. Dado que la optimización de la estructura del ensayo en Conflex se calcula a través de la mecánica molecular, la búsqueda de espacio conformacional se puede realizar rápidamente en comparación con la utilizando el cálculo orbital molecular. Aunque la versión paralela de Conflex se utilizó para calcular en paralelo la optimización de la estructura, que ocupa más del 90% del procesamiento en la búsqueda de conformación molecular, no se pudo lograr una mejora suficiente en la aceleración solo con este método. Por lo tanto, para los polímeros altos de organismos vivos, como la proteasa del VIH, el clúster de uso de una PC es insuficiente debido al requisito de optimización de una gran cantidad de estructuras de prueba. Esto requiere los vastos recursos informáticos de un entorno informático de la cuadrícula. En este artículo, describimos a Conflex-G, un programa de búsqueda conformacional molecular habilitado para la red, utilizando OMNIRPC e informar su rendimiento en una cuadrícula de varios grupos de PC que se distribuyen geográficamente. El prototipo de conflex-G asigna la optimización de estructuras de ensayo de cálculo, que es una tarea que requiere mucho tiempo, a los nodos de los trabajadores en el entorno de la cuadrícula para obtener un alto rendimiento. Además, comparamos el rendimiento de Conflex-G en un clúster de PC local con el de un lecho de prueba de cuadrícula. OMNIRPC [2, 3, 4] es una implementación segura de hilo de NINF RPC [5, 6], que es una instalación de RPC de cuadrícula para la informática del entorno de la cuadrícula. Varios sistemas adoptan el concepto de RPC como el modelo básico para la computación del entorno de la cuadrícula, incluidos NINF-G [7], NetSolve [8] y Corba [9]. El sistema RPCStyle proporciona una interfaz de programación intuitiva e fácil de usar, lo que permite a los usuarios del sistema de cuadrícula crear fácilmente aplicaciones habilitadas para la red. Para admitir la programación paralela, un cliente RPC puede emitir solicitudes de llamadas asíncronas a una computadora remota diferente para explotar el paralelismo en toda la red a través de OMNIRPC. En este artículo, proponemos el modelo de persistencia OmnIrpc a un sistema RPC de la cuadrícula y demostramos su efectividad. Para admitir una aplicación típica para un entorno de cuadrícula, como una aplicación de búsqueda paramétrica, en la que la misma función se ejecuta con diferentes parámetros de entrada en el mismo conjunto de datos. En el sistema GRIDRPC actual [10], los datos establecidos por la llamada anterior no pueden ser utilizadas mediante llamadas posteriores. En el sistema OMNIRPC, una vez que se invoca un ejecutable remoto, el cliente intenta usar el ejecutable remoto invocado y su estado inicializado para las llamadas RPC posteriores a las mismas funciones remotas para eliminar el costo de invocación de cada llamada. Este documento demuestra que Conflex-G puede explotar los enormes recursos informáticos de un entorno de cuadrícula y buscar conformadores moleculares a gran escala. Demostramos conflex-G en nuestro lecho de prueba de cuadrícula utilizando la proteína real como una molécula de muestra. La instalación OMNIRPC del módulo inicializable automático (AIM) permite que el sistema calcule eficientemente numerosos conformadores. Además, al usar OMNIRPC, el usuario puede paralelizar la red y moverse del clúster al entorno de la cuadrícula sin modificar el código del programa y compilar el programa. Además, el usuario puede construir fácilmente un entorno de cuadrícula privada. El resto de este documento está organizado de la siguiente manera. Una selección general de la base de datos de estructura inicial Base de datos Local Perturbation Geometry Optimización Comparación y registro Figura 1: Algoritmo de búsqueda de espacio conformacional en el conflex original.del sistema Conflex se presenta en la Sección 2, y la implementación y el diseño de Conflex-G se describen en la Sección 3. Reportamos los resultados experimentales obtenidos usando Conflex-G y discutimos su rendimiento en la Sección 4. En la Sección 6, presentamos conclusiones y discutimos sujetos para futuros estudios.2. Conflex Conflex [1] es un programa de búsqueda de espacio conformacional eficiente, que puede buscar predominantemente y exhaustivamente los conformadores en la región de menor energía. Las aplicaciones de Conflex incluyen la aclaración de la reactividad y la selectividad de los medicamentos y los posibles materiales de medicamentos con respecto a su flexibilidad conformacional.2.1 Algoritmo de Informational Spacessarch La estrategia básica de Conflex es una búsqueda exhaustiva de las regiones de baja energía. El conflex original realiza los siguientes cuatro pasos principales: 1. Selección de una estructura inicial entre los conformadores únicos descubiertos previamente ordenados en una base de datos conformacional.(Una estructura de entrada se usa como la primera estructura inicial al comienzo de una ejecución de búsqueda solamente). 2. Generación de estructuras de prueba por perturbaciones locales a la estructura inicial seleccionada.3. Optimización de geometría para las estructuras de prueba recientemente generadas.4. Comparación de las estructuras optimizadas (de prueba) con éxito con los otros conformadores almacenados en una base de datos de conformación y la preservación de conformadores únicos recién descubiertos en la base de datos. La Figura 1 muestra el esquema de Conflex, el algoritmo de búsqueda de espacio conformacional original. Estos procedimientos incorporan dos estrategias únicas. La Figura 2 muestra las estrategias para generar perturbaciones locales en Conflex. La primera estrategia implica tanto el aleteo de la esquina como el volteo de borde para los átomos del anillo y la rotación paso a paso para cadenas laterales o cadenas de columna vertebral. Estos métodos proporcionan una forma altamente eficiente de producir varias buenas estructuras de prueba. Estas perturbaciones se pueden considerar para imitar 155 155 FIGA DEL ENTA DEL ENTA DE CORQUE DE ROTACIÓN PASO FIGURA 2: Estrategias utilizadas para generar las perturbaciones locales.Un paso de cruce de barrera en el proceso elemental de la interconversión conformacional térmica. En realidad, las perturbaciones de una estructura inicial corresponden al rendimiento preciso alrededor del espacio de la estructura inicial debido a la localización y debilidad de la perturbación. La regla de selección de la estructura inicial, la regla más baja del Conformador primero, es la segunda estrategia para dirigir la búsqueda de conformación expandida a las regiones de baja energía. La estructura inicial se selecciona como el conjunto de conformadores de energía más bajos almacenados en la base de datos de conformación. Esta regla es efectiva para moverse por el espacio de búsqueda hacia regiones de menor energía, como el agua desde una corriente que se encuentra con un depósito vacío, mientras llena las depresiones locales en el camino. Por lo tanto, estos procedimientos tácticos de la búsqueda conflex se denominan algoritmo de llenado del depósito. Para permanecer en la región de baja energía y realizar una búsqueda exhaustiva, el límite de búsqueda (SEL), que determina la energía máxima de las estructuras iniciales, está predefinida. El aumento gradual del SEL permite que solo se registren los conformadores de baja energía y evita que se desvíe en regiones innecesariamente de alta energía.2.2 Paralelización de conflex para el clúster para la aplicación a más de 100 átomos, el conflex mejoró utilizando técnicas de computación paralela de alto rendimiento. En el algoritmo de búsqueda Conflex, los procedimientos de optimización de geometría siempre toman el 95% del tiempo transcurrido de la ejecución de la búsqueda. Por lo tanto, paralelamos esta optimización utilizando la técnica de paralelización de maestro/trabajador. Modificamos los procedimientos de búsqueda de la siguiente manera. Después de generar estructuras de prueba (Paso 2), se almacenan temporalmente en un grupo de tareas en el nodo maestro. Luego, cada nodo trabajador se suministra dinámicamente una estructura de prueba del nodo maestro. Después de finalizar una optimización en un nodo de trabajador, el trabajador se suministra inmediatamente con otra estructura de prueba. Cuando todas las estructuras de prueba relacionadas con una estructura inicial dada están optimizadas, solo el procedimiento maestro se usa en comparación. Al paralelizar al conflex, la aceleración de la búsqueda de conformadores moleculares obtenidos es como se informa en [11].3. Conflex-G Originalmente, Conflex estaba destinado a su uso en la exploración de los conformadores de las grandes bio-moléculas, dicha proteasa del VIH. En tales moléculas, aumenta el número de estructuras de prueba y el tiempo requerido para la optimización de la selección de RPC de las conformaciones de estructura inicial Base de datos Comparación de perturbación local y registro Programa del cliente Task Bolet de la optimización de geometría Optimización RPC RPC Grid Grid Cluster B Cluster A Cluster C ESTRUCTURA DE ESTRUCTURA DE ESTRUCTURA DE ESTRUCTURAEstructura de prueba Estructura Figura 3: Procedimiento de Conflex-G.Agente Rexrex Rex Cliente Jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 agente invocation Communicationnetwork Figura 4: Descripción general del sistema OMNIRPC para el clúster remoto que tiene una dirección IP privada.La estructura del juicio se vuelve inmensa. Implementamos la versión paralela de Conflex, que no puede tratar tales moléculas usando solo un clúster de PC local. Para explotar los vastos recursos informáticos de un entorno de cuadrícula, diseñamos e implementamos Conflex-G, que es una versión habilitada para la cuadrícula de Conflex, con el sistema OMNIRPC. Conflex-G asigna trabajos para optimizar una estructura de prueba a los nodos computacionales de cada clúster en el entorno de la cuadrícula. La Figura 3 muestra el proceso de Conflex-G. Los programas de los trabajadores se inicializan mediante el método Initialize, que proporciona la instalación de AIM de OMNIRPC en la invocación de trabajadores. En cada llamada RPC, el estado inicializado se reutiliza en el host remoto. En otras palabras, el programa del cliente puede eliminar la inicialización para cada llamada RPC y, por lo tanto, puede optimizar las estructuras de prueba de manera eficiente.3.1 El sistema OMNIRPC OMNIRPC es un sistema RPC Grid que permite una programación paralela perfecta desde un clúster de PC a un entorno de cuadrícula. OMNIRPC hereda su API y arquitectura básica de NINF. Un cliente y los hosts computacionales remotos que ejecutan los procedimientos remotos pueden conectarse a través de una red. Las bibliotecas remotas se implementan como un programa ejecutable que contiene una rutina de red de red como su rutina principal. Llamamos a este programa ejecutable un programa ejecutable remoto (REX). Cuando se inicia el programa del cliente OMNIRPC, la función de inicialización del sistema OMNIRPC invoca el programa OMNIRPC Agent Program OMRPC-Agent en los hosts remotos que figuran en el archivo de host. Para invocar al agente, el usuario puede usar el comando de shell remoto RSH en una red de área local, la API Gram (Globus Resource Asignation Manager) de Globus 156 Toolkit [12] en un entorno de cuadrícula o el comando shell de shell seguro SSH SSH. El usuario puede cambiar las configuraciones solo cambiando el archivo de host. OMNIRPCCALL es una simple interfaz de programación de clientes para llamar a funciones remotas. Cuando OmnIrpCCall realiza una llamada de procedimiento remoto, la llamada se asigna a un host remoto apropiado. Cuando el cliente emite la solicitud RPC, solicita que el agente en el host seleccionado envíe el trabajo del ejecutable remoto con el programador de trabajo local especificado en el archivo de host. Si no se especifica el programador de trabajo, el agente ejecuta el ejecutable remoto en el mismo nodo por la llamada del sistema de la bifurcación. El cliente envía los datos de los argumentos de entrada al ejecutable remoto invocado y recibe los resultados al retorno de la función remota. Una vez que se invoca un ejecutable remoto, el cliente intenta usar el ejecutable remoto invocado para llamadas RPC posteriores para eliminar el costo de invocar el mismo ejecutable remoto nuevamente. Cuando se invocan el agente y los ejecutables remotos, los programas remotos obtienen la dirección y el puerto del cliente de la lista de argumentos y se conectan nuevamente al cliente por TCP/IP directo o Globus-IO para la transmisión de datos. Debido a que el sistema OMNIRPC no utiliza ningún puerto de servicio fijo, el programa del cliente asigna los puertos no utilizados dinámicamente para esperar la conexión desde los ejecutables remotos. Esto evita posibles problemas de seguridad y permite al usuario instalar el sistema OMNIRPC sin requerir una cuenta privilegiada. Aquí, un recurso de cuadrícula típico se considera un grupo de grupos de PC distribuidos geográficamente. Para los grupos de PC en una red privada, un proceso de agente OMNIRPC en el host del servidor funciona como un proxy para transmitir las comunicaciones entre el cliente y los ejecutables remotos multiplexando las comunicaciones utilizando una sola conexión. Esta característica, llamada Multiplex IO (MXIO), permite que un solo cliente use hasta 1,000 hosts informáticos remotos. Cuando el clúster de PC está dentro de un firewall, el reenvío de puerto de SSH permite que el nodo se comunique con el exterior con MXIO. La Figura 4 muestra la descripción general del sistema OMNIRPC para un clúster remoto con una dirección IP privada. Para la programación paralela, el programador puede usar llamadas de procedimientos remotos asíncronos, lo que permite al cliente emitir varias solicitudes mientras continúa con otros cálculos. Las solicitudes se envían a diferentes hosts remotos que se ejecutarán en paralelo, y el cliente espera o encuesta la solicitud completa. En dicho modelo de programación con llamadas de procedimiento remoto asíncrono, el programador debe manejar solicitudes sobresalientes explícitamente. Debido a que OMNIRPC es un sistema seguro para los subprocesos, una serie de llamadas de procedimientos remotos pueden ser sobresalientes en cualquier momento para programas multiproceso escritos en OpenMP.3.2 Modelo de persistencia OMNIRPC: Módulo inicializable automático OMNIRPC admite eficientemente las aplicaciones paralelas típicas de maestría/trabajador, como programas de ejecución paramétrica. Para aplicaciones de búsqueda paramétricas, que a menudo requieren una gran cantidad de datos idénticos para cada llamada, OmnIrpc admite un modelo de persistencia limitado, que es implementado por el módulo inicializable automático. El usuario puede definir un procedimiento de inicialización en el ejecutable remoto para enviar y almacenar datos automáticamente antes de las llamadas de procedimiento remoto reales. Dado que el ejecutable remoto puede aceptar solicitudes de llamadas posteriores, el conjunto de datos que ha sido establecido por el procedimiento de inicialización puede reutilizarse. Como resultado, el programa de trabajadores puede ejecutarse de manera eficiente y reducir la cantidad de datos transmitidos para la inicialización. Una vez que se invoca un ejecutable remoto, el cliente intenta usar el ejecutable remoto invocado para llamadas RPC posteriores. Sin embargo, OMNIRPC no garantiza la persistencia del ejecutable remoto, por lo que los datos establecidos por la llamada anterior no pueden ser utilizados mediante llamadas posteriores. Esto se debe a que una llamada remota de OMNIRPCCALL puede programarse en cualquier host remoto dinámicamente, y los ejecutables remotos pueden finalizarse accidentalmente debido a la rededulación dinámica o las fallas del host. Sin embargo, la persistencia del ejecutable remoto puede explotarse en ciertas aplicaciones. Un ejemplo es una aplicación de búsqueda paramétrica: en dicha aplicación, sería eficiente si la primera llamada pudiera precargar un gran conjunto de datos, y las llamadas posteriores pudieran realizarse en los mismos datos, pero con diferentes parámetros. Este es el caso de Conflex. OMNIRPC proporciona un modelo de persistencia restringido a través del módulo inicializable automático (AIM) para admitir este tipo de aplicación. Si el procedimiento de inicialización se define en el módulo, el módulo se inicializa automáticamente al invocación llamando al procedimiento de inicialización. Cuando el ejecutable remoto se vuelve a programar en diferentes hosts, se llama a la inicialización para inicializar el módulo remoto recientemente asignado. Esto puede eliminar las comunicaciones innecesarias cuando las llamadas de RPC usan los mismos datos. Para revelar más sobre la diferencia en progreso entre los casos con el objetivo de Omnirpc y sin objetivo Omnirpc, presentamos dos figuras. La Figura 5 ilustra el cuadro de tiempo del progreso de una aplicación OMNIRPC típica utilizando la instalación de AIM de OMNIRPC, y la Figura 6 ilustra el cuadro de tiempo de la misma aplicación sin la instalación de AIM de OMNIRPC. En ambas figuras, las líneas entre diamantes representan los procesos de inicialización, y las líneas entre los puntos representan el cálculo. La línea en negrita indica el momento en que el programa del cliente envía los datos a un programa de trabajadores. Es necesario para la aplicación sin la instalación de AIM de OMNIRPC para inicializarse en cada RPC. La aplicación que utiliza la instalación de AIM de OMNIRPC puede reutilizar los datos inicializados una vez que se inicializa el conjunto de datos. Esto puede reducir la inicialización en cada RPC. Los trabajadores de la aplicación con el AIM pueden calcular eficientemente en comparación con la aplicación sin la instalación de AIM de OMNIRPC.3.3 Implementación de Conflex-G usando OMNIRPC La Figura 3 muestra una descripción general del proceso utilizado en Conflexg. Utilizando RPCS, Conflex-G asigna los procesos de optimización de la estructura de prueba, que se realizan por los nodos de cálculo de un clúster de PC en la versión MPI de Conflex, a los nodos computacionales de cada clúster en un entorno de cuadrícula. Hay dos cálculos realizados por los programas de trabajadores en Conflex-G.Uno es la inicialización de un programa de trabajadores, y otro es el cálculo de la optimización de la estructura del ensayo. Primero, la instalación OMNIRPC del AIM está adaptada para la inicialización de un programa de trabajadores. Esta instalación llama automáticamente la función de inicialización, que está contenida en el programa de trabajadores, una vez que el programa del cliente invoca el programa de trabajadores en un nodo remoto. Es necesario que el sistema RPC común, incluido GridRPC, inicialice un programa para cada llamada de RPC, ya que la persistencia de datos de los programas de trabajadores 157 Tiempo Programa de clientes Programa de trabajadores 1 Programa de trabajadores 2 Inicialización Inicialización Cálculo de cálculo Cálculo Cálculo de cálculo Paralelizado utilizando RPC asíncronos Figura 5: Tiempo: Tiempo: Tiempo Tiempo: Tiempo Tiempo Tiempo: Tiempo TiempoGráfico de aplicaciones utilizando la instalación OMNIRPC del módulo inicializable automático.Tiempo Programa del cliente Programa de trabajadores 1 Programa de trabajadores 2 Inicialización Inicialización Inicialización Cálculo Cálculo Cálculo Cálculo Inicialización Inicialización Paralelizado utilizando el cálculo de RPCS asíncrono Figura 6: Tiempo de tiempo de aplicaciones sin la instalación OMNIRPC del módulo inicializable automático. Tabla 1: Configuraciones de la máquina en el Bed de prueba de cuadrícula. Autenticación de red de la máquina de la máquina del clúster del sitio # de nodos # de CPU Univ.de Tsukuba Dennis Dual Xeon 2.4Ghz 1GB Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100MB Ethernet Globus, SSH 18 36 Tut Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST UME Pentium dual3 1.4GHZ 1GB Ethnet Globus, SSH 32 64 64 64 64no es apoyado. Sin embargo, en OMNIRPC, cuando la función remota de Inicializar se define en el programa de trabajadores y un nuevo programa de trabajadores, correspondiente al otro RPC, se asigna para ejecutar, una función de inicialización se llama automáticamente. Por lo tanto, después de la llamada de función de inicialización para configurar datos de inicialización comunes, un programa de trabajadores puede reutilizar estos datos y aumentar la eficiencia de sus procesos. Por lo tanto, cuanto mayor sea el costo de configuración, mayor será el beneficio potencial. Implementamos el programa de trabajadores de Conflex-G para recibir datos, como los parámetros de evaluación de energía, de un programa de cliente y para ser inicializados por la función inicializar. Organizamos el programa cliente de Conflex-G para transferir el archivo de parámetros al momento de la inicialización del trabajador. Esto permite que la ejecución se realice modificando solo la configuración del cliente si el usuario desea ejecutar Conflex-G con un conjunto de datos diferente. En segundo lugar, para calcular la optimización de la estructura del ensayo en un programa de trabajadores, el programa de trabajadores debe recibir los datos, como la disposición del átomo de la estructura del ensayo y el estado de energía interna. El resultado se devuelve al programa del cliente después de que el trabajador haya optimizado la estructura de prueba. Dado que la parte de cálculo de la optimización de la estructura en este programa de trabajadores se puede calcular de forma independiente utilizando diferentes parámetros, paralelamos esta porción utilizando RPC asíncronos en el lado del cliente. Para llamar a la función de optimización de la estructura en un programa de trabajadores del programa del cliente, utilizamos la API OmnIrpCCallasync, que está destinada a RPC asíncrono. Además, la API OmnirpcCallWaitall que espera hasta que se usen todos los RPC asíncronos para realizar la sincronización con todos los RPC asíncronos completados para optimizar la estructura de prueba. El programa cliente que asigna la optimización de la estructura de prueba al nodo de cálculo de un clúster de PC usando RPC se describe de la siguiente manera. Omnirpcinit () omnirpcModuleInit (conflex_search, ...);... while (<new conformers>) {foreach (<sits Structures>) omnirpccallasync (conflex_search_worker, ...);Omnirpcwaitall ();... Tenga en cuenta que la API OmnIrpCModuleInit devuelve solo los argumentos necesarios para la inicialización y en realidad no ejecutará la función de inicialización. Como se describió anteriormente, la inicialización real se realiza en la primera llamada remota. Dado que el sistema OMNIRPC tiene un planificador fácil de round-robin, no tenemos que escribir explícitamente el código para el balance de carga. Por lo tanto, los RPC se asignan automáticamente a los trabajadores inactivos.158 Tabla 2: rendimiento de la red entre el nodo maestro del clúster Dennis y el nodo maestro de cada clúster de PC. Tiempo de clúster de rendimiento de ida y vuelta (MS) (MBPS) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 UME 1.07 373.33 4. Resultados preliminares 4.1 Prueba de cuadrícula Bed El Bed de prueba de cuadrícula se construyó mediante recursos de computación en la Universidad de Tsukuba, la Universidad Tecnológica de Toyohashi (TUT) y el Instituto Nacional de Ciencia y Tecnología Industrial Avanzada (AIST). La Tabla 1 muestra los recursos informáticos utilizados para la cuadrícula del presente estudio. La Universidad de Tsukuba y AIST están conectadas por un WAN Tsukuba de 1 GBPS, y los otros grupos de PC están conectados por SINET, que es una red de área amplia dedicada a la investigación académica en Japón. La Tabla 2 muestra el rendimiento de la red medida entre el nodo maestro del clúster Dennis y el nodo maestro de cada clúster de PC en el lecho de prueba de la cuadrícula. El rendimiento de la comunicación se midió utilizando NetPerf, y el tiempo de ida y vuelta se midió mediante PING.4.2 Rendimiento de Conflex-G En todos los experimentos de Conflex-G, el programa del cliente se ejecutó en el nodo maestro del clúster de Dennis en la Universidad de Tsukuba. El programador de omnirpc incorporado se utilizó como programador de trabajo. SSH se utilizó para un sistema de autenticación, el OminRPCS MXIO, que transmite la comunicación de E/S entre el programa de clientes y los programas de trabajadores mediante el reenvío de puertos de SSH, no se utilizó. Tenga en cuenta que se asigna y realiza un programa de trabajadores en una CPU del nodo de cálculo en un clúster de PC. Es decir, el número de trabajadores es igual al número de CPU. Estos programas fueron compilados por Intel Fortran Compiler 7.0 y GCC 2.95. MPICH, versión 1.2.5, se utilizó para comparar el rendimiento entre el MPI Conflex y el conflex-G. Para demostrar la usabilidad de la instalación OMNIRPC del AIM, implementamos otra versión de Conflex-G que no utilizó la instalación OMNIRPC. El programa de trabajadores en esta versión de Conflexg debe inicializarse en cada RPC porque el trabajador no contiene el conjunto de datos anterior. Para examinar el rendimiento de Conflex-G, seleccionamos dos péptidos y dos proteínas pequeñas como moléculas de prueba: • metilester de n-acetil tetra-alanina (Alax04) • metilester de n-acetil hexdeca-alanina (Alax16) • Miniproteína TRP-cage-cageConstruya TC5B (1L2Y) • El fragmento N-terminal del receptor PTH (1BL1) Tabla 3 enumera las características de estas moléculas de muestra. La estructura / bucles de prueba de la columna en esta tabla muestra la Figura 7: Actuaciones de conflex-G, MPI conflex y conflex original en el clúster Dennis. Figura 8: Relación de aceleración, que se basa en el tiempo transcurrido de Conflex-G usando un trabajador en el clúster de Dennis. Figura 9: Rendimiento de Conflex-G con y sin la instalación OMNIRPC del módulo inicializable automático para ALAX16.159 Tabla 3: Características de las moléculas y la transmisión de datos para optimizar las estructuras moleculares de prueba en cada código molecular. Molecular # de # de la estructura de prueba total de prueba Transferencia de datos al código de transferencia de datos ATOMS ATOMS / BOCO Inicializar un trabajador / estructura de prueba Alax04 181 360 45 2033KB 17.00kb Alax16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 519 5192150kb 48.67KB Tabla 4: Tiempo de búsqueda transcurrido para la conformación molecular de Alax04. Total Total Optimization Cluster # de estructuras Tiempo de optimización Velocidad transcurrida ( # de trabajadores) Tiempo (s) / estructura (s) Tiempo (s) Tiempo (s) Up Dennis (secuencial) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.084.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 UME (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53.36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (36) (36) (36) (36) (36) (36) (36) (36) (36) (56).56) 92 3.5 2120.87 5.89 101.25 17.64 Tabla 5: Tiempo de búsqueda transcurrido para la conformación molecular de Alax16 Total de optimización de optimización # de estructuras Tiempo de optimización Velocidad ( # de trabajadores) Tiempo de trabajadores / trabajadores (S) / estructura (S) (S) (S) Tiempo (S) Up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36.3. .41 22.71 Ume (56) 56 8.6 123399.38257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Tiempo transcurrido de la búsqueda de la estructura de prueba de 1L2Y. Clúster Total # de estructuras Tiempo de optimización transcurrido de velocidad transcurrida ( # de trabajadores) trabajadores / trabajadores / estructura (s) Tiempo (s) Tiempo (H) Up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7.7.7.7.7867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume (56) 84 3.9 1,064 8,316 2.31 34.50 Tabla 7: Tiempo elapsado de la búsqueda de la estructura de prueba de 1bl1. Clúster Total # de estructuras Tiempo de optimización transcurrido de velocidad transcurrida ( # de trabajadores) trabajadores / trabajadores / estructura (s) Tiempo (s) Tiempo (H) Up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16)16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + UME (56) 84 6.1 4,497 33,502 9.30 56.48 160 Número de estructuras de ensayo generadas en cada iteración, indicando el grado de paralelismo. La Figura 3 también resume la cantidad de transmisión de datos requerida para la inicialización de un programa de trabajadores y para la optimización de cada estructura de prueba. Tenga en cuenta que la cantidad de transmisión de datos, que se requiere para inicializar un programa de trabajadores y optimizar una estructura de prueba en la versión MPI de Conflex, es igual a la de Conflex-G.Utilizamos una versión de mejora del campo de fuerza MM2 para asignar una función de energía potencial a varias propiedades geométricas de un grupo de átomos.4.2.1 Rendimiento En un clúster local primero comparamos el rendimiento de Conflex-G, la versión MPI de Conflex y la versión secuencial original de Conflex-G usando un clúster local. Investigamos el desempeño variando el número de trabajadores que usan el clúster de Dennis. Elegimos ALAX04 como una molécula de prueba para este experimento. La Figura 7 compara los resultados para el MPI Conflex y Conflex-G en un clúster de PC local. El resultado de este experimento muestra que Conflex-G puede reducir el tiempo de ejecución a medida que aumenta el número de trabajadores, como en la versión MPI de Conflex. Encontramos que Conflex-G logró eficiencias comparables a la versión MPI. Con 28 trabajadores, Conflex-G logró una aceleración de 18.00 veces en comparación con la versión secuencial de Conflex. El rendimiento de Conflex-G sin la instalación de AIM de OMNIRPC es peor que el de Conflexg utilizando la instalación, en función del aumento en el número de trabajadores. Esto indica que el objetivo OMNIRPC permite al trabajador calcular de manera eficiente sin otros cálculos, dicha inicialización o invocación de programas de trabajadores. A medida que aumenta el número de trabajadores, el rendimiento de Conflex-G es ligeramente más bajo que el de la versión MPI. Esta degradación del rendimiento es causada por diferencias en los procesos de inicialización de trabajadores de Conflex-G y MPI conflex. En el caso de MPI conflex, todos los trabajadores se inicializan antes de la fase de optimización. En el caso de OminRPC, el trabajador se invoca a pedido cuando realmente se emite la llamada RPC. Por lo tanto, la inicialización incurre en esta sobrecarga. Dado que el objetivo de Conflex-G es explorar las conformaciones de grandes bio-moléculas, el número de estructuras de prueba y el tiempo para optimizar la estructura de prueba podrían ser grandes. En tales casos, la sobrecarga para invocar e inicializar el programa de trabajadores puede ser pequeño en comparación con todo el tiempo transcurrido.4.2.2 Rendimiento para los péptidos en el lecho de prueba de la cuadrícula primero, las moléculas de muestra (Alax04 y Alax16) se usaron para examinar el rendimiento del conflex-G en un entorno de la cuadrícula. La Figura 8 muestra la aceleración lograda mediante el uso de múltiples grupos en comparación con el uso de un trabajador en el clúster Dennis. Los resultados detallados se muestran en la Tabla 4 y la Tabla 5. En ambos casos, el mejor rendimiento se obtuvo utilizando 64 trabajadores de la combinación de los grupos de Dennis y Alice. Conflex-G logró una aceleración máxima de 36.08 veces para Alax04 y una aceleración máxima de 21.91 veces para Alax16. En el caso de ALAX04, el rendimiento se mejora solo cuando el rendimiento de la red entre los grupos es alto. Sin embargo, incluso si se usan dos o más grupos en un entorno de red de área amplia, la mejora del rendimiento fue leve porque el tiempo de optimización de una estructura de prueba generada por Alax04, una molécula pequeña, es corto. Además, la sobrecarga requerida para la invocación de un programa de trabajadores y la transmisión de datos de red consume una gran parte del tiempo de procesamiento restante. En particular, la transmisión de datos requerida para la inicialización de un programa de trabajadores es de 2 MB. En el caso de Toyo Cluster, donde el rendimiento de la red entre el programa del cliente y los programas de trabajadores es deficiente, el momento de la transmisión de datos al programa de trabajadores requirió aproximadamente 6.7 segundos. Dado que este tiempo de transmisión fue más largo que el tiempo de procesamiento de una optimización de la estructura en Conflex-G, la mayor parte del tiempo se dedicó a esta transmisión de datos. Por lo tanto, incluso si Conflex-G usa una gran cantidad de nodos de cálculo en un entorno de red de área amplia, no se obtiene el beneficio de usar un recurso de cuadrícula. En el caso de ALAX16, Conflex-G logró una aceleración utilizando dos o más grupos de PC en nuestro lecho de prueba de cuadrícula. Esto se debió a que el tiempo de cálculo en el programa de trabajadores fue largo y la sobrecarga, como la latencia de la red y la invocación de programas de trabajadores, se volvió relativamente pequeño y podía ocultarse. El mejor rendimiento se obtuvo utilizando 64 trabajadores en los grupos de Dennis y Alice. En el caso de AAX16, el rendimiento alcanzado fue una aceleración de 36.08 veces. La Figura 9 revela el efecto del uso de la facilidad de la OMNIRPC apunte al rendimiento de Conflex-G. En la mayoría de los casos, Conflex-G con la instalación de AIM de OMNIRPC archivó un mejor rendimiento que Conflex-G sin la instalación. En particular, la instalación de AIM de OMNIRPC fue ventajosa cuando se usa dos grupos conectados por una red de bajo rendimiento. Los resultados indican que la instalación de AIM de OMNIRPC puede mejorar el rendimiento en el entorno de la red.4.2.3 PerformanceForsMallProteinTheGridTestbed Finalmente, exploramos la conformación molecular usando conflex-G para moléculas grandes. En un entorno de cuadrícula, este experimento se realizó utilizando los grupos de Dennis y Ume. En este experimento, utilizamos dos proteínas, 1L2Y y 1BL1. La Tabla 6 y la Tabla 7 muestran el rendimiento de Conflex-G en el entorno de la cuadrícula y el del MPI Conflex en el clúster Toyo, respectivamente. Las velocidades en estas tablas se calcularon respectivamente en función del rendimiento de un trabajador y 16 trabajadores del clúster Toyo utilizando MPI Conflex. Conflex-G con 84 trabajadores en los grupos de Dennis y Ume obtuvo aceleraciones máximas de 56.5 veces para 1L2Y y 34.5 veces para 1L2Y. Dado que el tiempo de cálculo para la optimización de la estructura requirió una gran cantidad de tiempo, la relación de gastos generales, incluidas tareas como la invocación de un programa de trabajadores y la transmisión de datos para la inicialización, se hizo muy pequeña, de modo que se mejoró el rendimiento de Conflex-G. Encontramos que el desequilibrio de carga en el tiempo de procesamiento de la optimización para cada estructura de prueba causó la degradación del rendimiento. Cuando obtuvimos el mejor rendimiento para 1L2Y usando los grupos Dennis y Ume, el tiempo para cada optimización de la estructura varió de 190 a 27,887 segundos, y la relación entre los tiempos más largos y más cortos fue de 13.4. Para 1BL1, la relación de tiempo mínimo durante el tiempo máximo fue de 190. Además, para que el programa de trabajadores espere hasta la finalización de la optimización de todas las estructuras de prueba, se descubrió que todos los programas de trabajadores esperaban en un estado inactivo durante aproximadamente 6 horas. Esto ha causado la degradación del rendimiento de Conflex-G.161 4.3 Discusión En esta subsección, discutimos la mejora del rendimiento reflejado en nuestros experimentos. Explotando el paralelismo: para explotar más recursos computacionales, es necesario aumentar el grado de paralelismo. En este experimento, el grado de paralelismo no fue tan grande en el caso de las moléculas de muestra. Al usar un conjunto de más de 500 nodos de computación para 1BL1, el número de estructuras de prueba asignadas a cada trabajador será solo uno o dos. Si se asignan más de 100 estructuras de prueba a cada programa de trabajadores, el cálculo se puede realizar de manera más eficiente debido a la reducción de la sobrecarga para la invocación e inicialización de los trabajadores a través de la instalación del objetivo OMNIRPC. Una idea para aumentar el paralelismo es superponerse a la ejecución de dos o más conjuntos de estructuras de prueba. En el algoritmo actual, se genera un conjunto de estructuras de prueba a partir de una estructura inicial y se calcula hasta que se calculan las optimizaciones para todas las estructuras en este conjunto. Además, esto ayudará a mejorar el desequilibrio de carga. Al tener otros conjuntos de estructuras de prueba se superponen, incluso si algunas optimizaciones requieren mucho tiempo, la optimización de las estructuras en otros conjuntos se puede ejecutar para compensar a los trabajadores inactivos por otras optimizaciones. Sin embargo, no está claro cómo tal modificación del algoritmo podría afectar la calidad de los resultados finales en términos de una búsqueda de conformación. Mejora en el desequilibrio de carga Al optimizar cada estructura de prueba: la Tabla 8 enumera las estadísticas para los tiempos de optimización de las estructuras de prueba generadas para cada molécula de muestra medida utilizando 28 trabajadores en el grupo de Dennis. Cuando se utilizan dos o más conjuntos de grupos de PC, la aceleración en el rendimiento se ve obstaculizada por el desequilibrio de carga de la optimización de las estructuras de prueba. El momento más largo para optimizar una estructura de prueba fue casi 24 veces más largo que el tiempo más corto. Además, otros trabajadores deben esperar hasta que el trabajo más largo haya terminado, para que no se pueda reducir todo el tiempo de ejecución. Cuando Conflex-G registró los conformadores de 1BL1 por el clúster de Dennis, el tiempo de cálculo más largo de la optimización de la estructura del ensayo representó aproximadamente el 80% del tiempo transcurrido. Por lo tanto, hay dos posibles soluciones para el desequilibrio de carga.• Es necesario refinar el algoritmo utilizado para generar la estructura de prueba, que suprime la variación de tiempo para optimizar una estructura de prueba en Conflex. Esto permite a Conflex-G lograr un alto rendimiento mediante el uso de muchos recursos informáticos.• Una de las soluciones es superponer las ejecuciones para dos o más conjuntos de estructuras de prueba. En los algoritmos actuales, se genera un conjunto de estructuras de prueba a partir de una estructura inicial y el cálculo continúa hasta que se calculen todas las estructuras en este conjunto. Al tener otros conjuntos de estructuras de prueba, incluso si una búsqueda de estructura lleva mucho tiempo, se puede ejecutar un trabajo para compensar el desequilibrio de carga por otros trabajos. Sin embargo, cómo tal modificación de los algoritmos podría afectar la eficiencia no está clara.• En este experimento, utilizamos un planificador de RoundRobbin construido simple de OmnIrpc, que es necesario para aplicar el programador que asigna estructuras con largos tiempos de optimización a una Tabla 8 de alto rendimiento: Estadísticas del tiempo transcurrido de la optimización de la estructura de prueba utilizando28 trabajadores en el clúster de Dennis. Código (s) de varianza promedio de Min Máx de Molecular ALAX04 2.0 11.3 5.3 3 Alax16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1bl1 121.0 29641.8 3153.5 2734810 Nodos y estructuras con los tiempos de optimización corta a los tiempos de optimización cortos a los tiempos de bajo nivel a bajas. En general, sin embargo, podría ser difícil predecir el tiempo requerido para la optimización de la estructura de prueba. Paralelización del programa de trabajadores para acelerar para optimizar una estructura de prueba: en la implementación actual, no paralelizamos el programa de trabajadores. Para acelerar las estructuras de prueba, la programación híbrida que usa OMNIRPC y OpenMP en una máquina SMP (procesador múltiple simétrico) puede ser uno de los métodos alternativos para mejorar el rendimiento general.5. Trabajo relacionado recientemente, se ha desarrollado un algoritmo que resuelve los problemas de paralelización y comunicación en procesadores mal conectados para ser utilizados para la simulación. El proyecto Folding@Home [13] simula las escalas de tiempo de miles a millones de veces más de lo que se logró anteriormente. Esto nos ha permitido simular el plegamiento por primera vez y examinar directamente las enfermedades relacionadas con el plegamiento. Seti@home [14] es un programa para buscar la vida alienígena analizando las señales de radiotelescopio utilizando datos de radiotelescopio de transformación de Fourier de telescopios de diferentes sitios. SETI@Home Attlely Problemas inmensamente paralelos, en los que el cálculo se puede dividir fácilmente entre varias computadoras. Los fragmentos de datos de radiotelescopios se pueden asignar fácilmente a diferentes computadoras. La mayoría de estos esfuerzos desarrollan explícitamente una aplicación de acoplamiento como una aplicación paralela que utiliza un lenguaje de programación paralelo de propósito especial y un middleware, como MPI, que requiere habilidades de desarrollo y esfuerzo. Sin embargo, las habilidades y el esfuerzo necesarios para desarrollar una aplicación de la red pueden no ser necesarias para OMNIRPC. Nimrod/G [15] es una herramienta para el modelado paramétrico distribuido e implementa una granja de tareas paralela para simulaciones que requieren varios parámetros de entrada variables. Nimrod incorpora un componente de programación distribuido que puede administrar la programación de experimentos individuales a las computadoras inactivas en una red de área local. Nimrod se ha aplicado a aplicaciones que incluyen bio-información, investigación de operaciones y modelado molecular para el diseño de fármacos. NetSolve [8] es una instalación RPC similar a OMNIRPC y NINF, proporcionando una interfaz de programación similar y un mecanismo de equilibrio de carga automática. NINF-G [7] es una implementación habilitada por la cuadrícula de NINF y proporciona un sistema GridRPC [10] que utiliza LDAP para administrar la base de datos de ejecutables remotos, pero no admite clústeres que involucran a las direcciones o direcciones IP privadas dentro de un firewall. Matsuoka et al.[16] también ha discutido varios temas de diseño relacionados con los sistemas RPC de la red.162 6. Conclusiones y trabajos futuros hemos diseñado e implementado Conflex-G utilizando OMNIRPC. Informamos su desempeño en una prueba de prueba de cuadrícula de varios grupos de PC distribuidos geográficamente. Para explorar la conformación de grandes bio-moléculas, se usó conflexg para generar estructuras de prueba de las moléculas y asignar trabajos para optimizarlas mediante mecánica molecular en la red. OMNIRPC proporciona un modelo de persistencia restringido para que el módulo se inicialice automáticamente en la invocación llamando al procedimiento de inicialización. Esto puede eliminar la comunicación innecesaria y la inicialización en cada llamada en Conflex-G.Conflex-G puede lograr un rendimiento comparable al MPI de Conflex y explota más recursos informáticos al permitir el uso de múltiples grupos de PC en la cuadrícula. El resultado experimental muestra que Afflex-G logró una aceleración de 56.5 veces para la molécula 1BL1, donde la molécula consiste en una gran cantidad de átomos y cada optimización de la estructura de prueba requiere una gran cantidad de tiempo. El desequilibrio de carga de las optimizaciones de la estructura de prueba puede causar la degradación del rendimiento. Necesitamos refinar el algoritmo utilizado para generar la estructura de prueba para mejorar la optimización del balance de carga para las estructuras de prueba en Conflex. Los estudios futuros incluirán el desarrollo de herramientas de implementación y un examen de tolerancia a fallas. En el OMNIRPC actual, el registro de un programa de ejecución a hosts remotos e implementaciones de programas de trabajadores se establece manualmente. Se requerirán herramientas de implementación a medida que aumente el número de hosts remotos. En entornos de cuadrícula en los que el entorno cambia dinámicamente, también es necesario respaldar la tolerancia a las fallas. Esta característica es especialmente importante en aplicaciones a gran escala que requieren un cálculo largo en un entorno de cuadrícula. Planeamos refinar el algoritmo de optimización conformacional en Conflex para explorar la búsqueda del espacio de conformación de bio-moléculas más grandes como la proteasa del VIH utilizando hasta 1000 trabajadores en un entorno de la red.7. Agradecimientos Esta investigación fue apoyada en parte por una subvención del Ministerio de Educación, Cultura, Deportes, Ciencia y Tecnología en Japón, No. 14019011, 2002, y como parte del Programa de Investigación y Desarrollo para la Aplicación de la Computación Avanzada.Ciencia y tecnología de la Corporación de Ciencia y Tecnología de Japón (investigación sobre la plataforma informática de la red para el diseño de medicamentos). Nos gustaría agradecer al Centro de Investigación de Tecnología Grid, AIST, Japón por proporcionar recursos informáticos para nuestro experimento.8. Referencias [1] H. Goto y E. Osawa. Un algoritmo eficiente para buscar conformadores de baja energía de moléculas cíclicas y acíclicas. J. Chem. Soc., Perkin Trans, 2: 187-198, 1993. [2] M. Sato, T. Boku y D. Takahashi. OMNIRPC: un sistema RPC de cuadrícula para programación paralela en el entorno de clúster y cuadrícula. En Proc.de CCGRID2003, páginas 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka y S. Sekiguchi. OMNIRPC: una instalación RPC de cuadrícula para clúster y computación global en OpenMP. En Proc.de taller sobre aplicaciones y herramientas de OpenMP 2001 (LNCS 2104), páginas 130-135, 2001. [4] Proyecto OMNIRPC.http://www.omni.hpcc.jp/omnirpc/.[5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima y H. Takagi. NINF: una biblioteca de información basada en red para infraestructura informática mundial mundial. En HPCN Europe, páginas 491-502, 1997. [6] Proyecto NINF.http://ninf.apgrid.org/.[7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura y S. Matsuoka. NINF-G: una implementación de referencia del middleware de programación basado en RPC para la computación de la red. Journal of Grid Computing, 1 (1): 41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shiy S. Vadhiyar. Guía de usuarios para NetSolve V1.4.1. Departamento de computación innovador. Informe técnico ICL-UT-02-05, Universidad de Tennessee, Knoxville, TN, junio de 2002. [9] Object Management Group.http://www.omg.org/.[10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee y H. Casanova. GridRPC: una API de llamada de procedimiento remoto para la computación de la cuadrícula.[11] H.Goto, T. Takahashi, Y. Takata, K. Ohta y U Nagashima. Conflex: comportamientos conformacionales de los polipéptidos según lo predicho por una búsqueda espacial conformacional. En Nanotech2003, Volumen 1, páginas 32-35, 2003. [12] I. Foster y C. Kesselman. Globus: un kit de herramientas de infraestructura metacomputación. The International Journal of SuperComputer Aplications y High Performance E Computing, 11 (2): 115-128, verano de 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts y Vijay S. Pande. Plegar@home y genome@home: Uso de la computación distribuida para abordar problemas previamente intratables en biología computacional. Genómica computacional, 2002. [14] Proyecto Home Seti@.http://setiathome.ssl.berkeley.edu/.[15] R. Buyya, K. Branson, J. Giddy y D. Abramson. El laboratorio virtual: un conjunto de herramientas para permitir el modelado molecular distribuido para el diseño de fármacos en la red mundial. Concurrencia y cálculo: práctica y experiencia, 15 (1): 1-25, enero de 2003. [16] S. Matsuoka, H. Nakada, M. Sato y S. Sekiguchi. Problemas de diseño de sistemas de servidor habilitados para la red para la cuadrícula. En Proc.de Grid 2000 (LNCS 1971), páginas 4-17, 2000. 163",
    "original_sentences": [
        "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
        "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
        "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
        "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
        "OmniRPC provides a restricted persistence model to support the parametric search applications.",
        "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
        "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
        "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
        "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
        "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
        "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
        "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
        "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
        "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
        "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
        "We have applied this 154 program to parallelization using global computing.",
        "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
        "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
        "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
        "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
        "This requires the vast computer resources of a grid computing environment.",
        "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
        "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
        "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
        "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
        "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
        "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
        "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
        "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
        "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
        "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
        "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
        "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
        "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
        "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
        "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
        "In addition, the user can easily build a private grid environment.",
        "The rest of this paper is organized as follows.",
        "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
        "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
        "In Section 6, we present conclusions and discuss subjects for future study. 2.",
        "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
        "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
        "The original CONFLEX performs the following four major steps: 1.",
        "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
        "Generation of trial structures by local perturbations to the selected initial structure. 3.",
        "Geometry optimization for the newly generated trial structures. 4.",
        "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
        "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
        "These procedures incorporate two unique strategies.",
        "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
        "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
        "These methods provide a highly efficient way to produce several good trial structures.",
        "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
        "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
        "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
        "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
        "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
        "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
        "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
        "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
        "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
        "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
        "We modified the search procedures as follows.",
        "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
        "Then, each worker node is dynamically supplied with one trial structure from the master node.",
        "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
        "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
        "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
        "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
        "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
        "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
        "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
        "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
        "Figure 3 shows the process of CONFLEX-G.",
        "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
        "At each RPC call, the initialized state is reused on the remote host.",
        "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
        "OmniRPC inherits its API and basic architecture from Ninf.",
        "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
        "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
        "We call this executable program a remote executable program (rex).",
        "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
        "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
        "The user can switch the configurations only by changing the host file.",
        "OmniRpcCall is a simple client programming interface for calling remote functions.",
        "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
        "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
        "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
        "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
        "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
        "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
        "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
        "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
        "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
        "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
        "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
        "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
        "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
        "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
        "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
        "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
        "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
        "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
        "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
        "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
        "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
        "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
        "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
        "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
        "However, persistence of the remote executable can be exploited in certain applications.",
        "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
        "This is the case for CONFLEX.",
        "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
        "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
        "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
        "This can eliminate unnecessary communications when RPC calls use the same data.",
        "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
        "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
        "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
        "The bold line indicates the time when the client program sends the data to a worker program.",
        "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
        "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
        "This can reduce the initialization at each RPC.",
        "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
        "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
        "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
        "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
        "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
        "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
        "Table 1: Machine configurations in the grid testbed.",
        "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
        "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
        "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
        "Thus, the higher the set-up cost, the greater the potential benefit.",
        "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
        "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
        "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
        "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
        "The result is returned to the client program after the worker has Optimized the trial structure.",
        "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
        "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
        "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
        "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
        "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
        "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
        "As described above, the actual Initialization is performed at the first remote call.",
        "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
        "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
        "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
        "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
        "Table 1 shows the computing resources used for the grid of the present study.",
        "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
        "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
        "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
        "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
        "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
        "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
        "That is, the number of workers is equal to the number of CPUs.",
        "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
        "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
        "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
        "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
        "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
        "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
        "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
        "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
        "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
        "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
        "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
        "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
        "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
        "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
        "We investigated performance by varying the number of workers using the Dennis cluster.",
        "We chose AlaX04 as a test molecule for this experiment.",
        "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
        "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
        "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
        "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
        "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
        "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
        "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
        "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
        "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
        "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
        "Therefore, the initialization incurs this overhead.",
        "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
        "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
        "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
        "Detailed results are shown in Table 4 and Table 5.",
        "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
        "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
        "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
        "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
        "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
        "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
        "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
        "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
        "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
        "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
        "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
        "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
        "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
        "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
        "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
        "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
        "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
        "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
        "In this experiment, we used two proteins, 1L2Y and 1BL1.",
        "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
        "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
        "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
        "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
        "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
        "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
        "For 1BL1, the ratio of minimum time over maximum time was 190.",
        "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
        "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
        "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
        "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
        "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
        "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
        "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
        "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
        "Furthermore, this will help to improve load imbalance.",
        "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
        "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
        "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
        "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
        "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
        "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
        "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
        "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
        "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
        "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
        "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
        "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
        "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
        "In general, however, it might be difficult to predict the time required for trial structure optimization.",
        "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
        "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
        "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
        "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
        "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
        "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
        "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
        "Radio telescope data chunks can easily be assigned to different computers.",
        "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
        "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
        "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
        "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
        "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
        "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
        "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
        "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
        "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
        "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
        "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
        "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
        "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
        "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
        "The load imbalance of the trial structure optimizations may cause performance degradation.",
        "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
        "Future studies will include development of deployment tools and an examination of fault tolerance.",
        "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
        "Deployment tools will be required as the number of remote hosts is increased.",
        "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
        "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
        "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
        "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
        "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
        "REFERENCES [1] H. Goto and E. Osawa.",
        "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
        "J. Chem.",
        "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
        "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
        "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
        "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
        "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
        "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
        "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
        "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
        "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
        "Users Guide to NetSolve V1.4.1.",
        "Innovative Computing Dept.",
        "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
        "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
        "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
        "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
        "Foster and C. Kesselman.",
        "Globus: A metacomputing infrastructure toolkit.",
        "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
        "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
        "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
        "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
        "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
        "Design issues of Network Enabled Server Systems for the Grid.",
        "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
    ],
    "error_count": 0,
    "keys": {
        "conflex-g": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of <br>conflex-g</br>: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT <br>conflex-g</br> is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented <br>conflex-g</br> using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of <br>conflex-g</br> in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, <br>conflex-g</br> generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in <br>conflex-g</br>. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that <br>conflex-g</br> achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe <br>conflex-g</br>, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype <br>conflex-g</br> allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of <br>conflex-g</br> in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that <br>conflex-g</br> is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate <br>conflex-g</br> on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of <br>conflex-g</br> are described in Section 3.",
                "We report experimental results obtained using <br>conflex-g</br> and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "<br>conflex-g</br> Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of <br>conflex-g</br>. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented <br>conflex-g</br>, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "<br>conflex-g</br> allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of <br>conflex-g</br>.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of <br>conflex-g</br> using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, <br>conflex-g</br> allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in <br>conflex-g</br>. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of <br>conflex-g</br> to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of <br>conflex-g</br> to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run <br>conflex-g</br> with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of <br>conflex-g</br> In all of the <br>conflex-g</br> experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and <br>conflex-g</br>.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of <br>conflex-g</br> which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of <br>conflex-g</br>, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of <br>conflex-g</br>, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of <br>conflex-g</br> using one worker in the Dennis cluster.",
                "Figure 9: Performance of <br>conflex-g</br> with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of <br>conflex-g</br>. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of <br>conflex-g</br>, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and <br>conflex-g</br> in a local PC cluster.",
                "The result of this experiment shows that <br>conflex-g</br> can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that <br>conflex-g</br> achieved efficiencies comparable to the MPI version.",
                "With 28 workers, <br>conflex-g</br> achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of <br>conflex-g</br> without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of <br>conflex-g</br> is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of <br>conflex-g</br> and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of <br>conflex-g</br> is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the <br>conflex-g</br> performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "<br>conflex-g</br> achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in <br>conflex-g</br>, most of the time was spent for this data transmission.",
                "Therefore, even if <br>conflex-g</br> uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, <br>conflex-g</br> achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on <br>conflex-g</br> performance.",
                "In most cases, <br>conflex-g</br> with the OmniRPC AIM facility archived better performance than <br>conflex-g</br> without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using <br>conflex-g</br> for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of <br>conflex-g</br> in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "<br>conflex-g</br> with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of <br>conflex-g</br> was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of <br>conflex-g</br>. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When <br>conflex-g</br> searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables <br>conflex-g</br> to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented <br>conflex-g</br> using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in <br>conflex-g</br>. <br>conflex-g</br> can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that <br>conflex-g</br> achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Implementación y evaluación del desempeño de \"Conflex-G\": Programa de búsqueda de espacio conformacional molecular habilitado para la cuadrícula con Omnirpc Yoshihiro Nakajima Escuela de Graduados de Sistemas e Ingeniería de la Información, Universidad de Tsukuba Tsukuba, 305-8577, Japón yoshihiro@hpcs.is.tsukuba.acuba..jp Mitsuhisa Sato Institute of Information Sciences and Electronics, Universidad de Tsukuba Tsukuba, 305-8577, Japón msato@is.tsukuba.ac.jp Hitoshi GOTO Ingeniería de información basada en el conocimiento, Universidad de Tecnología de Toyohashi Toyohashi, 441-8580, Japón, Japón GOTOH GOTOH@Cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Information of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japón {Taisuke, Daisuke}@hpcs.is.tsukuba.ac.ac.Jp Abstract \"conflex\" Conflex \"\" Conflex \"\" Conflex \"\" Conflex \"\" Conflex \"\" Conflex \"-g \"es la versión habilitada para la cuadrícula de un programa de búsqueda de espacio conformacional molecular llamado conflex.conflex-g",
                "Hemos implementado \"Conflex-G\" utilizando un sistema RPC Grid llamado OMNIRPC.conflex-g",
                "En este documento, informamos el rendimiento de \"Conflex-G\" en una prueba de prueba de varios grupos de PC distribuidos geográficamente.conflex-g",
                "Para explorar muchas conformaciones de grandes bio-moléculas, \"conflex-G\" genera estructuras de prueba de las moléculas y asigna trabajos para optimizar una estructura de prueba con un método de mecánica molecular confiable en la cuadrícula.conflex-g",
                "Esto puede eliminar la comunicación e inicialización innecesaria en cada llamada en \"Conflex-G\".Conflexg puede lograr un rendimiento comparable a MPI Conflex y puede explotar más recursos informáticos al permitir el uso de un clúster de múltiples grupos en la cuadrícula.conflex-g",
                "El resultado experimental muestra que \"Conflex-G\" logró una aceleración de 56.5 veces en el caso de la molécula 1BL1, donde la molécula consta de una gran cantidad de átomos, y cada optimización de la estructura de prueba requiere un tiempo significativo.conflex-g",
                "En este artículo, describimos \"Conflex-G\", un programa de búsqueda conformacional molecular habilitado para la red, utilizando OMNIRPC e informar su rendimiento en una cuadrícula de varios grupos de PC que se distribuyen geográficamente.conflex-g",
                "El prototipo \"Conflex-G\" asigna la optimización de estructuras de ensayo de cálculo, que es una tarea que requiere mucho tiempo, a los nodos de los trabajadores en el entorno de la cuadrícula para obtener un alto rendimiento.conflex-g",
                "Además, comparamos el rendimiento de \"Conflex-G\" en un clúster de PC local con el de un lecho de prueba de cuadrícula.conflex-g",
                "Este documento demuestra que \"Conflex-G\" es capaz de explotar los enormes recursos informáticos de un entorno de cuadrícula y buscar conformadores moleculares a gran escala.conflex-g",
                "Demostramos \"Conflex-G\" en nuestro lecho de prueba de cuadrícula utilizando la proteína real como una molécula de muestra.conflex-g",
                "Una selección general de la base de datos de estructura inicial Base de datos Local Perturbation Geometry Optimización Comparación y registro Figura 1: Algoritmo de búsqueda de espacio conformacional en el conflex original.del sistema Conflex se presenta en la Sección 2, y la implementación y el diseño de \"Conflex-G\" se describen en la Sección 3. Conflex-G",
                "Reportamos los resultados experimentales obtenidos usando \"Conflex-G\" y discutimos su rendimiento en la Sección 4. Conflex-G",
                "\"Conflex-G\" originalmente, Conflex estaba destinado a su uso en la exploración de los conformadores de las grandes bio-moléculas, dicha proteasa del VIH.conflex-g",
                "En tales moléculas, aumenta el número de estructuras de prueba y el tiempo requerido para la optimización de la selección de RPC de las conformaciones de estructura inicial Base de datos Comparación de perturbación local y registro Programa del cliente Task Bolet de la optimización de geometría Optimización RPC RPC Grid Grid Cluster B Cluster A Cluster C ESTRUCTURA DE ESTRUCTURA DE ESTRUCTURA DE ESTRUCTURAEstructura de prueba Estructura Figura 3: Procedimiento de \"Conflex-G\".Agente Rexrex Rex Cliente Jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 agente invocation Communicationnetwork Figura 4: Descripción general del sistema OMNIRPC para el clúster remoto que tiene una dirección IP privada.La estructura del juicio se vuelve inmensa.conflex-g",
                "Para explotar los vastos recursos informáticos de un entorno de la cuadrícula, diseñamos e implementamos \"Conflex-G\", que es una versión habilitada para la cuadrícula de Conflex, con el sistema OMNIRPC.conflex-g",
                "\"Conflex-G\" asigna trabajos para optimizar una estructura de prueba a los nodos computacionales de cada clúster en el entorno de la red.conflex-g",
                "La Figura 3 muestra el proceso de \"Conflex-G\".conflex-g",
                "Los trabajadores de la aplicación con el AIM pueden calcular eficientemente en comparación con la aplicación sin la instalación de AIM de OMNIRPC.3.3 Implementación de \"Conflex-G\" utilizando OMNIRPC La Figura 3 muestra una descripción general del proceso utilizado en Conflexg.conflex-g",
                "Usando RPC, \"Conflex-G\" asigna los procesos de optimización de la estructura de prueba, que se realizan por los nodos de cálculo de un clúster de PC en la versión MPI de Conflex, a los nodos computacionales de cada clúster en un entorno de cuadrícula.conflex-g",
                "Hay dos cálculos realizados por los programas de trabajadores en \"Conflex-G\".Uno es la inicialización de un programa de trabajadores, y otro es el cálculo de la optimización de la estructura del ensayo.conflex-g",
                "Implementamos el programa de trabajadores de \"Conflex-G\" para recibir datos, como los parámetros de evaluación de energía, de un programa de cliente y para ser inicializados por la función inicializar.conflex-g",
                "Organizamos el programa cliente de \"Conflex-G\" para transferir el archivo de parámetros al momento de la inicialización del trabajador.conflex-g",
                "Esto permite que la ejecución se realice modificando solo la configuración del cliente si el usuario desea ejecutar \"Conflex-G\" con un conjunto de datos diferente.conflex-g",
                "El rendimiento de la comunicación se midió utilizando NetPerf, y el tiempo de ida y vuelta se midió mediante PING.4.2 Rendimiento de \"Conflex-G\" En todos los experimentos \"Conflex-G\", el programa del cliente se ejecutó en el nodo maestro del clúster de Dennis en la Universidad de Tsukuba.conflex-g",
                "MPICH, versión 1.2.5, se utilizó para comparar el rendimiento entre el MPI Conflex y \"Conflex-G\".conflex-g",
                "Para demostrar la usabilidad de la instalación OMNIRPC del AIM, implementamos otra versión de \"Conflex-G\" que no utilizó la instalación OMNIRPC.conflex-g",
                "Para examinar el rendimiento de \"Conflex-G\", seleccionamos dos péptidos y dos proteínas pequeñas como moléculas de prueba: • metilester de n-acetil tetra-alanina (Alax04) • metilester de n-acetil hexdeca-alanina (Alax16) • TRP- TRP-construcción de miniproteína de la jaula TC5B (1L2Y) • Fragmento N-terminal del receptor PTH (1BL1) La Tabla 3 enumera las características de estas moléculas de muestra.conflex-g",
                "La estructura / bucles de prueba de la columna en esta tabla muestra la Figura 7: Actuaciones de \"Conflex-G\", MPI conflex y Afflex original en el clúster Dennis.conflex-g",
                "Figura 8: Relación de aceleración, que se basa en el tiempo transcurrido de \"Conflex-G\" usando un trabajador en el clúster de Dennis.conflex-g",
                "Figura 9: Rendimiento de \"Conflex-G\" con y sin la instalación OMNIRPC del módulo inicializable automático para ALAX16.159 Tabla 3: Características de las moléculas y la transmisión de datos para optimizar las estructuras moleculares de prueba en cada código molecular.conflex-g",
                "Tenga en cuenta que la cantidad de transmisión de datos, que se requiere para inicializar un programa de trabajadores y optimizar una estructura de prueba en la versión MPI de Conflex, es igual a la de \"Conflex-G\".Utilizamos una versión de mejora del campo de fuerza MM2 para asignar una función de energía potencial a varias propiedades geométricas de un grupo de átomos.4.2.1 Rendimiento En un clúster local primero comparamos el rendimiento de \"Conflex-G\", la versión MPI de Conflex y la versión secuencial original de Conflex-G usando un clúster local.conflex-g",
                "La Figura 7 compara los resultados para el MPI Conflex y \"Conflex-G\" en un clúster de PC local.conflex-g",
                "El resultado de este experimento muestra que \"Conflex-G\" puede reducir el tiempo de ejecución a medida que aumenta el número de trabajadores, como en la versión MPI de Conflex.conflex-g",
                "Descubrimos que \"Conflex-G\" logró eficiencias comparables a la versión MPI.conflex-g",
                "Con 28 trabajadores, \"Conflex-G\" logró una aceleración de 18.00 veces en comparación con la versión secuencial de conflex.conflex-g",
                "El rendimiento de \"Conflex-G\" sin la instalación de AIM de OMNIRPC es peor que el de Conflexg utilizando la instalación, en función del aumento en el número de trabajadores.conflex-g",
                "A medida que aumenta el número de trabajadores, el rendimiento de \"Conflex-G\" es ligeramente más bajo que el de la versión MPI.conflex-g",
                "Esta degradación del rendimiento es causada por diferencias en los procesos de inicialización de los trabajadores de \"Conflex-G\" y MPI conflex.conflex-g",
                "Dado que el objetivo de \"Conflex-G\" es explorar las conformaciones de grandes bio-moléculas, el número de estructuras de prueba y el tiempo para optimizar la estructura de prueba podrían ser grandes.conflex-g",
                "En tales casos, la sobrecarga para invocar e inicializar el programa de trabajadores puede ser pequeño en comparación con todo el tiempo transcurrido.4.2.2 Rendimiento para los péptidos en la prueba de prueba primero, las moléculas de muestra (Alax04 y Alax16) se usaron para examinar el rendimiento \"Conflex-G\" en un entorno de la cuadrícula.conflex-g",
                "\"Conflex-G\" logró una aceleración máxima de 36.08 veces para ALAX04 y una aceleración máxima de 21.91 veces para Alax16.conflex-g",
                "Dado que este tiempo de transmisión fue más largo que el tiempo de procesamiento de una optimización de la estructura en \"Conflex-G\", la mayor parte del tiempo se dedicó a esta transmisión de datos.conflex-g",
                "Por lo tanto, incluso si \"Conflex-G\" usa una gran cantidad de nodos de cálculo en un entorno de red de área amplia, no se obtiene el beneficio de usar un recurso de cuadrícula.conflex-g",
                "En el caso de Alax16, \"Conflex-G\" logró una aceleración al usar dos o más grupos de PC en nuestro Bed de prueba de cuadrícula.conflex-g",
                "La Figura 9 revela el efecto del uso de la facilidad de la OMNIRPC para el rendimiento \"Conflex-G\".conflex-g",
                "En la mayoría de los casos, \"Conflex-G\" con la instalación de AIM de OMNIRPC archivó un mejor rendimiento que \"Conflex-G\" sin la instalación.conflex-g",
                "Los resultados indican que la instalación de AIM de OMNIRPC puede mejorar el rendimiento en el entorno de la red.4.2.3 PerformanceForsMallProteinTheGridTestbed Finalmente, exploramos la conformación molecular usando \"conflex-G\" para moléculas grandes.conflex-g",
                "La Tabla 6 y la Tabla 7 muestran el rendimiento de \"Conflex-G\" en el entorno de la cuadrícula y el del MPI conflex en el clúster Toyo, respectivamente.conflex-g",
                "\"Conflex-G\" con 84 trabajadores en los grupos de Dennis y Ume obtuvieron aceleraciones máximas de 56.5 veces para 1L2Y y 34.5 veces para 1L2Y.conflex-g",
                "Dado que el tiempo de cálculo para la optimización de la estructura requirió una gran cantidad de tiempo, la relación de gastos generales, incluidas tareas como la invocación de un programa de trabajadores y la transmisión de datos para la inicialización, se hizo muy pequeña, de modo que el rendimiento de \"conflex-g\" fuemejorado.conflex-g",
                "Esto ha causado la degradación del rendimiento de \"Conflex-G\".161 4.3 Discusión En esta subsección, discutimos la mejora del rendimiento reflejado en nuestros experimentos.conflex-g",
                "Cuando \"Conflex-G\" registró los conformadores de 1BL1 por el grupo de Dennis, el tiempo de cálculo más largo de la optimización de la estructura del ensayo representó aproximadamente el 80% del tiempo transcurrido.conflex-g",
                "Esto permite que \"Conflex-G\" alcance el alto rendimiento mediante el uso de muchos recursos informáticos.• Una de las soluciones es superponer las ejecuciones para dos o más conjuntos de estructuras de prueba.conflex-g",
                "Conclusiones y trabajos futuros hemos diseñado e implementado \"Conflex-G\" utilizando OMNIRPC.conflex-g",
                "Esto puede eliminar la comunicación innecesaria y la inicialización en cada llamada en \"Conflex-G\".\"Conflex-G\" puede lograr un rendimiento comparable al MPI Conflex y explota más recursos informáticos al permitir el uso de múltiples grupos de PC en la cuadrícula.conflex-g",
                "El resultado experimental muestra que \"Conflex-G\" logró una aceleración de 56.5 veces para la molécula 1BL1, donde la molécula consiste en una gran cantidad de átomos y cada optimización de la estructura de prueba requiere mucho tiempo.conflex-g"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "omnirpc": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with <br>omnirpc</br> Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called <br>omnirpc</br>.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "<br>omnirpc</br> provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using <br>omnirpc</br> and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "<br>omnirpc</br>[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via <br>omnirpc</br>.",
                "In this paper, we propose the <br>omnirpc</br> persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the <br>omnirpc</br> system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The <br>omnirpc</br> facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using <br>omnirpc</br>, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the <br>omnirpc</br> system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the <br>omnirpc</br> system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the <br>omnirpc</br> AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The <br>omnirpc</br> system <br>omnirpc</br> is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "<br>omnirpc</br> inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the <br>omnirpc</br> client program starts, the initialization function of <br>omnirpc</br> system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the <br>omnirpc</br> system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the <br>omnirpc</br> system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an <br>omnirpc</br> agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the <br>omnirpc</br> system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because <br>omnirpc</br> is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 <br>omnirpc</br> persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, <br>omnirpc</br> supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, <br>omnirpc</br> does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "<br>omnirpc</br> provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with <br>omnirpc</br> AIM and without <br>omnirpc</br> AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical <br>omnirpc</br> application using the <br>omnirpc</br> AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the <br>omnirpc</br> AIM facility to initialize at each RPC.",
                "The application using the <br>omnirpc</br> AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the <br>omnirpc</br> AIM facility. 3.3 Implementation of CONFLEX-G using <br>omnirpc</br> Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the <br>omnirpc</br> facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the <br>omnirpc</br> facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the <br>omnirpc</br> facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In <br>omnirpc</br>, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the <br>omnirpc</br> system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of <br>omnirpc</br> was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the <br>omnirpc</br> facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the <br>omnirpc</br> facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the <br>omnirpc</br> facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the <br>omnirpc</br> AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the <br>omnirpc</br> AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the <br>omnirpc</br> AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the <br>omnirpc</br> AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the <br>omnirpc</br> AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the <br>omnirpc</br> AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the <br>omnirpc</br> AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of <br>omnirpc</br>, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using <br>omnirpc</br> and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for <br>omnirpc</br>.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to <br>omnirpc</br> and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using <br>omnirpc</br>.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "<br>omnirpc</br> provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current <br>omnirpc</br>, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "<br>omnirpc</br>: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "<br>omnirpc</br>: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] <br>omnirpc</br> Project. http://www.omni.hpcc.jp/<br>omnirpc</br>/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Implementación y evaluación del desempeño de Conflex-G: Programa de búsqueda de espacio conformacional molecular habilitado para la cuadrícula con \"Omnirpc\" Yoshihiro Nakajima Escuela de Graduados de Sistemas e Ingeniería de la Información, Universidad de Tsukuba Tsukuba, 305-8577, Japón yoshihiro@hpcs.is.tsukuba.acuba..jp Mitsuhisa Sato Institute of Information Sciences and Electronics, Universidad de Tsukuba Tsukuba, 305-8577, Japón msato@is.tsukuba.ac.jp Hitoshi GOTO Ingeniería de información basada en el conocimiento, Universidad de Tecnología de Toyohashi Toyohashi, 441-8580, Japón, Japón GOTOH GOTOH@Cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Information of Information Sciences and Electronics, University of Tsukuba tsukuba, 305-8577, Japón {Taisuke, Daisuke}@hpcs.is.tsukuba.ac.JP Abstracto de conflex-G es la versión habilitada para la cuadrícula de un programa de búsqueda de espacio conformacional molecular llamado conflex.omnirpc",
                "Hemos implementado Conflex-G utilizando un sistema RPC Grid llamado \"Omnirpc\".omnirpc",
                "\"OMNIRPC\" proporciona un modelo de persistencia restringido para admitir las aplicaciones de búsqueda paramétrica.omnirpc",
                "En este documento, describimos Conflex-G, un programa de búsqueda conformacional molecular habilitado para la red, utilizando \"OmnIrpC\" e informamos su rendimiento en una cuadrícula de varios grupos de PC que se distribuyen geográficamente.omnirpc",
                "\"OMNIRPC\" [2, 3, 4] es una implementación segura de hilo de NINF RPC [5, 6], que es una instalación de RPC de cuadrícula para la computación del entorno de la cuadrícula.omnirpc",
                "Para admitir la programación paralela, un cliente RPC puede emitir solicitudes de llamadas asíncronas a una computadora remota diferente para explotar el paralelismo en toda la red a través de \"OMNIRPC\".omnirpc",
                "En este artículo, proponemos el modelo de persistencia \"Omnirpc\" a un sistema RPC de la red y demostramos su efectividad.omnirpc",
                "En el sistema \"OMNIRPC\", una vez que se invoca un ejecutable remoto, el cliente intenta usar el ejecutable remoto invocado y su estado inicializado para las llamadas RPC posteriores a las mismas funciones remotas para eliminar el costo de invocación de cada llamada.omnirpc",
                "La instalación \"OMNIRPC\" del módulo inicializable automático (AIM) permite que el sistema calcule eficientemente numerosos conformadores.omnirpc",
                "Además, al usar \"OMNIRPC\", el usuario puede paralelear la cuadrícula la aplicación existente y moverse del clúster al entorno de la red sin modificar el código del programa y compilar el programa.omnirpc",
                "En tales moléculas, aumenta el número de estructuras de prueba y el tiempo requerido para la optimización de la selección de RPC de las conformaciones de estructura inicial Base de datos Comparación de perturbación local y registro Programa del cliente Task Bolet de la optimización de geometría Optimización RPC RPC Grid Grid Cluster B Cluster A Cluster C ESTRUCTURA DE ESTRUCTURA DE ESTRUCTURA DE ESTRUCTURAEstructura de prueba Estructura Figura 3: Procedimiento de Conflex-G.Agente Rexrex REX Cliente Jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 agente invocation Communicationnwork Figura 4: Descripción general del sistema \"OMNIRPC\" para el clúster remoto que tiene una dirección IP privada.La estructura del juicio se vuelve inmensa.omnirpc",
                "Para explotar los vastos recursos informáticos de un entorno de cuadrícula, diseñamos e implementamos Conflex-G, que es una versión habilitada para la cuadrícula de Conflex, con el sistema \"OMNIRPC\".omnirpc",
                "Los programas de trabajadores se inicializan mediante el método Initialize, que proporciona la instalación de puntería \"OMNIRPC\" en la invocación de trabajadores.omnirpc",
                "En otras palabras, el programa del cliente puede eliminar la inicialización para cada llamada RPC y, por lo tanto, puede optimizar las estructuras de prueba de manera eficiente.3.1 El \"sistema omnirpc\" omnirpc \"es un sistema RPC de cuadrícula que permite una programación paralela perfecta de un clúster de PC a un entorno de cuadrícula.omnirpc",
                "\"Omnirpc\" hereda su API y arquitectura básica de NINF.omnirpc",
                "Cuando se inicia el programa del cliente \"OMNIRPC\", la función de inicialización del sistema \"OMNIRPC\" invoca el programa OMNIRPC Agent Program OMRPC-Agent en los hosts remotos enumerados en el archivo de host.omnirpc",
                "Debido a que el sistema \"OMNIRPC\" no utiliza ningún puerto de servicio fijo, el programa del cliente asigna los puertos no utilizados dinámicamente para esperar la conexión desde los ejecutables remotos.omnirpc",
                "Esto evita posibles problemas de seguridad y permite al usuario instalar el sistema \"OmnIrpc\" sin requerir una cuenta privilegiada.omnirpc",
                "Para los grupos de PC en una red privada, un proceso de agente \"OMNIRPC\" en el host del servidor funciona como un proxy para transmitir las comunicaciones entre el cliente y los ejecutables remotos multiplexando las comunicaciones utilizando una sola conexión.omnirpc",
                "La Figura 4 muestra la descripción general del sistema \"OMNIRPC\" para un clúster remoto con una dirección IP privada.omnirpc",
                "Debido a que \"OMNIRPC\" es un sistema seguro de hilo, una serie de llamadas de procedimientos remotos pueden ser sobresalientes en cualquier momento para programas múltiples escritos en OpenMP.3.2 Modelo de persistencia \"OMNIRPC\": Módulo inicializable automático OMNIRPC admite eficientemente aplicaciones paralelas típicas de maestría/trabajador, como programas de ejecución paramétrica.omnirpc",
                "Para aplicaciones de búsqueda paramétricas, que a menudo requieren una gran cantidad de datos idénticos para cada llamada, \"OMNIRPC\" admite un modelo de persistencia limitado, que es implementado por el módulo inicializable automático.omnirpc",
                "Sin embargo, \"OMNIRPC\" no garantiza la persistencia del ejecutable remoto, por lo que los datos establecidos por la llamada anterior no pueden ser utilizadas por llamadas posteriores.omnirpc",
                "\"OMNIRPC\" proporciona un modelo de persistencia restringido a través del módulo inicializable automático (AIM) para admitir este tipo de aplicación.omnirpc",
                "Para revelar más sobre la diferencia en progreso entre los casos con el objetivo \"OMNIRPC\" y sin el objetivo de \"Omnirpc\", presentamos dos figuras.omnirpc",
                "La Figura 5 ilustra el cuadro de tiempo del progreso de una aplicación típica \"OMNIRPC\" utilizando la instalación de AIM \"OMNIRPC\", y la Figura 6 ilustra el cuadro de tiempo de la misma aplicación sin la instalación de AIM de OMNIRPC.omnirpc",
                "Es necesario para la aplicación sin la facilidad de objetivo \"OMNIRPC\" para inicializarse en cada RPC.omnirpc",
                "La aplicación que utiliza la instalación de AIM \"OMNIRPC\" puede reutilizar los datos inicializados una vez que se inicializa el conjunto de datos.omnirpc",
                "Los trabajadores de la aplicación con el AIM pueden calcular eficientemente en comparación con la aplicación sin la instalación de AIM \"OMNIRPC\".3.3 Implementación de Conflex-G utilizando \"OMNIRPC\" La Figura 3 muestra una descripción general del proceso utilizado en Conflexg.omnirpc",
                "Primero, la instalación \"OMNIRPC\" del AIM está adaptada para la inicialización de un programa de trabajadores.omnirpc",
                "Es necesario que el sistema RPC común, incluido GridRPC, inicialice un programa para cada llamada de RPC, ya que la persistencia de datos de los programas de trabajadores 157 Tiempo Programa de clientes Programa de trabajadores 1 Programa de trabajadores 2 Inicialización Inicialización Cálculo de cálculo Cálculo Cálculo de cálculo Paralelizado utilizando RPC asíncronos Figura 5: Tiempo: Tiempo: Tiempo Tiempo: Tiempo Tiempo Tiempo: Tiempo TiempoGráfico de aplicaciones utilizando la instalación \"OMNIRPC\" del módulo inicializable automático.Tiempo Programa del cliente Programa de trabajadores 1 Programa de trabajadores 2 Inicialización Inicialización Inicialización Cálculo Cálculo Cálculo Cálculo Inicialización Inicialización Paralelizada utilizando el cálculo de RPCS asíncrono Figura 6: Tiempo de tiempo de aplicaciones sin la instalación de \"OMNIRPC\" del módulo inicializable automático.omnirpc",
                "Sin embargo, en \"OMNIRPC\", cuando la función remota de Inicializar se define en el programa de trabajadores y un nuevo programa de trabajadores, correspondiente al otro RPC, se asigna para ejecutar, una función de inicialización se llama automáticamente.omnirpc",
                "Dado que el sistema \"OMNIRPC\" tiene un planificador fácil de round-robin, no tenemos que escribir explícitamente el código para el saldo de carga.omnirpc",
                "El planificador de round-robin incorporado de \"Omnirpc\" se utilizó como programador de trabajo.omnirpc",
                "Para demostrar la usabilidad de la instalación \"OMNIRPC\" del AIM, implementamos otra versión de Conflex-G que no utilizó la instalación \"OMNIRPC\".omnirpc",
                "Figura 9: Rendimiento de Conflex-G con y sin la instalación \"OMNIRPC\" del módulo inicializable automático para ALAX16.159 Tabla 3: Características de las moléculas y la transmisión de datos para optimizar las estructuras moleculares de prueba en cada código molecular.omnirpc",
                "El rendimiento de Conflex-G sin la instalación de puntería \"OMNIRPC\" es peor que el de Conflexg utilizando la instalación, en función del aumento en el número de trabajadores.omnirpc",
                "Esto indica que el objetivo \"OMNIRPC\" permite al trabajador calcular de manera eficiente sin otros cálculos, dicha inicialización o invocación de programas de trabajadores.omnirpc",
                "La Figura 9 revela el efecto de usar la facilidad de la apunte \"OMNIRPC\" al rendimiento de Conflex-G.omnirpc",
                "En la mayoría de los casos, Conflex-G con la instalación de AIM \"OMNIRPC\" archivó un mejor rendimiento que Conflex-G sin la instalación.omnirpc",
                "En particular, la instalación de puntería \"OMNIRPC\" fue ventajosa cuando se usa dos grupos conectados por una red de bajo rendimiento.omnirpc",
                "Los resultados indican que la instalación de puntería \"OMNIRPC\" puede mejorar el rendimiento en el entorno de la red.4.2.3 PerformanceForsMallProteinTheGridTestbed Finalmente, exploramos la conformación molecular usando conflex-G para moléculas grandes.omnirpc",
                "Si se asignan más de 100 estructuras de prueba a cada programa de trabajadores, el cálculo se puede realizar de manera más eficiente debido a la reducción de la sobrecarga para la invocación e inicialización de los trabajadores a través de la instalación del objetivo \"OMNIRPC\".omnirpc",
                "Sin embargo, cómo tal modificación de los algoritmos podría afectar la eficiencia no está clara.• En este experimento, utilizamos un planificador de redonsrobbin construido simple de \"OMNIRPC\", que es necesario para aplicar el planificador que asigna estructuras con largos tiempos de optimización a una tabla de alto rendimiento 8: Estadísticas de la estructura de la prueba transcurrida de la estructura de pruebaOptimización utilizando 28 trabajadores en el clúster de Dennis.omnirpc",
                "Para acelerar las estructuras de prueba, la programación híbrida que usa \"OmnIrpc\" y OpenMP en una máquina SMP (procesador múltiple simétrico) puede ser uno de los métodos alternativos para mejorar el rendimiento general.5. OMNIRPC",
                "Sin embargo, las habilidades y el esfuerzo necesarios para desarrollar una aplicación de la red pueden no ser necesarias para \"Omnirpc\".omnirpc",
                "NetSolve [8] es una instalación RPC similar a \"Omnirpc\" y NINF, proporcionando una interfaz de programación similar y un mecanismo de equilibrio de carga automática.omnirpc",
                "Conclusiones y trabajos futuros hemos diseñado e implementado Conflex-G utilizando \"OMNIRPC\".omnirpc",
                "\"OMNIRPC\" proporciona un modelo de persistencia restringido para que el módulo se inicialice automáticamente en la invocación llamando al procedimiento de inicialización.omnirpc",
                "En el actual \"OMNIRPC\", el registro de un programa de ejecución a hosts remotos e implementaciones de programas de trabajadores se establece manualmente.omnirpc",
                "\"OMNIRPC\": un sistema RPC de cuadrícula para programación paralela en el entorno de clúster y cuadrícula.omnirpc",
                "\"OMNIRPC\": una instalación RPC de cuadrícula para clúster y computación global en OpenMP.omnirpc",
                "En Proc.de taller sobre aplicaciones y herramientas de OpenMP 2001 (LNCS 2104), Páginas 130-135, 2001. [4] Proyecto \"OMNIRPC\".http://www.omni.hpcc.jp/\"omnirpc\"/.[5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima y H. Takagi.omnirpc"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "conformational space search": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular <br>conformational space search</br> Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular <br>conformational space search</br> program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable <br>conformational space search</br> programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, <br>conformational space search</br> can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of <br>conformational space search</br> in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient <br>conformational space search</br> program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original <br>conformational space search</br> algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a <br>conformational space search</br>.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Implementación y evaluación del desempeño de Conflex-G: programa molecular de \"búsqueda de espacio conformacional\" habilitado con la red con Omnirpc Yoshihiro Nakajima Escuela de Graduados de Sistemas e Ingeniería de la Información, Universidad de Tsukuba Tsukuba, 305-8577, Japón yoshihiro@hpcs.is.tsukuba.acuba..jp Mitsuhisa Sato Institute of Information Sciences and Electronics, Universidad de Tsukuba Tsukuba, 305-8577, Japón msato@is.tsukuba.ac.jp Hitoshi GOTO Ingeniería de información basada en el conocimiento, Universidad de Tecnología de Toyohashi Toyohashi, 441-8580, Japón, Japón GOTOH GOTOH@Cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Information of Information Sciences and Electronics, University of Tsukuba tsukuba, 305-8577, Japón {Taisuke, Daisuke}@hpcs.is.tsukuba.ac.JP Abstracto de conflex-G es la versión habilitada para la cuadrícula de un programa molecular de \"búsqueda de espacio conformacional\" llamado conflex.búsqueda de espacio conformacional",
                "Conflex es uno de los programas más eficientes y confiables de \"búsqueda de espacio conformacional\" [1].búsqueda de espacio conformacional",
                "Dado que la optimización de la estructura del ensayo en Conflex se calcula a través de la mecánica molecular, la \"búsqueda de espacio conformacional\" se puede realizar rápidamente en comparación con la utilizando el cálculo orbital molecular.búsqueda de espacio conformacional",
                "Una selección general de las conformaciones de la estructura inicial Base de datos Local Perturbation Geometry Optimización Comparación y registro Figura 1: Algoritmo de \"búsqueda de espacio conformacional\" en el conflex original.del sistema Conflex se presenta en la Sección 2, y la implementación y el diseño de Conflex-G se describen en la Sección 3. Búsqueda de espacio conformacional",
                "Conflex Conflex [1] es un programa eficiente de \"búsqueda de espacio conformacional\", que puede buscar predominantemente y exhaustivamente los conformadores en la región de menor energía.búsqueda de espacio conformacional",
                "La Figura 1 muestra el contorno de Conflex, el algoritmo original de \"búsqueda de espacio conformacional\".búsqueda de espacio conformacional",
                "Conflex: comportamientos conformacionales de los polipéptidos según lo predicho por una \"búsqueda de espacio conformacional\".búsqueda de espacio conformacional"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "bio-molecule": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large <br>bio-molecule</br>s, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large <br>bio-molecule</br>s, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large <br>bio-molecule</br>s, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large <br>bio-molecule</br>s, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger <br>bio-molecule</br>s such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Para explorar muchas conformaciones de grandes \"bio-moléculas\", Conflex-G genera estructuras de prueba de las moléculas y asigna trabajos para optimizar una estructura de prueba con un método de mecánica molecular confiable en la cuadrícula.biomolécula",
                "Conflex-G Originalmente, Conflex estaba destinado a su uso en la exploración de los conformadores de las grandes \"bio-molécula\", tal proteasa del VIH.biomolécula",
                "Dado que el objetivo de Conflex-G es explorar las conformaciones de las grandes \"bio-molécula\", el número de estructuras de prueba y el tiempo para optimizar la estructura de prueba podrían ser grandes.biomolécula",
                "Para explorar la conformación de grandes \"bio-moléculas\", se usó conflet para generar estructuras de prueba de las moléculas y asignar trabajos para optimizarlas mediante mecánica molecular en la red.biomolécula",
                "Planeamos refinar el algoritmo de optimización conformacional en Conflex para explorar la búsqueda del espacio de conformación de una \"bio-molécula\" más grande como la proteasa del VIH que usa hasta 1000 trabajadores en un entorno de cuadrícula.7. Bio-molécula"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "rpc module": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the <br>rpc module</br>, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En este modelo, cuando el procedimiento de inicialización se define en el \"Módulo RPC\", el módulo se inicializa automáticamente en el momento de la invocación llamando al procedimiento de inicialización.módulo RPC"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "initialization procedure": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the <br>initialization procedure</br> is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the <br>initialization procedure</br>.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an <br>initialization procedure</br> in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the <br>initialization procedure</br> can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the <br>initialization procedure</br> is defined in the module, the module is automatically initialized at invocation by calling the <br>initialization procedure</br>.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the <br>initialization procedure</br>.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "En este modelo, cuando el \"procedimiento de inicialización\" se define en el módulo RPC, el módulo se inicializa automáticamente en el momento de la invocación llamando al \"procedimiento de inicialización\".procedimiento de inicialización",
                "El usuario puede definir un \"procedimiento de inicialización\" en el ejecutable remoto para enviar y almacenar datos automáticamente antes de las llamadas de procedimiento remoto reales.procedimiento de inicialización",
                "Dado que el ejecutable remoto puede aceptar solicitudes de llamadas posteriores, el conjunto de datos que ha sido establecido por el \"procedimiento de inicialización\" se puede reutilizar.procedimiento de inicialización",
                "Si el \"procedimiento de inicialización\" se define en el módulo, el módulo se inicializa automáticamente al invocación llamando al \"Procedimiento de inicialización\".procedimiento de inicialización",
                "OMNIRPC proporciona un modelo de persistencia restringido para que el módulo se inicialice automáticamente en la invocación llamando al \"procedimiento de inicialización\".procedimiento de inicialización"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "mpus": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "pc cluster": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local <br>pc cluster</br>.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one <br>pc cluster</br> is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local <br>pc cluster</br> to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local <br>pc cluster</br>.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a <br>pc cluster</br> to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the <br>pc cluster</br> is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a <br>pc cluster</br> in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a <br>pc cluster</br> using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each <br>pc cluster</br>.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each <br>pc cluster</br> in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a <br>pc cluster</br>.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local <br>pc cluster</br>.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El rendimiento del conflex paralelo permite la exploración de la región de menor energía del espacio conformacional de pequeños péptidos dentro de un tiempo transcurrido disponible utilizando un \"clúster de PC\" local.clúster de PC",
                "Por lo tanto, para los polímeros altos de los organismos vivos, como la proteasa del VIH, el uso de un \"clúster de PC\" es insuficiente debido al requisito de optimización de una gran cantidad de estructuras de prueba.clúster de PC",
                "Además, comparamos el rendimiento de Conflex-G en un \"clúster de PC\" local con el de un lecho de prueba de cuadrícula.clúster de PC",
                "Implementamos la versión paralela de Conflex, que no puede tratar tales moléculas usando solo un \"clúster de PC\" local.clúster de PC",
                "En otras palabras, el programa del cliente puede eliminar la inicialización para cada llamada RPC y, por lo tanto, puede optimizar las estructuras de prueba de manera eficiente.3.1 El sistema OMNIRPC OMNIRPC es un sistema RPC Grid que permite una programación paralela perfecta de un \"clúster de PC\" a un entorno de cuadrícula.clúster de PC",
                "Cuando el \"clúster de PC\" está dentro de un firewall, el reenvío de puerto de SSH permite que el nodo se comunique con el exterior con MXIO.clúster de PC",
                "Utilizando RPCS, Conflex-G asigna los procesos de optimización de la estructura de prueba, que se realizan mediante los nodos de cálculo de un \"clúster de PC\" en la versión MPI de Conflex, a los nodos computacionales de cada clúster en un entorno de cuadrícula.clúster de PC",
                "El programa cliente que asigna la optimización de la estructura de prueba al nodo de cálculo de un \"clúster de PC\" utilizando RPC se describe de la siguiente manera.clúster de PC",
                "Por lo tanto, los RPC se asignan automáticamente a los trabajadores inactivos.158 Tabla 2: rendimiento de la red entre el nodo maestro del clúster Dennis y el nodo maestro de cada \"clúster de PC\".clúster de PC",
                "La Tabla 2 muestra el rendimiento de la red medida entre el nodo maestro del clúster Dennis y el nodo maestro de cada \"clúster de PC\" en el lecho de prueba de la cuadrícula.clúster de PC",
                "Tenga en cuenta que se asigna y realiza un programa de trabajadores en una CPU del nodo de cálculo en un \"clúster de PC\".clúster de PC",
                "La Figura 7 compara los resultados para el MPI Conflex y Conflex-G en un \"clúster de PC\" local.clúster de PC"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "grid computing": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a <br>grid computing</br> environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the <br>grid computing</br> platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for <br>grid computing</br> .",
                "Journal of <br>grid computing</br>, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for <br>grid computing</br>. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Esto requiere los vastos recursos informáticos de un entorno de \"computación en la cuadrícula\".computación de la cuadrícula",
                "Agradecimientos Esta investigación fue apoyada en parte por una subvención del Ministerio de Educación, Cultura, Deportes, Ciencia y Tecnología en Japón, No. 14019011, 2002, y como parte del Programa de Investigación y Desarrollo para la Aplicación de la Computación Avanzada.Ciencia y tecnología de la Corporación de Ciencia y Tecnología de Japón (investigación sobre la plataforma de \"informática de la cuadrícula\" para el diseño de medicamentos).computación de la cuadrícula",
                "Ninf-G: una implementación de referencia del middleware de programación basado en RPC para \"Computación de cuadrícula\".computación de la cuadrícula",
                "Journal of \"Grid Computing\", 1 (1): 41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, ZShi y S. Vadhiyar.computación de la cuadrícula",
                "GridRPC: una API de llamada de procedimiento remoto para \"Computación de cuadrícula\".[11] H.Goto, T. Takahashi, Y. Takata, K. Ohta y U Nagashima.computación de la cuadrícula"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "grid rpc system": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a <br>grid rpc system</br> called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a <br>grid rpc system</br> and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a <br>grid rpc system</br> which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a <br>grid rpc system</br> for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Hemos implementado Conflex-G utilizando un \"sistema RPC de cuadrícula\" llamado OMNIRPC.Sistema RPC de la cuadrícula",
                "En este artículo, proponemos el modelo de persistencia OMNIRPC a un \"sistema RPC de la cuadrícula\" y demostramos su efectividad.Sistema RPC de la cuadrícula",
                "En otras palabras, el programa del cliente puede eliminar la inicialización para cada llamada RPC y, por lo tanto, puede optimizar las estructuras de prueba de manera eficiente.3.1 El sistema OMNIRPC OMNIRPC es un \"sistema RPC de cuadrícula\" que permite una programación paralela perfecta desde un clúster de PC a un entorno de cuadrícula.Sistema RPC de la cuadrícula",
                "OMNIRPC: un \"sistema RPC de cuadrícula\" para la programación paralela en el entorno de clúster y cuadrícula.Sistema RPC de la cuadrícula"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "molecular mechanic": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable <br>molecular mechanic</br>s method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via <br>molecular mechanic</br>s, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by <br>molecular mechanic</br>s in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Para explorar muchas conformaciones de grandes bio-moléculas, Conflex-G genera estructuras de prueba de las moléculas y asigna trabajos para optimizar una estructura de prueba con un método confiable de \"mecánico molecular\" en la cuadrícula.mecánico molecular",
                "Dado que la optimización de la estructura del ensayo en Conflex se calcula a través de la \"mecánica molecular\", la búsqueda de espacio conformacional se puede realizar rápidamente en comparación con la utilizando el cálculo orbital molecular.mecánico molecular",
                "Para explorar la conformación de grandes bio-moléculas, se usó conflexg para generar estructuras de prueba de las moléculas y asignar trabajos para optimizarlas mediante la \"mecánica molecular\" s en la cuadrícula.mecánico molecular"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "automatic initializable module": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the <br>automatic initializable module</br> (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: <br>automatic initializable module</br> OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the <br>automatic initializable module</br>.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the <br>automatic initializable module</br> (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the <br>automatic initializable module</br>. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the <br>automatic initializable module</br>.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of <br>automatic initializable module</br> for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "La instalación OMNIRPC del \"módulo inicializable automático\" (AIM) permite que el sistema calcule eficientemente numerosos conformadores.módulo inicializable automático",
                "Debido a que OMNIRPC es un sistema seguro para los subprocesos, una serie de llamadas de procedimientos remotos pueden ser sobresalientes en cualquier momento para programas multiproceso escritos en OpenMP.3.2 Modelo de persistencia OMNIRPC: \"Módulo inicializable automático\" OMNIRPC admite eficientemente las aplicaciones paralelas típicas de maestría/trabajador, como programas de ejecución paramétrica.módulo inicializable automático",
                "Para aplicaciones de búsqueda paramétricas, que a menudo requieren una gran cantidad de datos idénticos para cada llamada, OmnIrpc admite un modelo de persistencia limitado, que es implementado por el \"módulo automático inicializable\".módulo inicializable automático",
                "OMNIRPC proporciona un modelo de persistencia restringido a través del \"Módulo inicializable automático\" (AIM) para admitir este tipo de aplicación.módulo inicializable automático",
                "Es necesario que el sistema RPC común, incluido GridRPC, inicialice un programa para cada llamada de RPC, ya que la persistencia de datos de los programas de trabajadores 157 Tiempo Programa de clientes Programa de trabajadores 1 Programa de trabajadores 2 Inicialización Inicialización Cálculo de cálculo Cálculo Cálculo de cálculo Paralelizado utilizando RPC asíncronos Figura 5: Tiempo: Tiempo: Tiempo Tiempo: Tiempo Tiempo Tiempo: Tiempo TiempoGráfico de aplicaciones utilizando la instalación OMNIRPC del \"módulo automático inicializable\".Tiempo Programa de cliente Programa Trabajador 1 Programa de trabajadores 2 Inicialización Inicialización Inicialización Cálculo Cálculo Cálculo Cálculo Inicialización Inicialización Paralelizada utilizando el cálculo de RPCS asíncrono Figura 6: Tiempo de tiempo de aplicaciones sin la instalación OMNIRPC del \"Módulo inicializable automático\".módulo inicializable automático",
                "Figura 9: Rendimiento de Conflex-G con y sin la instalación OMNIRPC del \"módulo inicializable automático\" para ALAX16.159 Tabla 3: Características de las moléculas y la transmisión de datos para optimizar las estructuras moleculares de prueba en cada código molecular.módulo inicializable automático"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "computational chemistry": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Implementation and Performance Evaluation of CONFLEX-G: Grid-enabled Molecular Conformational Space Search Program with OmniRPC Yoshihiro Nakajima Graduate School of Systems & Information Engineering, University of Tsukuba Tsukuba, 305-8577, Japan yoshihiro@hpcs.is.tsukuba.ac.jp Mitsuhisa Sato Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan msato@is.tsukuba.ac.jp Hitoshi Goto Knowledge-based Information Engineering, Toyohashi University of Technology Toyohashi, 441-8580, Japan gotoh@cochem2.tutkie.tut.ac.jp Taisuke Boku, Daisuke Takahashi Institute of Information Sciences and Electronics, University of Tsukuba Tsukuba, 305-8577, Japan {taisuke,daisuke}@hpcs.is.tsukuba.ac.jp ABSTRACT CONFLEX-G is the grid-enabled version of a molecular conformational space search program called CONFLEX.",
                "We have implemented CONFLEX-G using a grid RPC system called OmniRPC.",
                "In this paper, we report the performance of CONFLEX-G in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore many conformation of large bio-molecules, CONFLEX-G generates trial structures of the molecules and allocates jobs to optimize a trial structure with a reliable molecular mechanics method in the grid.",
                "OmniRPC provides a restricted persistence model to support the parametric search applications.",
                "In this model, when the initialization procedure is defined in the RPC module, the module is automatically initialized at the time of invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and initialization at each call in CONFLEX-G. CONFLEXG can achieve performance comparable to CONFLEX MPI and can exploit more computing resources by allowing the use of a cluster of multiple clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times in the case of the 1BL1 molecule, where the molecule consists of a large number of atoms, and each trial structure optimization requires significant time.",
                "The load imbalance of the optimization time of the trial structure may also cause performance degradation.",
                "Categories and Subject Descriptors C.2.4 [Computer Systems Organization]: COMPUTERCOMMUNICATION NETWORK-Distributed Systems; J.2.4 [Computer Applications]: PHYSICAL SCIENCES AND ENGINEERING General Terms Design,Performance 1.",
                "INTRODUCTION Elucidation of the stable conformations and the folding process of proteins is one of the most fundamental and challenging goals in life science.",
                "While some of the most common secondary structures (e.g., certain types of helix, the beta-strand, and the coil) are well known, precise analysis of the thousands of chemically important conformers and pico-second-order analysis of their conformational interconversions via the transition states on the potential energy surface are required for the microsecond-order investigation of the folding process toward the tertiary structure formations.",
                "Recently, the concept of the computational grid has begun to attract significant interest in the field of high-performance network computing.",
                "Rapid advances in wide-area networking technology and infrastructure have made it possible to construct large-scale, high-performance distributed computing environments, or computational grids, that provide dependable, consistent and pervasive access to enormous computational resources.",
                "CONFLEX is one of the most efficient and reliable conformational space search programs[1].",
                "We have applied this 154 program to parallelization using global computing.",
                "The performance of the parallelized CONFLEX enables exploration of the lower-energy region of the conformational space of small peptides within an available elapsed time using a local PC cluster.",
                "Since trial structure optimization in CONFLEX is calculated via molecular mechanics, conformational space search can be performed quickly compared to that using molecular orbital calculation.",
                "Although the parallelized version of CONFLEX was used to calculate in parallel the structure optimization, which takes up over 90% of the processing in the molecular conformation search, sufficient improvement in the speedup could not be achieved by this method alone.",
                "Therefore, for high polymers from live organisms, such as HIV protease, the use one PC cluster is insufficient due to the requirement for optimization of a huge number of trial structures.",
                "This requires the vast computer resources of a grid computing environment.",
                "In this paper, we describe CONFLEX-G, a grid-enabled molecular conformational search program, using OmniRPC and report its performance in a grid of several PC clusters which are geographically distributed.",
                "The prototype CONFLEX-G allocates calculation trial structures optimization, which is a very time-consuming task, to worker nodes in the grid environment in order to obtain high throughput.",
                "In addition, we compare the performance of CONFLEX-G in a local PC cluster to that in a grid testbed.",
                "OmniRPC[2, 3, 4] is a thread-safe implementation of Ninf RPC[5, 6] which is a Grid RPC facility for grid environment computing.",
                "Several systems adopt the concept of the RPC as the basic model for grid environment computing, including Ninf-G[7], NetSolve[8] and CORBA[9].",
                "The RPCstyle system provides an easy-to-use, intuitive programming interface, allowing users of the grid system to easily create grid-enabled applications.",
                "In order to support parallel programming, an RPC client can issue asynchronous call requests to a different remote computer to exploit networkwide parallelism via OmniRPC.",
                "In this paper, we propose the OmniRPC persistence model to a Grid RPC system and demonstrate its effectiveness.",
                "In order to support a typical application for a grid environment, such as a parametric search application, in which the same function is executed with different input parameters on the same data set.",
                "In the current GridRPC system[10], the data set by the previous call cannot be used by subsequent calls.",
                "In the OmniRPC system, once a remote executable is invoked, the client attempts to use the invoked remote executable and its initialized state for subsequent RPC calls to the same remote functions in order to eliminate the invocation cost of each call.",
                "This paper demonstrates that CONFLEX-G is able to exploit the huge computer resources of a grid environment and search large-scale molecular conformers.",
                "We demonstrate CONFLEX-G on our grid testbed using the actual protein as a sample molecule.",
                "The OmniRPC facility of the automatic initializable module (AIM) allows the system to efficiently calculate numerous conformers.",
                "Furthermore, by using OmniRPC, the user can grid-parallelize the existing application, and move from the cluster to the grid environment without modifying program code and compiling the program.",
                "In addition, the user can easily build a private grid environment.",
                "The rest of this paper is organized as follows.",
                "An overview Selection of Initial Structure Conformations Database Local Perturbation Geometry Optimization Comparison and Registration Figure 1: Algorithm of conformational space search in the original CONFLEX. of the CONFLEX system is presented in Section2, and the implementation and design of CONFLEX-G are described in Section 3.",
                "We report experimental results obtained using CONFLEX-G and discuss its performance in Section 4.",
                "In Section 6, we present conclusions and discuss subjects for future study. 2.",
                "CONFLEX CONFLEX [1] is an efficient conformational space search program, which can predominately and exhaustively search the conformers in the lower-energy region.",
                "Applications of CONFLEX include the elucidation of the reactivity and selectivity of drugs and possible drug materials with regard to their conformational flexibility. 2.1 Algorithm of ConformationalSpaceSearch The basic strategy of CONFLEX is an exhaustive search of only the low-energy regions.",
                "The original CONFLEX performs the following four major steps: 1.",
                "Selection of an initial structure among the previously discovered unique conformers sorted in a conformational database. (An input structure is used as the first initial structure at the beginning of a search execution only.) 2.",
                "Generation of trial structures by local perturbations to the selected initial structure. 3.",
                "Geometry optimization for the newly generated trial structures. 4.",
                "Comparison of the successfully optimized (trial) structures with the other conformers stored in a conformation database, and preservation of newly discovered unique conformers in the database.",
                "Figure 1 shows the outline of CONFLEX, the original conformational space search algorithm.",
                "These procedures incorporate two unique strategies.",
                "Figure 2 shows the strategies for generating local perturbations in CONFLEX.",
                "The first strategy involves both corner flapping and edge flipping for the ring atoms and stepwise rotation for side-chains or backbone chains.",
                "These methods provide a highly efficient way to produce several good trial structures.",
                "These perturbations can be considered to mimic 155 Stepwise Rotation Corner Flap Edge Flip Figure 2: Strategies used to generate the local perturbations. a barrier-crossing step in the elementary process of the thermal conformational inter-conversion.",
                "Actually, the perturbations of an initial structure correspond to the precise performance around the space of the initial structure because of localization and weakness of the perturbation.",
                "The selection rule of the initial structure, the LowestConformer-First rule, is the second strategy for directing the conformation search expanded to the low-energy regions.",
                "The initial structure is selected as the set of lowest energy conformers stored in the conformation database.",
                "This rule is effective in moving down the search space toward lower energy regions, like water from a stream running into an empty reservoir, while filling local depressions along the way.",
                "Therefore, these tactical procedures of the CONFLEX search are referred to as the Reservoir Filling Algorithm.",
                "In order to remain in the low-energy region and perform an exhaustive search, the search limit (SEL), which determines the maximum energy of the initial structures, is pre-defined.",
                "Gradually increasing SEL allows only the lowenergy conformers to be searched and avoids straying into unnecessarily high-energy regions. 2.2 Parallelization of CONFLEX for Cluster For application to over 100 atoms, CONFLEX was improved using high-performance parallel computing techniques.",
                "In the CONFLEX search algorithm, the geometry optimization procedures always take 95% of the elapsed time of the search execution.",
                "Therefore, we parallelized this optimization using the Master/Worker parallelization technique.",
                "We modified the search procedures as follows.",
                "After trial structures are generated (step 2), they are temporarily stored in a task pool on the master node.",
                "Then, each worker node is dynamically supplied with one trial structure from the master node.",
                "After an optimization on a worker node is finished, the worker is immediately supplied with another trial structure.",
                "When all of the trial structures related to a given initial structure are optimized, only the master procedure is used in comparison.",
                "By parallelizing CONFLEX, the speedup of searching molecular conformers obtained is as reported in[11]. 3.",
                "CONFLEX-G Originally, CONFLEX was intended for use in exploring the conformers of the large bio-molecules, such HIV protease.",
                "In such molecules, the number of trial structures increases and the time required for optimization of RPC Selection of Initial Structure Conformations Database Local Perturbation Comparison and Registration Client program Task Pool of Geometry Optimization RPC RPC Grid environment Cluster B Cluster A Cluster C Trial structureTrial structure Trial structure Trial structure Figure 3: Procedure of CONFLEX-G. agent rexrex rex Client jones.tsukuba.ac.jp hpc-serv.hpcc.jp hpc1 hpc2 hpc3 Agent invocation communicationNetwork Figure 4: Overview of the OmniRPC system for the remote cluster having a private IP address. the trial structure becomes immense.",
                "We implemented the parallelized version of CONFLEX, which cannot treat such molecules using only a local PC cluster.",
                "In order to exploit the vast computing resources of a grid environment, we designed and implemented CONFLEX-G, which is a grid-enabled version of CONFLEX, with the OmniRPC system.",
                "CONFLEX-G allocates jobs to optimize a trial structure to the computational nodes of each cluster in the grid environment.",
                "Figure 3 shows the process of CONFLEX-G.",
                "The worker programs are initialized by the initialize method, which is provided by the OmniRPC AIM facility at worker invocation.",
                "At each RPC call, the initialized state is reused on the remote host.",
                "In other words, the client program can eliminate the initialization for each RPC call, and can therefore optimize trial structures efficiently. 3.1 The OmniRPC system OmniRPC is a Grid RPC system which allows seamless parallel programming from a PC cluster to a grid environment.",
                "OmniRPC inherits its API and basic architecture from Ninf.",
                "A client and the remote computational hosts which execute the remote procedures may be connected via a network.",
                "The remote libraries are implemented as an executable program which contains a network stub routine as its main routine.",
                "We call this executable program a remote executable program (rex).",
                "When the OmniRPC client program starts, the initialization function of OmniRPC system invokes the OmniRPC agent program omrpc-agent in the remote hosts listed in the host file.",
                "To invoke the agent, the user can use the remote shell command rsh in a local-area network, the GRAM (Globus Resource Allocation Manager) API of the Globus 156 toolkit[12] in a grid environment, or the secure remote shell command ssh.",
                "The user can switch the configurations only by changing the host file.",
                "OmniRpcCall is a simple client programming interface for calling remote functions.",
                "When OmniRpcCall makes a remote procedure call, the call is allocated to an appropriate remote host.",
                "When the client issues the RPC request, it requests that the agent in the selected host submit the job of the remote executable with the local job scheduler specified in the host file.",
                "If the job scheduler is not specified, the agent executes the remote executable in the same node by the fork system call.",
                "The client sends the data of the input arguments to the invoked remote executable, and receives the results upon return of the remote function.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls in order to eliminate the cost of invoking the same remote executable again.",
                "When the agent and the remote executables are invoked, the remote programs obtain the client address and port from the argument list and connect back to the client by direct TCP/IP or Globus-IO for data transmission.",
                "Because the OmniRPC system does not use any fixed service ports, the client program allocates unused ports dynamically to wait for connection from the remote executables.",
                "This avoids possible security problems, and allows the user to install the OmniRPC system without requiring a privileged account.",
                "Herein, a typical grid resource is regarded as a cluster of geographically distributed PC clusters.",
                "For PC clusters on a private network, an OmniRPC agent process on the server host functions as a proxy to relay communications between the client and the remote executables by multiplexing the communications using a single connection.",
                "This feature, called multiplex IO (MXIO), allows a single client to use up to 1,000 remote computing hosts.",
                "When the PC cluster is inside a firewall, the port forwarding of SSH enables the node to communicate to the outside with MXIO.",
                "Figure 4 shows the overview of the OmniRPC system for a remote cluster with a private IP address.",
                "For parallel programming, the programmer can use asynchronous remote procedure calls, allowing the client to issue several requests while continuing with other computations.",
                "The requests are dispatched to different remote hosts to be executed in parallel, and the client waits or polls the completed request.",
                "In such a programming model with asynchronous remote procedure calls, the programmer should handle outstanding requests explicitly.",
                "Because OmniRPC is a thread-safe system, a number of remote procedure calls may be outstanding at any time for multi-threaded programs written in OpenMP. 3.2 OmniRPC persistence model: automatic initializable module OmniRPC efficiently supports typical Master/Worker parallel applications such as parametric execution programs.",
                "For parametric search applications, which often require large amount of identical data for each call, OmniRPC supports a limited persistence model, which is implemented by the automatic initializable module.",
                "The user can define an initialization procedure in the remote executable in order to send and store data automatically in advance of actual remote procedure calls.",
                "Since the remote executable may accept requests for subsequent calls, the data set which has been set by the initialization procedure can be re-used.",
                "As a result, the worker program can execute efficiently and reduce the amount of data transmitted for initialization.",
                "Once a remote executable is invoked, the client attempts to use the invoked remote executable for subsequent RPC calls.",
                "However, OmniRPC does not guarantee persistence of the remote executable, so that the data set by the previous call cannot be used by subsequent calls.",
                "This is because a remote call by OmniRpcCall may be scheduled to any remote host dynamically, and remote executables may be terminated accidentally due to dynamic re-scheduling or host faults.",
                "However, persistence of the remote executable can be exploited in certain applications.",
                "An example is a parametric search application: in such an application, it would be efficient if a large set of data could be pre-loaded by the first call, and subsequent calls could be performed on the same data, but with different parameters.",
                "This is the case for CONFLEX.",
                "OmniRPC provides a restricted persistence model through the automatic initializable module (AIM) in order to support this type of application.",
                "If the initialization procedure is defined in the module, the module is automatically initialized at invocation by calling the initialization procedure.",
                "When the remote executable is re-scheduled in different hosts, the initialization is called to initialize the newly allocated remote module.",
                "This can eliminate unnecessary communications when RPC calls use the same data.",
                "To reveal more about the difference in progress between the cases with OmniRPC AIM and without OmniRPC AIM, we present two figures.",
                "Figure 5 illustrates the time chart of the progress of a typical OmniRPC application using the OmniRPC AIM facility, and Figure 6 illustrates the time chart of the same application without the OmniRPC AIM facility.",
                "In both figures, the lines between diamonds represent the processes of initialization, and the lines between points represent the calculation.",
                "The bold line indicates the time when the client program sends the data to a worker program.",
                "It is necessary for the application without the OmniRPC AIM facility to initialize at each RPC.",
                "The application using the OmniRPC AIM facility can re-use the initialized data once the data set is initialized.",
                "This can reduce the initialization at each RPC.",
                "The workers of the application with the AIM can calculate efficiently compared to the application without the OmniRPC AIM facility. 3.3 Implementation of CONFLEX-G using OmniRPC Figure 3 shows an overview of the process used in CONFLEXG.",
                "Using RPCs, CONFLEX-G allocates the processes of trial structure optimization, which are performed by the computation nodes of a PC cluster in the MPI version of CONFLEX, to the computational nodes of each cluster in a grid environment.",
                "There are two computations which are performed by the worker programs in CONFLEX-G. One is the initialization of a worker program, and another is the calculation of trial structure optimization.",
                "First, the OmniRPC facility of the AIM is adapted for initialization of a worker program.",
                "This facility automatically calls the initialization function, which is contained in the worker program, once the client program invokes the worker program in a remote node.",
                "It is necessary for the common RPC system including GridRPC to initialize a program for every RPC call, since data persistence of worker programs 157 time Client Program Worker Program 1 Worker Program 2 initialization initialization calculation calculation calculation calculation calculation Parallelized using asynchronous RPCs Figure 5: Time chart of applications using the OmniRPC facility of the automatic initializable module. time Client Program Worker Program 1 Worker Program 2 initialization initializationcalculation calculation calculation calculation initialization initialization initialization Parallelized using asynchronous RPCs calculation Figure 6: Time chart of applications without the OmniRPC facility of the automatic initializable module.",
                "Table 1: Machine configurations in the grid testbed.",
                "Site Cluster Name Machine Network Authentication # of Nodes # of CPUs Univ. of Tsukuba Dennis Dual Xeon 2.4GHz 1Gb Ethernet Globus, SSH 14 28 Alice Dual Athlon 1800+ 100Mb Ethernet Globus, SSH 18 36 TUT Toyo Dual Athlon 2600+ 100Mb Ethernet SSH 8 16 AIST Ume Dual Pentium3 1.4GHz 1Gb Ethernet Globus, SSH 32 64 is not supported.",
                "In OmniRPC, however, when the Initialize remote function is defined in the worker program and a new worker program, corresponding to the other RPC, is assigned to execute, an Initialize function is called automatically.",
                "Therefore, after the Initialize function call to set up common initialization data, a worker program can re-use this data and increase the efficiency of its processes.",
                "Thus, the higher the set-up cost, the greater the potential benefit.",
                "We implemented the worker program of CONFLEX-G to receive data, such as evaluation parameters of energy, from a client program and to be initialized by the Initialize function.",
                "We arranged the client program of CONFLEX-G to transfer the parameter file at the time of worker initialization.",
                "This enables execution to be performed by modify only the client setting if the user wants to run CONFLEX-G with a different data set.",
                "Second, in order to calculate trial structure optimization in a worker program, the worker program must receive the data, such as the atom arrangement of the trial structure and the internal energy state.",
                "The result is returned to the client program after the worker has Optimized the trial structure.",
                "Since the calculation portion of the structure optimization in this worker program can be calculated independently using different parameters, we parallelized this portion using asynchronous RPCs on the client side.",
                "To call the structure optimization function in a worker program from the client program, we use the OmniRpcCallAsync API, which is intended for asynchronous RPC.",
                "In addition, OmniRpcCallWaitAll API which waits until all asynchronous RPCs are used in order to perform synchronization with all of the asynchronous RPCs completed so as to optimize the trial structure.",
                "The client program which assigns trial structure optimization to the calculation node of a PC cluster using RPC is outlined as follows.",
                "OmniRpcInit() OmniRpcModuleInit(conflex_search,...); ... while( <new conformers> ) { foreach( <trial structures> ) OmniRpcCallAsync(conflex_search_worker, ...); OmniRpcWaitAll(); ...",
                "Note that OmniRpcModuleInit API returns only the arguments needed for initialization and will not actually execute the Initialization function.",
                "As described above, the actual Initialization is performed at the first remote call.",
                "Since the OmniRPC system has an easy round-robin scheduler, we do not have to explicitly write the code for load balance.",
                "Therefore, RPCs are allocated automatically to idle workers. 158 Table 2: Network performance between the master node of the Dennis cluster and the master node of each PC cluster.",
                "Round-Trip Throughput Cluster Time (ms) (Mbps) Dennis 0.23 879.31 Alice 0.18 94.12 Toyo 11.27 1.53 Ume 1.07 373.33 4.",
                "PRELIMINARY RESULTS 4.1 Grid Testbed The grid testbed was constructed by computing resources at the University of Tsukuba, the Toyohashi University of Technology (TUT) and the National Institute of Advanced Industrial Science and Technology (AIST).",
                "Table 1 shows the computing resources used for the grid of the present study.",
                "The University of Tsukuba and AIST are connected by a 1-Gbps Tsukuba WAN, and the other PC clusters are connected by SINET, which is wide-area network dedicated to academic research in Japan.",
                "Table 2 shows the performance of the measured network between the master node of the Dennis cluster and the master node of each PC cluster in the grid testbed.",
                "The communication throughput was measured using netperf, and the round-trip time was measured by ping. 4.2 Performance of CONFLEX-G In all of the CONFLEX-G experiments, the client program was executed on the master node of the Dennis cluster at the University of Tsukuba.",
                "The built-in Round-Robin scheduler of OmniRPC was used as a job scheduler.",
                "SSH was used for an authentication system, the OminRPCs MXIO, which relays the I/O communication between client program and worker programs by port forwarding of SSH was, not used.",
                "Note that one worker program is assigned and performed on one CPU of the calculation node in a PC cluster.",
                "That is, the number of workers is equal to the number of CPUs.",
                "These programs were compiled by the Intel Fortran Compiler 7.0 and gcc 2.95.",
                "MPICH, Version 1.2.5, was used to compare the performance between CONFLEX MPI and CONFLEX-G.",
                "In order to demonstrate the usability of the OmniRPC facility of the AIM, we implemented another version of CONFLEX-G which did not utilize the OmniRPC facility.",
                "The worker program in this version of CONFLEXG must be initialized at each RPC because the worker does not hold the previous data set.",
                "In order to examine the performance of CONFLEX-G, we selected two peptides and two small protein as test molecules: • N-acetyl tetra-alanine methylester (AlaX04) • N-acetyl hexdeca-alanine methylester (AlaX16) • TRP-cage miniprotein construct TC5B (1L2Y) • PTH receptor N-terminus fragment (1BL1) Table 3 lists the characteristics of these sample molecules.",
                "The column trial structure / loops in this table shows the Figure 7: Performances of CONFLEX-G, CONFLEX MPI and Original CONFLEX in the Dennis cluster.",
                "Figure 8: Speedup ratio, which is based on the elapsed time of CONFLEX-G using one worker in the Dennis cluster.",
                "Figure 9: Performance of CONFLEX-G with and without the OmniRPC facility of automatic initializable module for AlaX16. 159 Table 3: Characteristics of molecules and data transmission for optimizing trial molecular structures in each molecular code.",
                "Molecular # of # of total trial trial structure Data transfer to Data transfer code atoms structures / loop initialize a worker / trial structure AlaX04 181 360 45 2033KB 17.00KB AlaX16 191 480 160 2063KB 18.14KB 1L2Y 315 331 331 2099KB 29.58KB 1BL1 519 519 519 2150KB 48.67KB Table 4: Elapsed search time for the molecular conformation of AlaX04.",
                "Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (sequential) 1 320.0 1786.21 4.96 1786.21 1.00 Toyo (16) 16 20.0 1497.08 4.16 196.32 9.10 Dennis (28) 28 11.4 1905.51 5.29 97.00 18.41 Alice (36) 36 8.9 2055.25 5.71 87.09 20.51 Ume (56) 56 5.7 2196.77 6.10 120.69 14.80 Dennis (28) + Toyo (16) 44 7.3 1630.09 4.53 162.35 11.00 Alice (36) + Toyo (16) 52 6.2 1774.53 4.93 178.24 10.02 Dennis (28) + Alice (36) 64 5.0 1999.02 5.55 81.52 21.91 Dennis (28) + Ume (56) 84 3.8 2085.84 5.79 92.22 19.37 Alice (36) + Ume (56) 92 3.5 2120.87 5.89 101.25 17.64 Table 5: Elapsed search time for the molecular conformation of AlaX16 Total Total Optimization Cluster # of Structures optimization time Elapsed Speed (# of workers) workers / worker time (s) / structure (s) time (s) up Dennis (1) 1 480.0 74027.80 154.22 74027.80 1.00 Toyo (16) 16 30.0 70414.21 146.70 4699.15 15.75 Dennis (28) 28 17.1 74027.80 154.22 3375.60 21.93 Alice (36) 36 13.3 90047.27 187.60 3260.41 22.71 Ume (56) 56 8.6 123399.38 257.08 2913.63 25.41 Dennis (28) + Toyo (16) 44 10.9 76747.74 159.89 2762.10 26.80 Alice (36) + Toyo (16) 52 9.2 82700.44 172.29 2246.73 32.95 Dennis (28) + Alice (36) 64 7.5 87571.30 182.44 2051.50 36.08 Toyo (16) + Ume (56) 72 6.7 109671.32 228.48 2617.85 28.28 Dennis (28) + Ume (56) 84 5.7 102817.90 214.20 2478.93 29.86 Dennis(28)+Ume(56)+Toyo(16) 100 4.8 98238.07 204.66 2478.93 29.86 Table 6: Elapsed time of the search for the trial structure of 1L2Y.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 331.0 867 286,967 79.71 1.00 Toyo MPI (16) 16 20.7 867 18,696 5.19 15.34 Dennis (28) 28 11.8 803 14,101 3.91 20.35 Dennis (28) + Ume(56) 84 3.9 1,064 8,316 2.31 34.50 Table 7: Elapsed time of the search for the trial structure of 1BL1.",
                "Cluster Total # of Structures Optimization time Elapsed Elapsed Speed (# of workers) workers / worker / structure (s) time (s) time (H) up Toyo MPI (1) 1 519.0 3,646 1892,210 525.61 1.00 Toyo MPI (16) 16 32.4 3,646 120,028 33.34 15.76 Dennis (28) 28 18.5 3,154 61,803 17.16 30.61 Dennis (28) + Ume (56) 84 6.1 4,497 33,502 9.30 56.48 160 number of trial structures generated in each iteration, indicating the degree of parallelism.",
                "Figure 3 also summarizes the amount of data transmission required for initialization of a worker program and for optimization of each trial structure.",
                "Note that the amount of data transmission, which is required in order to initialize a worker program and optimize a trial structure in the MPI version of CONFLEX, is equal to that of CONFLEX-G. We used an improvement version of MM2 force field to assign a potential energy function to various geometric properties of a group of atoms. 4.2.1 Performance in a Local Cluster We first compared the performance of CONFLEX-G, the MPI version of CONFLEX, and the original sequential version of CONFLEX-G using a local cluster.",
                "We investigated performance by varying the number of workers using the Dennis cluster.",
                "We chose AlaX04 as a test molecule for this experiment.",
                "Figure 7 compares the results for the CONFLEX MPI and CONFLEX-G in a local PC cluster.",
                "The result of this experiment shows that CONFLEX-G can reduce the execution time as the number of workers increases, as in the MPI version of CONFLEX.",
                "We found that CONFLEX-G achieved efficiencies comparable to the MPI version.",
                "With 28 workers, CONFLEX-G achieved an 18.00 times speedup compared to the CONFLEX sequential version.",
                "The performance of CONFLEX-G without the OmniRPC AIM facility is worse than that of CONFLEXG using the facility, based on the increase in the number of workers.",
                "This indicates that the OmniRPC AIM enables the worker to calculate efficiently without other calculations, such initialization or invocation of worker programs.",
                "As the number of workers is increased, the performance of CONFLEX-G is a slightly lower than that of the MPI version.",
                "This performance degradation is caused by differences in the worker initialization processes of CONFLEX-G and CONFLEX MPI.",
                "In the case of CONFLEX MPI, all workers are initialized in advance of the optimization phase.",
                "In the case of OminRPC, the worker is invoked on-demand when the RPC call is actually issued.",
                "Therefore, the initialization incurs this overhead.",
                "Since the objective of CONFLEX-G is to explore the conformations of large bio-molecules, the number of trial structures and the time to optimize the trial structure might be large.",
                "In such cases, the overhead to invoke and initialize the worker program can be small compared to the entire elapsed time. 4.2.2 Performance for Peptides in The Grid Testbed First, the sample molecules (AlaX04 and AlaX16) were used to examine the CONFLEX-G performance in a grid environment.",
                "Figure 8 shows the speedup achieved by using multiple clusters compared to using one worker in the Dennis cluster.",
                "Detailed results are shown in Table 4 and Table 5.",
                "In both cases, the best performance was obtained using 64 workers of the combination of the Dennis and Alice clusters.",
                "CONFLEX-G achieved a maximum speedup of 36.08 times for AlaX04 and a maximum speedup of 21.91 times for AlaX16.",
                "In the case of AlaX04, the performance is improved only when the network performance between clusters is high.",
                "However, even if two or more clusters are used in a wide area network environment, the performance improvement was slight because the optimization time of one trial structure generated from AlaX04, a small molecule, is short.",
                "In addition, the overhead required for invocation of a worker program and network data transmission consume a large portion of the remaining processing time.",
                "In particular, the data transmission required for the initialization of a worker program is 2 MB.",
                "In the case of Toyo cluster, where the network performance between the client program and the worker programs is poor, the time of data transmission to the worker program required approximately 6.7 seconds.",
                "Since this transmission time was longer than the processing time of one structure optimization in CONFLEX-G, most of the time was spent for this data transmission.",
                "Therefore, even if CONFLEX-G uses a large number of calculation nodes in a wide area network environment, the benefit of using a grid resource is not obtained.",
                "In the case of AlaX16, CONFLEX-G achieved a speedup by using two or more PC clusters in our grid testbed.",
                "This was because the calculation time on the worker program was long and the overhead, such as network latency and the invoking of worker programs, became relatively small and could be hidden.",
                "The best performance was obtained using 64 workers in the Dennis and Alice clusters.",
                "In the case of AaX16, the achieved performance was a speedup of 36.08 times.",
                "Figure 9 reveals the effect of using the facility of the OmniRPC AIM on CONFLEX-G performance.",
                "In most cases, CONFLEX-G with the OmniRPC AIM facility archived better performance than CONFLEX-G without the facility.",
                "In particular, the OmniRPC AIM facility was advantageous when using two clusters connected by a low-performance network.",
                "The results indicate that the OmniRPC AIM facility can improve performance in the grid environment. 4.2.3 PerformanceforSmallProteininTheGridTestbed Finally, we explored the molecular conformation using CONFLEX-G for large molecules.",
                "In a grid environment, this experiment was conducted using the Dennis and Ume clusters.",
                "In this experiment, we used two proteins, 1L2Y and 1BL1.",
                "Table 6 and Table 7 show the performance of CONFLEX-G in the grid environment and that of CONFLEX MPI in the Toyo cluster, respectively.",
                "The speedups in these tables were computed respectively based on the performance of one worker and 16 workers of the Toyo cluster using CONFLEX MPI.",
                "CONFLEX-G with 84 workers in Dennis and Ume clusters obtained maximum speedups of 56.5 times for 1L2Y and 34.5 times for 1L2Y.",
                "Since the calculation time for structure optimization required a great deal of time, the ratio of overhead, including tasks such as the invocation of a worker program and data transmission for initialization, became very small, so that the performance of CONFLEX-G was improved.",
                "We found that the load imbalance in the processing time of optimization for each trial structure caused performance degradation.",
                "When we obtained the best performance for 1L2Y using the Dennis and Ume clusters, the time for each structure optimization varied from 190 to 27,887 seconds, and the ratio between the longest and shortest times was 13.4.",
                "For 1BL1, the ratio of minimum time over maximum time was 190.",
                "In addition, in order that the worker program wait until the completion of optimization of all trial structures, all worker programs were found to wait in an idle state for approximately 6 hours.",
                "This has caused the performance degradation of CONFLEX-G. 161 4.3 Discussion In this subsection, we discuss the improvement of the performance reflected in our experiments.",
                "Exploiting parallelism - In order to exploit more computational resources, it is necessary to increase the degree of parallelism.",
                "In this experiment, the degree of parallelism was not so large in the case of the sample molecules.",
                "When using a set of over 500 computing nodes for 1BL1, the number of one trial structures assigned to each worker will be only one or two.",
                "If over 100 trial structures are assigned to each worker program, calculation can be performed more efficiently due to the reduction of the overhead for worker invocation and initialization via the facility of the OmniRPC AIM.",
                "One idea for increasing parallelism is to overlap the execution of two or more sets of trial structures.",
                "In the current algorithm, a set of trial structures is generated from one initial structure and computed until optimizations for all structures in this set are calculated.",
                "Furthermore, this will help to improve load imbalance.",
                "By having other sets of trial structures overlap, even if some optimizations require a long time, the optimization for the structures in other sets can be executed to compensate for the idle workers for other optimizations.",
                "It is however unclear how such modification of the algorithm might affect the quality of the final results in terms of a conformation search.",
                "Improvement in load imbalance when optimizing each trial structure - Table 8 lists the statistics for optimization times of trial structures generated for each sample molecule measured using 28 workers in the Dennis cluster.",
                "When two or more sets of PC clusters are used, the speedup in performance is hampered by the load imbalance of the optimization of the trial structures.",
                "The longest time for optimizing a trial structure was nearly 24 times longer than the shortest time.",
                "Furthermore, other workers must wait until the longest job has Finished, so that the entire execution time cannot be reduced.",
                "When CONFLEX-G searched the conformers of 1BL1 by the Dennis cluster, the longest calculation time of the trial structure optimization made up approximately 80% of the elapsed time.",
                "Therefore, there are two possible solutions for the load Imbalance. • It is necessary to refine the algorithm used to generate the trial structure, which suppresses the time variation for optimizing a trial structure in CONFLEX.",
                "This enables CONFLEX-G to achieve high-throughput by using many computer resources. • One of the solutions is to overlap the executions for two or more sets of trial structures.",
                "In the current algorithms, a set of trial structures is generated from one initial structure and calculation continues until all structures in this set are calculated.",
                "By having other sets of trial structures, even if a structure search takes a long time, a job can be executed in order to compensate the load imbalance by other jobs.",
                "However, how such modification of the algorithms might affect the efficiency is not clear. • In this experiment, we used a simple build-in roundrobbin scheduler of OmniRPC, which is necessary in order to apply the scheduler that allocates structures with long optimization times to a high-performance Table 8: Statistics of elapsed time of trial structure optimization using 28 workers in the Dennis cluster.",
                "Molecular Min Max Average Variance code (s) (s) (s) AlaX04 2.0 11.3 5.3 3 AlaX16 47.6 920.0 154.2 5404 1L2Y 114.2 13331.4 803.2 636782 1BL1 121.0 29641.8 3153.5 2734811 node and structures with short optimization times to low-performance nodes.",
                "In general, however, it might be difficult to predict the time required for trial structure optimization.",
                "Parallelization of the worker program for speedup to optimize a trial structure - In the current implementation, we do not parallelize the worker program.",
                "In order to speed up trial structures, hybrid programming using OmniRPC and OpenMP in an SMP (Symmetric Multiple Processor) machine may be one of the alternative methods by which to improve overall performance. 5.",
                "RELATED WORK Recently, an algorithm has been developed that solves the problems of parallelization and communication in poorly connected processors to be used for simulation.",
                "The Folding@home project[13] simulates timescales thousands to millions of times longer than previously achieved.",
                "This has allowed us to simulate folding for the first time and to directly examine folding related diseases.",
                "SETI@home[14] is a program to search for alien life by analyzing radio telescope signals using Fourier transform radio telescope data from telescopes from different sites.",
                "SETI@home tackles immensely parallel problems, in which calculation can easily be divided among several computers.",
                "Radio telescope data chunks can easily be assigned to different computers.",
                "Most of these efforts explicitly develop a docking application as a parallel application using a special purpose parallel programming language and middleware, such as MPI, which requires development skills and effort.",
                "However, the skills and effort required to develop a grid application may not be required for OmniRPC.",
                "Nimrod/G[15] is a tool for distributed parametric modeling and implements a parallel task farm for simulations that require several varying input parameters.",
                "Nimrod incorporates a distributed scheduling component that can manage the scheduling of individual experiments to idle computers in a local area network.",
                "Nimrod has been applied to applications including bio-informatics, operations research, and molecular modeling for drug design.",
                "NetSolve[8] is an RPC facility similar to OmniRPC and Ninf, providing a similar programming interface and automatic load balancing mechanism.",
                "Ninf-G[7] is a grid-enabled implementation of Ninf and provides a GridRPC[10] system that uses LDAP to manage the database of remote executables, but does not support clusters involving private IP addresses or addresses inside a firewall.",
                "Matsuoka et al. [16] has also discussed several design issues related to grid RPC systems. 162 6.",
                "CONCLUSIONS AND FUTURE WORK We have designed and implemented CONFLEX-G using OmniRPC.",
                "We reported its performance in a grid testbed of several geographically distributed PC clusters.",
                "In order to explore the conformation of large bio-molecules, CONFLEXG was used to generate trial structures of the molecules, and allocate jobs to optimize them by molecular mechanics in the grid.",
                "OmniRPC provides a restricted persistence model so that the module is automatically initialized at invocation by calling the initialization procedure.",
                "This can eliminate unnecessary communication and the initialization at each call in CONFLEX-G. CONFLEX-G can achieves performance comparable to CONFLEX MPI and exploits more computing resources by allowing the use of multiple PC clusters in the grid.",
                "The experimental result shows that CONFLEX-G achieved a speedup of 56.5 times for the 1BL1 molecule, where the molecule consists of a large number of atoms and each trial structure optimization requires a great deal of time.",
                "The load imbalance of the trial structure optimizations may cause performance degradation.",
                "We need to refine the algorithm used to generate the trial structure in order to improve the load balance optimization for trial structures in CONFLEX.",
                "Future studies will include development of deployment tools and an examination of fault tolerance.",
                "In the current OmniRPC, the registration of an execution program to remote hosts and deployments of worker programs are manually set.",
                "Deployment tools will be required as the number of remote hosts is increased.",
                "In grid environments in which the environment changes dynamically, it is also necessary to support fault tolerance.",
                "This feature is especially important in large-scale applications which require lengthy calculation in a grid environment.",
                "We plan to refine the conformational optimization algorithm in CONFLEX to explore the conformation space search of larger bio-molecules such HIV protease using up to 1000 workers in a grid environment. 7.",
                "ACKNOWLEDGMENTS This research was supported in part by a Grant-in-Aid from the Ministry of Education, Culture, Sports, Science and Technology in Japan, No. 14019011, 2002, and as part of the Program of Research and Development for Applying Advanced Computational Science and Technology by the Japan Science and Technology Corporation (Research on the grid computing platform for drug design).",
                "We would like to thank grid technology research center, AIST, Japan for providing computing resources for our experiment. 8.",
                "REFERENCES [1] H. Goto and E. Osawa.",
                "An efficient algorithm for searching low-energy conformers of cyclic and acyclic molecules.",
                "J. Chem.",
                "Soc., Perkin Trans, 2:187-198, 1993. [2] M. Sato, T. Boku, and D. Takahashi.",
                "OmniRPC: a Grid RPC System for Parallel Programming in Cluster and Grid Environment.",
                "In Proc. of CCGrid2003, pages 219-229, 2003. [3] M. Sato, M. Hirano, Y. Tanaka, and S. Sekiguchi.",
                "OmniRPC: a Grid RPC facility for Cluster and Global Computing in OpenMP.",
                "In Proc. of Workshop on OpenMP Applications and Tools 2001(LNCS 2104 ), pages 130-135, 2001. [4] OmniRPC Project. http://www.omni.hpcc.jp/omnirpc/. [5] M. Sato, H. Nakada, S. Sekiguchi, S. Matsuoka, U. Nagashima, and H. Takagi.",
                "Ninf: A Network Based Information Library for Global World-Wide Computing Infrastructure.",
                "In HPCN Europe, pages 491-502, 1997. [6] Ninf Project. http://ninf.apgrid.org/. [7] Y. Tanaka, H. Nakada, S. Sekiguchi, T. Suzumura, and S. Matsuoka.",
                "Ninf-G: A Reference Implementation of RPC-based Programming Middleware for Grid Computing .",
                "Journal of Grid Computing, 1(1):41-51, 2003. [8] D. Arnold, S. Agrawal, S. Blackford, J. Dongarra, M. Miller, K. Seymour, K. Sagi, Z. Shi, and S. Vadhiyar.",
                "Users Guide to NetSolve V1.4.1.",
                "Innovative Computing Dept.",
                "Technical Report ICL-UT-02-05, University of Tennessee, Knoxville, TN, June 2002. [9] Object management group. http://www.omg.org/. [10] K. Seymour, H. Nakada, S. Matsuoka, J. Dongarra, C. Lee, and H. Casanova.",
                "GridRPC: A Remote Procedure Call API for Grid Computing. [11] H.Goto, T. Takahashi, Y. Takata, K. Ohta, and U Nagashima.",
                "Conflex: Conformational behaviors of polypeptides as predicted by a conformational space search.",
                "In Nanotech2003, volume 1, pages 32-35, 2003. [12] I.",
                "Foster and C. Kesselman.",
                "Globus: A metacomputing infrastructure toolkit.",
                "The International Journal of Supercomputer Applications and High Performanc e Computing, 11(2):115-128, Summer 1997. [13] Stefan M. Larson, Christopher D. Snow, Michael Shirts, and Vijay S. Pande.",
                "Folding@home and genome@home: Using distributed computing to tackle prev iously intractable problems in computational biology.",
                "Computational Genomics, 2002. [14] seti@home project. http://setiathome.ssl.berkeley.edu/. [15] R. Buyya, K. Branson, J. Giddy, and D. Abramson.",
                "The virtual laboratory: a toolset to enable distributed molecular modelling for drug design on the world-wide grid.",
                "Concurrency and Computation: Practice and Experience, 15(1):1-25, January 2003. [16] S. Matsuoka, H. Nakada, M. Sato, and S. Sekiguchi.",
                "Design issues of Network Enabled Server Systems for the Grid.",
                "In Proc. of GRID 2000 (LNCS 1971), pages 4-17, 2000. 163"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        }
    }
}