{
    "id": "J-4",
    "original_text": "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo! Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines. Advertisers bid for placement alongside search results, and are charged for clicks on their ads. Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates. We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases. We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates. We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience. We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword. Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1. INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages. For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results. The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page. Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users. Thus, all else being equal, advertisers prefer higher positions to lower positions. Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page. By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked. Overture Services, formerly GoTo.com and now owned by Yahoo! Inc., is credited with pioneering sponsored search advertising. Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today. Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace. Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years. The search engine evaluates the advertisers bids and allocates the positions on the page accordingly. Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen. Clicks relate only stochastically to impressions. Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression. In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page. We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases. We consider rank1 These are industry terms. We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid. Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule. Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11]. We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions. The key parameter is the correlation between advertiser value and click-through rate. If this correlation is strongly positive, then smaller q are revenue-optimal. Our simulations are based on distributions fitted to data from Yahoo! keyword auctions. We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints. We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant. In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3. In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly. In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting. We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant. In Section 6 we consider the effect of q on advertiser satisfaction and user experience. In Section 7 we describe our simulations and interpret their results. Related work. As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study. Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties. They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively. Varian also provides some empirical analysis. The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1]. That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium. Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium. We make use of this connection when formulating the optimal auction design problem in our setting. The work most closely related to ours is that of Feng, Bhargava, and Pennock [4]. They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms. For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings. According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations. Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative. In this work we make a deeper study of this conjecture. 2. MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1]. We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed. Bidder s has value vs for each click. Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p). A weight ws is associated with agent s, and agents bid for position. If agent s bids bs, his corresponding score is wsbs. Agents are ranked by score, so that the agent with highest score is ranked first, and so on. We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1. The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3. EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game. This is a full-information concept. The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions. As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11]. Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively. It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2]. Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium. In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions. Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium. Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders. It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs. To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs. The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2. In this work we assume that bidders are playing the smallest symmetric equilibrium. This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium. Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4). The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis. Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5). With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction. Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully). In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4. BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free. Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « . If we define ws = ws cs and bs = csbs, we recover inequality (3). Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs. This technique allows one to use credits instead of explicit changes in the weights to affect revenue. For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5. REVENUE We are interested in setting the weights w to achieve optimal expected revenue. The setup is as follows. The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es). We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs). We assume the density is continuous and has full support on [0, 1]×[0, ∞). The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized. The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information). Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise. Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy. The derivation then continues just as in the case of a singleitem auction [7, 9]. We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids. It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) . According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score). However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es). We remark that the virtual score cannot be reproduced exactly via a weighting scheme. Lemma 1. There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof. Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.) This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 . Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v. Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction. Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.) Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞). It should be much simpler to find the optimum within this family, since it is just one-dimensional. Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases. To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue. Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement. Now suppose there is perfect positive correlation between value and relevance. In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance. It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue. Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located. Simulations can also be used to quantify the effect of correlation on the location of the optimum. We do this in Section 7. 6. EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞). However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q. The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate. Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience. Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps. As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined. Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits. We therefore adopt efficiency as a measure of advertiser satisfaction. We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance. We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance. Proposition 1. Total relevance is non-decreasing in q. Proof. Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs. Let > 0. Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110). Assume that is large enough to make the rankings distinct. Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0. At some point in the sort, agent s occupies some slot α, β such that vs = αes + β. So the assumption of full support is violated, which is necessary for revenue equivalence. Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1. After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q. Proposition 2. Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1. Proof. Let q ≥ 1 and let > 0. Perform an exchange sort to obtain the second ranking from the first as in the previous proof. If agents s and t are swapped, where s was initially ranked lower than t, then es > et. This follows by the same reasoning as in the previous proof. Now e1−q s ≤ e1−q t as 1 − q ≤ 0. This together with eq svs ≤ eq t vt implies that esvs ≤ etvt. Hence after swapping agents s and t, total value has not increased. The case for q ≤ 1 is similar. Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation. Proposition 2 confirms that efficiency is indeed maximized at q = 1. These results motivate the following approach. Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases. To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline. By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q. By Proposition 1, a lower bound on relevance will yield another lower bound on q. The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7. SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.) We obtained click and impression data for the advertisers bidding on the keyword. From this we estimated advertiser and position effects using a maximum-likelihood criterion. We found that, indeed, position effects are monotonically decreasing with lower rank. We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43. We obtained bids of advertisers for the keyword. Using Varians [11] technique, we derived bounds on the bidders actual values given these bids. By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3). If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program. We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71. The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1. It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity. We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders. The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5. The choice is very sensitive to the level of correlation. If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation. At zero correlation, they give about the same expected revenue in this instance. Figure 2 also shows that in principle, the optimal q may be negative. It may also occur beyond 1 for different distributions, but we do not know if these would be realistic. The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.) The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞. A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55]. Simulation results with this correlation are in Figure 3. In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue. However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively. Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals. It can be designed so that the variables are correlated. See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data. Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right). Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4. Estimated standard errors are less than 1% of the values shown. We also looked into the effect of introducing a reserve score. Results are shown in Figure 4. Naturally, both efficiency and relevance suffer with an increasing reserve score. The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0. However, it results in a 13% efficiency loss and a 26% relevance loss. Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance. The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights. The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8. CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases. In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects. We also showed that, in principle, the same effect could be obtained by using bidding credits. Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue. In the simulations, the revenue improvements were greater than what could be obtained using reserve prices. On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small. We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q. With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum. There are several ways to push this research further. It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation. If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue. It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders. In this instance reserve pricing should be more competitive, but this is still an open question. In principle the minimum revenue in Nash equilibrium can be found by linear programming. However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these. There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible. If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept. Larger classes of ranking rules could be relevant. For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well. With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values. It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1. Estimates are averaged over 1000 samples. Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo! Research and Yahoo! Search Marketing. 9. REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani. Truthful auctions for pricing search keywords. In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek. Equilibrium bids in auctions of sponsored links: Theory and evidence. Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz. Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords. American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock. Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms. INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar. Characterizing optimal keyword auctions. In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth. The Art of Computer Programming, volume 3. Addison-Wesley, 1997. [7] V. Krishna. Auction Theory. Academic Press, 2002. [8] S. Lahaie. An analysis of alternative slot auction designs for sponsored search. In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson. Optimal auction design. Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen. An Introduction to Copulas. Springer, 2006. [11] H. R. Varian. Position auctions. International Journal of Industrial Organization, forthcoming. 56",
    "original_translation": "Análisis de ingresos de una familia de reglas de clasificación para subastas de palabras clave s´ebastien lahaie ∗ Escuela de ingeniería y ciencias aplicadas Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo! Research New York, NY 10011 pennockd@yahoo-inc.com Las subastas de palabras clave abstractas se encuentran en el núcleo de los modelos de negocios de los motores de búsqueda líderes de hoy. Los anunciantes ofertan por la colocación junto con los resultados de búsqueda, y se les cobra por los clics en sus anuncios. Los anunciantes generalmente se clasifican de acuerdo con un puntaje que tiene en cuenta sus ofertas y posibles tasas de clics. Consideramos una familia de reglas de clasificación que contiene las que generalmente se usan para modelar Yahoo!y diseños de subastas de Google como casos especiales. Encontramos que, en general, ninguno de estos es necesariamente óptimo de equilibrio de los ingresos, y que la elección de la regla de clasificación puede guiarse considerando la correlación entre los valores de los licitantes y las tasas de clics. Proponemos un enfoque simple para determinar una regla de clasificación óptima de ingresos dentro de nuestra familia, teniendo en cuenta los efectos sobre la satisfacción del anunciante y la experiencia del usuario. Ilustramos el enfoque utilizando simulaciones de Monte-Carlo basadas en distribuciones instaladas en Yahoo!Datos de tasa de oferta y clic para una palabra clave de alto volumen. Categorías y descriptores de asignaturas J.4 [Aplicaciones informáticas]: Ciencias sociales y conductuales-economía Términos generales Economía, Teoría 1. Introducción Los principales motores de búsqueda como Google, Yahoo!, Y MSN venden anuncios subastando el espacio en las páginas de resultados de búsqueda de palabras clave. Por ejemplo, cuando un usuario busca en la web para iPod, los anunciantes más altos de pago (por ejemplo, Apple o Best Buy) para esa palabra clave pueden aparecer en una sección patrocinada separada de la página anterior o a la derecha de los resultados algorítmicos. Los resultados patrocinados se muestran en un formato similar a los resultados algorítmicos: como una lista de elementos, cada uno que contiene un título, una descripción de texto y un hipervínculo en una página web. En general, los anuncios que aparecen en una posición más alta en la página atraen más atención y más clics de los usuarios. Por lo tanto, todo lo demás es igual, los anunciantes prefieren posiciones más altas a posiciones más bajas. Los anunciantes ofertan para la ubicación en la página en un formato de estilo de subastas donde cuanto mayor sea su oferta, es más probable que aparezca su listado por encima de otros anuncios en la página. Por convención, los anunciantes de búsqueda patrocinados generalmente ofertan y pagan por clic, lo que significa que solo pagan cuando un usuario hace clic en su anuncio, y no pagan si su anuncio se muestra pero no se hace clic. Servicios de Obertura, anteriormente GOTO.com y ahora propiedad de Yahoo! Inc., se le atribuye la publicidad de búsqueda patrocinada por pioneros. El éxito de las oberturas llevó a una serie de empresas a adoptar modelos comerciales similares, más prominentemente Google, el motor de búsqueda web líder en la actualidad. Microsofts MSN, anteriormente un afiliado de Obertura, ahora opera su propio mercado de subastas de palabras clave. La búsqueda patrocinada es una de las formas de publicidad de más rápido crecimiento, más efectivas y más rentables, generando aproximadamente $ 7 mil millones en ingresos en 2005 después de casi duplicar cada año durante los cinco años anteriores. El motor de búsqueda evalúa las ofertas de los anunciantes y asigna las posiciones en la página en consecuencia. Observe que, aunque las ofertas se expresan como pagos por clic, el motor de búsqueda no puede asignar directamente los clics, sino que asigna impresiones o ubicaciones en la pantalla. Los clics se relacionan solo estocásticamente con las impresiones. Hasta hace poco, Yahoo!Los postores clasificados en el orden decreciente de los anunciantes establecieron valores por clic, mientras que Google se ubica en el orden decreciente de los anunciantes establecidos por la impresión. En el caso de Googles, el valor por impresión se calcula multiplicando la oferta de anunciantes (porClak) por la tasa de clics esperadas de anuncios, donde esta expectativa puede considerar una serie de factores no especificados que incluyen la tarifa histórica de clics, posición en la página, identidad del anunciante., identidad del usuario y el contexto de otros elementos en la página. Nos referimos a estas reglas como rango por día y rango por ingresos, respectivamente.1 Analizamos una familia de reglas de clasificación que contiene el Yahoo!y los modelos de Google como casos especiales. Consideramos que Rank1 estos son términos de la industria. Sin embargo, veremos que RankBy-Provenue no es necesariamente óptimo de los ingresos.50 reglas en las que los postores se clasifican en el orden decreciente de puntaje EQ B, donde E denota una tasa de clics de los anunciantes (normalizado para la posición) y b su oferta. Observe que Q = 0 corresponde a la regla de rango de cajón de Yahoo! Y Q = 1 corresponde a la regla de rango de ingresos de Google. Nuestra premisa es que los postores están jugando un equilibrio simétrico, según lo definido por Edelman, Ostrovsky y Schwarz [3] y Varian [11]. Mostramos a través de la simulación que aunque Q = 1 produce la asignación eficiente, la configuración de Q considerablemente menos de 1 puede generar ingresos superiores en equilibrio bajo ciertas condiciones. El parámetro clave es la correlación entre el valor del anunciante y la tasa de clics. Si esta correlación es fuertemente positiva, entonces Q más pequeña son óptimas de ingresos. Nuestras simulaciones se basan en distribuciones instaladas en datos de Yahoo!Subastas de palabras clave. Proponemos que los motores de búsqueda establezcan umbrales de pérdida aceptable en la satisfacción del anunciante y la experiencia del usuario, luego elija la Q óptima de ingresos consistente con estas restricciones. También comparamos las ganancias potenciales al ajustar Q con las ganancias de establecer precios de reserva, y descubrimos que el primero puede ser mucho más significativo. En la Sección 2 damos un modelo formal de subastas de palabras clave y establecemos sus propiedades de equilibrio en la Sección 3. En la Sección 4 notamos que dar créditos de licitación de los agentes puede tener el mismo efecto que ajustar la regla de clasificación explícitamente. En la Sección 5 damos una formulación general del problema de diseño de subasta de palabras clave óptimas como un problema de optimización, de manera análoga a la configuración de subasta de un solo elemento. Luego proporcionamos información teórica sobre cómo la sintonización Q puede mejorar los ingresos, y por qué la correlación entre los valores de los postores y las tasas de clics es relevante. En la Sección 6 consideramos el efecto de Q en la satisfacción del anunciante y la experiencia del usuario. En la Sección 7 describimos nuestras simulaciones e interpretamos sus resultados. Trabajo relacionado. Como se mencionó los documentos de Edelman et al.[3] y Varian [11] ponen las bases para nuestro estudio. Ambos documentos definen independientemente un refinamiento atractivo del equilibrio de Nash para las subastas de palabras clave y analizan sus propiedades de equilibrio. Llamaron a este refinamiento de equilibrio sin envidia y equilibrio simétrico, respectivamente. Varian también proporciona algún análisis empírico. El modelo general de subastas de palabras clave utilizadas aquí, donde los postores se clasifican de acuerdo con un peso de su oferta, fue introducido por Aggarwal, Goel y Motwani [1]. Ese documento también establece una conexión entre los ingresos de las subastas de palabras clave en la configuración de información incompleta con los ingresos en equilibrio simétrico. Iyengar y Kumar [5] estudian el problema óptimo de diseño de subastas de palabras clave en una configuración de información incompleta, y también hacen la conexión con el equilibrio simétrico. Hacemos uso de esta conexión al formular el problema de diseño de subasta óptimo en nuestra configuración. El trabajo más relacionado con el nuestro es el de Feng, Bhargava y Pennock [4]. Fueron los primeros en darse cuenta de que la correlación entre los valores del postor y las tasas de clics debería ser un parámetro clave que afecte el rendimiento de los ingresos de varios mecanismos de clasificación. Por simplicidad, asumen que los licitadores ofrecen sus verdaderos valores, por lo que su modelo es muy diferente al nuestro y, en consecuencia, también lo son sus hallazgos. Según sus simulaciones, el rango por ingresos siempre (débilmente) domina el rango por trasero en términos de ingresos, mientras que nuestros resultados sugieren que el rango por trasero puede hacerlo mucho mejor para las correlaciones negativas. Lahaie [8] ofrece un ejemplo que sugiere que el rango por trasero debería producir más ingresos cuando los valores y las tasas de clics se correlacionan positivamente, mientras que el rango por ingresos debería mejorar cuando la correlación es negativa. En este trabajo hacemos un estudio más profundo de esta conjetura.2. Modelo Hay K posiciones para asignarse entre n postores, donde n> k. suponemos que la tasa de clic (esperada) de los postor s en la posición t es de la forma esxt, es decir, separable en un efecto anunciante es ∈ [0, 1] y efecto de posición xt ∈ [0, 1]. Asumimos que x1> x2>...> xk> 0 y dejar xt = 0 para t> k. También nos referimos a ES como la relevancia del postor s.Es útil interpretar XT como la probabilidad de que se note un anuncio en la posición T, y es la probabilidad de que se haga clic si se indica. El postor s tiene valor vs para cada clic. Los postores tienen utilidad cuasilínea, de modo que la utilidad para los postres de obtener la posición T a un precio de P por clic es ESXT (VS - P). Un peso WS está asociado con los agentes, y los agentes ofertan por su posición. Si el agente s ofrece BS, su puntaje correspondiente es WSBS. Los agentes se clasifican por puntaje, de modo que el agente con puntaje más alto se clasifica primero, y así sucesivamente. Suponemos a lo largo de que los agentes están numerados de tal manera que el agente obtiene la posición s.Un agente paga por clic la oferta más baja necesaria para retener su posición, de modo que el agente en las ranuras paga WS+1 WS BS+1. El subastador puede introducir un puntaje de reserva de R, de modo que un anuncio de agentes aparece solo si su puntaje es al menos R.Para el agente S, esto se traduce en un precio de reserva (oferta mínima) de R/WS.3. Equilibrio Consideramos los equilibrios NASH de estrategia pura del juego de subastas. Este es un concepto de información completa. La motivación para esta elección es que en una subasta de palabras clave, los postores pueden ajustar continuamente sus ofertas con el tiempo y, por lo tanto, obtener estimaciones de sus ganancias en varias posiciones. Como resultado, es razonable suponer que si las ofertas se estabilizan, los licitadores deberían jugar las mejores respuestas para las ofertas de las demás [2, 3, 11]. Formalmente, en un equilibrio de Nash de este juego, las siguientes desigualdades se mantienen.esxs „vs - ws+1 ws bs+1« ≥ esxt „vs - wt+1 ws bt+1« ∀t> s (1) esxs „vs - ws+1 ws bs+1« ≥ esxt „vs - wtWS BT «∀T <S (2) desigualdades (1) y (2) establecen que los postres no prefieren una posición más baja o superior a la suya, respectivamente. Puede ser difícil derivar cualquier visión teórica de las propiedades de estas asignaciones de equilibrios NASH-Multípulos de las posiciones a los licitadores puede surgir potencialmente en equilibrio [2]. Edelman, Ostrovsky y Schwarz [3] introdujeron un refinamiento del equilibrio NASH llamado equilibrio libre de envidia que es más manejable para analizar;Varian [11] propuso independientemente este concepto de solución y lo llamó equilibrio simétrico. En un equilibrio simétrico, la desigualdad (1) se mantiene para todos S, T en lugar de solo para t> s.Entonces, para todos los sy todos t = s, tenemos ESXS „vs - ws+1 ws bs+1« ≥ esxt „vs - wt+1 ws bt+1«, 51 o equivalentemente xs (wsvs - ws+1bs+1) ≥ Xt (WSVS - WT+1BT+1).(3) Edelman et al.[3] Tenga en cuenta que este equilibrio surge si los agentes están aumentando sus ofertas para aumentar los pagos de los que están por encima de ellas, una práctica que se cree que es común en las subastas de palabras clave reales. Varian [11] proporciona alguna evidencia empírica de que los datos de BID de Google estén bien con la hipótesis de que los postores están jugando un equilibrio simétrico. Varian realiza un análisis exhaustivo de las propiedades del equilibrio simétrico, suponiendo WS = ES = 1 para todos los licitadores. Es sencillo adaptar su análisis al caso donde los postores se les asigna pesos arbitrarios y tienen tasas de clics separables.2 Como resultado, encontramos que en el equilibrio simétrico, los postores se clasifican en orden de disminución de los WSV. Para ser claros, aunque el subastador solo tiene acceso a las ofertas BS y no a los valores vs, en equilibrio simétrico, las ofertas son tales que la clasificación según WSB es equivalente a la clasificación de acuerdo con WSVS. El perfil de oferta más pequeño posible que puede surgir en el equilibrio simétrico viene dado por la recursión XSWS+1BS+1 = (xs - xs+1) WS+1VS+1+XS+1WS+2BS+2. En este trabajo asumimos que los postores están jugando el equilibrio simétrico más pequeño. Esta es una selección apropiada para nuestros propósitos: al optimizar los ingresos en este equilibrio, estamos optimizando un límite más bajo en los ingresos en cualquier equilibrio simétrico. Desenraviar la recursión produce XSWS+1BS+1 = KX T = S (XT - XT+1) WT+1VT+1.(4) Agente SS El pago total esperado es ES/WS veces la cantidad en el lado izquierdo de (4). El caso base de la recursión ocurre para S = K, donde encontramos que el primer postor excluido ofrece su verdadero valor, como en el análisis original. Multiplicar cada una de las desigualdades (4) por los ES/WS correspondientes para obtener pagos totales, y sumando sobre todas las posiciones, obtenemos un ingreso de equilibrio total de KX S = 1 KX T = S WT+1 WS (XT - XT+1) VT+1.(5) Para resumir, los ingresos mínimos posibles en el equilibrio simétrico se pueden calcular de la siguiente manera, dados los pares de valor-valor de los agentes (ES, VS): primero clasifique los agentes en el orden decreciente de los WSV y luego evalúe (5). Con un puntaje de reserva de R, se deduce de la desigualdad (3) que ningún postor con WSVS <R querría participar en la subasta. Sea que K (r) sea el número de licitadores con WSV ≥ R, y suponga que es como máximo K. Podemos imponer un puntaje de reserva de R introduciendo un postor con valor R y peso 1, y convirtiéndolo en el primer postor excluido ((quien en el equilibrio simétrico ofrece sinceramente). En este caso, la recursión produce XSWS+1BS+1 = K (R) −1 x T = S (XT - XT+1) WT+1VT+1+XK (R) R y la fórmula de ingresos se adapta de manera similar.2 Si redefinimos los WSV como VS y WSB para ser BS, recuperamos la configuración de los varianos y su análisis original no cambia.4. Los créditos de licitación Una forma indirecta de influir en la asignación es introducir créditos de licitación.3 Suponga que los licitadores solo se requieren para pagar una fracción CS ∈ [0, 1] del precio que enfrenta, o de manera equivalente una fracción (1 - C) de suSe reciben clics gratis. Luego, en un equilibrio simétrico, tenemos esxs „vs - ws+1 ws csbs+1« ≥ esxt „vs - wt+1 ws csbt+1« o equivalentemente xs „ws cs vs - ws+1bs+1« ≥ X „„WS CS VS - WT+1BT+1 «. Si definimos WS = WS CS y BS = CSBS, recuperamos la desigualdad (3). Por lo tanto, el ingreso de equilibrio será como si hubiéramos usado pesos w en lugar de w.Las ofertas serán versiones escaladas de las ofertas que surgen con los pesos w (y sin créditos), donde cada oferta se escala por el factor 1/cs correspondiente. Esta técnica permite usar créditos en lugar de cambios explícitos en los pesos para afectar los ingresos. Por ejemplo, RankBy-Provends generará los mismos ingresos que Rank-bid-Bid si establecemos créditos en CS = es.5. Ingresos Estamos interesados en establecer los pesos W para lograr los ingresos esperados óptimos. La configuración es la siguiente. El subastador elige una función G para que el esquema de ponderación sea WS ≡ G (ES). No consideramos pesos que también dependan de las ofertas de los agentes porque esto invalidaría el análisis de equilibrio de la sección anterior.4 Un conjunto de n licitadores es obtenido por I.I.D.Dibujos de pares de valor de valor de una densidad de probabilidad común F (ES, VS). Suponemos que la densidad es continua y tiene soporte completo en [0, 1] × [0, ∞). Los ingresos del subastador son los ingresos generados en equilibrio simétrico bajo el esquema de ponderación w.Esto supone que el subastador es lo suficientemente paciente como para no preocuparse por los ingresos hasta que las ofertas se hayan estabilizado. El problema de encontrar un esquema de ponderación óptimo puede formularse como un problema de optimización muy similar al derivado de Myerson [9] para el caso de subasta de un solo elemento (con información incompleta). Sea QSK (E, V; W) = 1 si el agente S obtiene la ranura K en equilibrio bajo el esquema de ponderación W, donde e = (e1, ..., en) y v = (v1, .., vn), yQue sea 0 de lo contrario. Tenga en cuenta que el pago total de los agentes en equilibrio es ESXS WS+1 WS BS+1 = KX T = S ES (XT - XT+1) WT+1 WS VT+1 = ESXSVS - Z VS 0 KX K = 1 ESXKQSK(ES, E - S, Y, V - S; W) Dy. La derivación continúa tal como en el caso de una subasta de Singleitem [7, 9]. Tomamos la expectativa de este pago, 3 Hal Varian nos sugirió que los créditos de licitación podrían usarse para afectar los ingresos en las subastas de palabras clave, lo que nos llevó a analizar esta conexión.4 El análisis no se generaliza a los pesos que dependen de las ofertas. No está claro si existiría un equilibrio con tales pesos.52 y suma sobre todos los agentes para obtener el objetivo z ∞ 0 z ∞ 0 nx s = 1 kx k = 1 esxkψ (es, vs) qsk (e, v; w) # f (e, v) dv de, donde ψes la valoración virtual ψ (es, vs) = vs - 1 - f (vs | es) f (vs | es). Según este análisis, debemos clasificar a los licitadores por puntaje virtual ESψ (ES, VS) para optimizar los ingresos (y excluir a los postores con puntaje virtual negativo). Sin embargo, a diferencia de la configuración de información incompleta, aquí estamos limitados a las reglas de clasificación que corresponden a un cierto esquema de ponderación WS ≡ G (ES). Observamos que la puntuación virtual no se puede reproducir exactamente a través de un esquema de ponderación. Lema 1. No hay un esquema de ponderación G de manera que la puntuación virtual sea igual a la puntuación, para cualquier densidad f.Prueba. Suponga que hay una g tal que eψ (e, v) = g (e) v.(El subíndice S se suprime para mayor claridad). Esto es equivalente a d dv log (1 - f (v | e)) = h (e)/v, (6) donde h (e) = (g (e)/e - 1) −1. Sea ¯v tal que f (¯v | e) <1;Bajo el supuesto de apoyo total, siempre hay tal ¯v. Integrando (6) con respecto a V de 0 a ¯v, encontramos que el lado izquierdo converge, mientras que el lado derecho diverge, una contradicción. Por supuesto, para clasificar a los licitadores por puntaje virtual, solo necesitamos G (ES) vs = H (Esψ (es, vs)) para alguna transformación monotónicamente aumentada h.(Una condición necesaria para esto es que ψ (ES, vs) aumentará en VS para todos los ES). En ausencia de esta condición de regularidad, el problema de optimización parece bastante difícil porque es muy general: necesitamos maximizar los ingresos esperados en el espacio de todas las funciones g.Para simplificar las cosas, ahora restringimos nuestra atención a la familia de pesos ws = eq s para q ∈ (−∞, +∞). Debería ser mucho más simple encontrar el óptimo dentro de esta familia, ya que es solo unidimensional. Tenga en cuenta que cubre el rango por trasero (q = 0) y el rango por veneno (q = 1) como casos especiales. Para ver cómo la sintonización Q puede mejorar las cosas, considere nuevamente el ingreso de equilibrio: r (q) = kx s = 1 kx t = s „et+1 es« q es (xt - xt+1) vt+1.(7) Si los postores se clasifican en un orden decreciente de relevancia, entonces et es ≤ 1 para t> s y disminuir Q ligeramente sin afectar la asignación aumentará los ingresos. Del mismo modo, si los postores se clasifican en un orden creciente de relevancia, aumentar ligeramente Q producirá una mejora. Ahora suponga que existe una correlación positiva perfecta entre el valor y la relevancia. En este caso, el rango por candidato siempre conducirá a la misma asignación que el rango por ingresos, y los postores siempre se clasificarán en un orden decreciente de relevancia. Luego se deduce de (7) que Q = 0 producirá más ingresos en equilibrio que Q = 1.5 5 puede parecer que esto contradice el teorema de equivalencia de ingresos [7, 9], porque los mecanismos que siempre conducen a la misma asignación en equilibriodebe producir los mismos ingresos. Sin embargo, tenga en cuenta que con una correlación perfecta, hay si hay una buena estimación de F disponible, se pueden usar simulaciones de Monte-Carlo para estimar la curva de ingresos en función de Q, y se puede ubicar lo óptimo. Las simulaciones también se pueden utilizar para cuantificar el efecto de la correlación en la ubicación del óptimo. Hacemos esto en la Sección 7. 6. Eficiencia y relevancia En principio, el parámetro óptimo de ingresos Q puede estar en cualquier lugar de (−∞, ∞). Sin embargo, ajustar la regla de clasificación también tiene consecuencias para la satisfacción del anunciante y la experiencia del usuario, y tenerlos en cuenta reduce el rango de q permitido. La relevancia total de la asignación de equilibrio es L (Q) = KX S = 1 ESXS, es decir, la tasa de clics agregado. Presumiblemente, los usuarios encuentran la pantalla de anuncios más interesante y menos molestia si están más inclinados a hacer clic en los anuncios, por lo que adoptamos la relevancia total como una medida de la experiencia del usuario. Deje que PS = WS+1 WS BS+1 sea el precio por clic enfrentado por el Licitante S.El valor total (eficiencia) generado por la subasta en el equilibrio es V (Q) = KX S = 1 ESXSVS = KX S = 1 ESXS (VS - PS) + KX S = 1 ESXSPS. Como vemos, el valor total puede reinterpretarse como ganancias totales para los postores y subastadores combinados. Dado que solo consideramos las desviaciones de la máxima eficiencia que aumentan las ganancias de los subastadores, cualquier disminución en la eficiencia en nuestro entorno corresponde a una disminución en las ganancias de los postor. Por lo tanto, adoptamos la eficiencia como una medida de satisfacción del anunciante. Esperamos que la relevancia total aumente con Q, ya que se otorga más peso sobre la relevancia individual de cada licitador. Esperamos que la eficiencia se maximice en Q = 1, ya que en este caso un peso de los postores es exactamente su relevancia. Proposición 1. La relevancia total no se da de alta en q. Prueba. Recuerde que en el equilibrio simétrico, los postores se clasifican en orden de disminución de los WSV. Let> 0. Realice un tipo de intercambio para obtener la clasificación que surge con Q + a partir de la clasificación que surge con Q (para una descripción de Exchange Sort y sus propiedades, vea Knuth [6] pp. 106110). Suponga que es lo suficientemente grande como para hacer que las clasificaciones sean distintas. Los agentes S y T, donde S se clasifica inicialmente más bajo que T, se intercambian en el proceso si y solo si las siguientes condiciones se mantienen: Eq SVS ≤ Eq T Vt Eq+ S vs> Eq+ T Vt que implican que ES> et y, por lo tanto,es> et as> 0. En algún momento del tipo, el agente S ocupa algunas ranuras α, β de tal manera que VS = αes + β. Por lo tanto, se viola la suposición de apoyo total, que es necesario para la equivalencia de ingresos. Recuerde que una densidad tiene soporte total sobre un dominio dado si cada punto en el dominio tiene una densidad positiva.53 k mientras que el agente t ocupa la ranura K - 1. Después del intercambio, la relevancia total habrá cambiado por la cantidad ESXK - 1 + ETXK - ETXK - 1 - ESXK = (ES - ET) (XK - 1 - XK)> A medida que la relevancia aumenta estrictamente con cada swap en el tipo, total, total total, totalLa relevancia es estrictamente mayor cuando se usa Q + en lugar de Q. Proposición 2. El valor total no se da de alta en Q para Q ≤ 1 y no aumenta en Q para Q ≥ 1. Prueba. Deje Q ≥ 1 y deje> 0. Realice un tipo de intercambio para obtener la segunda clasificación del primero como en la prueba anterior. Si los agentes S y T se intercambian, donde S se clasificó inicialmente más bajo que T, entonces es> et. Esto sigue por el mismo razonamiento que en la prueba anterior. Ahora E1 - Q S ≤ E1 - Q T como 1 - Q ≤ 0. Esto junto con EQ SVS ≤ Eq t Vt implica que los ESV ≤ etvt. Por lo tanto, después de intercambiar agentes S y T, el valor total no ha aumentado. El caso de Q ≤ 1 es similar. Dado que las tendencias descritas en las proposiciones 1 y 2 mantienen a punto (es decir, para cualquier conjunto de postores), también mantienen expectativas. La Proposición 2 confirma que la eficiencia se maximiza en Q = 1. Estos resultados motivan el siguiente enfoque. Aunque Tuning Q puede optimizar los ingresos actuales, esto puede tener el precio de los ingresos futuros porque los anunciantes y los usuarios pueden perderse, ya que su satisfacción disminuye. Para garantizar que los ingresos futuros no se lastimen demasiado, el subastador puede imponer límites a la pérdida porcentual de eficiencia y relevancia que está dispuesto a tolerar, con Q = 1 como una línea de base natural. Por la Propuesta 2, un límite inferior en la eficiencia producirá límites superiores e inferiores en el espacio de búsqueda para q. Por la Propuesta 1, un límite inferior en relevancia producirá otro límite inferior en q. La curva de ingresos se puede trazar dentro del rango permitido de Q para encontrar la configuración óptima de los ingresos.7. Simulaciones Para agregar una medida de la realidad a nuestras simulaciones, ajustamos las distribuciones por valor y relevancia para Yahoo!Los datos de tasa de oferta y clic para una determinada palabra clave que extrae más de un millón de búsquedas por mes.(No revelamos la identidad de la palabra clave para respetar la privacidad de los anunciantes). Obtuvimos datos de clic e impresión para los anunciantes que ofertan por la palabra clave. A partir de esto, estimamos los efectos del anunciante y de posición utilizando un criterio de máxima verosimilitud. Descubrimos que, de hecho, los efectos de posición están disminuyendo monotónicamente con un rango más bajo. Luego ajustamos una distribución beta a los efectos del anunciante que resulta en los parámetros A = 2.71 y B = 25.43. Obtuvimos ofertas de anunciantes para la palabra clave. Usando la técnica de varianos [11], derivamos límites en los valores reales de los licitadores dados estas ofertas. Mediante esta técnica, los límites superior e inferior se obtienen en los valores del postor dados las ofertas de acuerdo con la desigualdad (3). Si el intervalo para un valor dado está vacío, es decir, su límite superior se encuentra debajo de su límite inferior, entonces calculamos la perturbación más pequeña a las ofertas necesarias para que el intervalo no sea vacío, lo que implica resolver un programa cuadrático. Encontramos que la desviación absoluta media requerida para ajustar las ofertas al equilibrio simétrico fue 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Densidad de valor 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Figura de densidad de relevancia Figura de relevancia1: Distribuciones empíricas marginales de valor y relevancia.Siempre como máximo 0.08, y generalmente significativamente menos, en diferentes días en un período de dos semanas.6 Se ajustamos a una distribución lognormal a los límites inferiores en los valores de los licitadores, lo que resulta en parámetros μ = 0.35 y σ = 0.71. Las distribuciones empíricas de valor y relevancia junto con las curvas lognormales y beta ajustadas se dan en la Figura 1. Parece que las mezclas de distribuciones beta y lognormales pueden ser mejores ajustes, pero dado que estas distribuciones se usan principalmente para fines de ilustración, erramos por la simplicidad. Utilizamos una cópula gaussiana para crear dependencia entre el valor y la relevancia.7 Dadas las distribuciones marginales para el valor y la relevancia junto con esta cópula, simulamos el efecto de ingresos de Q variable de Q para diferentes niveles de correlación de Spearman, con 12 espacios y 13 postores. Los resultados se muestran en la Figura 2.8 es evidente a partir de la figura que la elección óptima de Q se mueve hacia la derecha a medida que disminuye la correlación;Esto está de acuerdo con nuestra intuición de la Sección 5. La elección es muy sensible al nivel de correlación. Si elegir solo entre RankBy-Bid y Rank-Por-Venue, Rank-by-Bid es mejor para la correlación positiva, mientras que el rango por ingresos es mejor para la correlación negativa. En la correlación cero, dan los mismos ingresos esperados en este caso. La Figura 2 también muestra que, en principio, la Q óptima puede ser negativa. También puede ocurrir más allá de 1 para diferentes distribuciones, pero no sabemos si estos serían realistas. Las tendencias en eficiencia y relevancia son las que se describen en los resultados de la Sección 6. (Cualquier pequeña desviación de estas tendencias se debe a la aleatoriedad inherente a las simulaciones). Las curvas se nivelan como Q → +∞ porque eventualmente los agentes se clasifican puramente de acuerdo con la relevancia, y de manera similar Q → −∞. Una correlación típica de Spearman entre el valor y la relevancia para la palabra clave fue de aproximadamente 0.4 de días diferentes en una semana, la correlación se extendió dentro de [0.36, 0.55]. Los resultados de la simulación con esta correlación están en la Figura 3. En este caso, el rango por candidato es de hecho óptimo, lo que produce un 25% más de ingresos que el rango por ingresos. Sin embargo, en Q = 0 la eficiencia y la relevancia son 9% y 17% más bajas que en Q = 1, respectivamente. Imaginando un límite de, por ejemplo, 5% en la pérdida de eficiencia y relevancia desde la línea de base en Q = 1, la configuración óptima es Q = 0.6, produciendo un 11% más de ingresos que la línea de base.6 Ver Varian [11] para una definición de desviación absoluta media.7 Una cópula es una función que toma distribuciones marginales y ofrece una distribución conjunta con estos marginales. Se puede diseñar para que las variables estén correlacionadas. Ver, por ejemplo, Nelsen [10].8 Los ejes Y en las Figuras 2-4 se han normalizado porque las simulaciones se basan en datos patentados. Solo los valores relativos son significativos.54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R (Q) Q Ingresos 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 11.5 2 V (Q) Q Eficiencia 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L (Q) Q Relevancia Figura 2: Ingresos, eficiencia y relevancia para diferentes parámetrosQ bajo la correlación variable de Spearman (clave a la derecha). Los errores estándar estimados son inferiores al 1% de los valores mostrados.-1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R (Q) Q Ingresos 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1-0.5 0 0.5 1 1.5 2 V (Q) Q Eficiencia 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L (Q) Q Relevancia Figura 3: Ingresos, eficiencia y relevanciaPara diferentes parámetros Q con la correlación de Spearman de 0.4. Los errores estándar estimados son inferiores al 1% de los valores mostrados. También analizamos el efecto de introducir un puntaje de reserva. Los resultados se muestran en la Figura 4. Naturalmente, tanto la eficiencia como la relevancia sufren con una puntuación de reserva creciente. La configuración óptima es r = 0.2, lo que proporciona solo un aumento del 8% en los ingresos de R = 0. Sin embargo, resulta en una pérdida de eficiencia del 13% y una pérdida de relevancia del 26%. La sintonización de pesos parece ser un enfoque mucho más deseable que introducir un puntaje de reserva en este caso. La razón por la cual la eficiencia y la relevancia sufren más con un puntaje de reserva es que este enfoque a menudo excluirá por completo a los postores, mientras que esto nunca ocurre al ajustar los pesos. Sin embargo, los dos enfoques no son mutuamente excluyentes, y alguna combinación de los dos podría resultar mejor que cualquiera de los dos solo, aunque no investigamos esta posibilidad.8. Conclusiones En este trabajo analizamos las propiedades de ingresos de una familia de reglas de clasificación que contiene los Yahoo!y los modelos de Google como casos especiales. En la práctica, debería ser muy simple mover entre reglas dentro de la familia: esto simplemente implica cambiar el exponente Q aplicado a los efectos del anunciante. También demostramos que, en principio, el mismo efecto podría obtenerse utilizando créditos de licitación. A pesar de la simplicidad del cambio de reglas, las simulaciones revelaron que el ajuste adecuado de Q puede mejorar significativamente los ingresos. En las simulaciones, las mejoras de ingresos fueron mayores de lo que se podía obtener utilizando precios de reserva. Por otro lado, demostramos que la satisfacción del anunciante y la experiencia del usuario podrían sufrir si Q se hace demasiado pequeño. Propusimos que el subastador establezca límites en la disminución de la satisfacción del anunciante y el usuario que está dispuesto a tolerar, lo que implicaría límites en el rango de q permitido. Con las estimaciones apropiadas para las distribuciones de valor y relevancia, y el conocimiento de su correlación, la curva de ingresos se puede trazar dentro de este rango para localizar el óptimo. Hay varias formas de impulsar esta investigación aún más. Sería interesante hacer este análisis para una variedad de palabras clave, para ver si la configuración óptima de Q siempre es tan sensible al nivel de correlación. Si es así, simplemente usar el rango-bíbido donde hay una correlación positiva, y el rango por ingresos donde hay una correlación negativa, podría estar bien para una primera aproximación y ya mejorar los ingresos. También sería interesante comparar los efectos de ajustar el precio Q versus la reserva para palabras clave que tienen pocos postores. En este caso, el precio de reserva debería ser más competitivo, pero esta sigue siendo una pregunta abierta. En principio, los ingresos mínimos en el equilibrio de Nash se pueden encontrar mediante programación lineal. Sin embargo, muchas asignaciones pueden surgir en el equilibrio de Nash, y se debe resolver un programa lineal para cada uno de estos. Todavía no existe una forma eficiente de enumerar todas las asignaciones de Nash posibles, por lo que actualmente es factible encontrar los ingresos mínimos. Si este problema pudiera resolverse, podríamos ejecutar simulaciones para el equilibrio de Nash en lugar de el equilibrio simétrico, para ver si nuestras ideas son robustas para la elección del concepto de solución. Las clases más grandes de reglas de clasificación podrían ser relevantes. Por ejemplo, es posible introducir descuentos DS y rango de acuerdo con WSBS - DS;El análisis de equilibrio también se generaliza a este caso. Con esta clase más grande, la puntuación virtual puede igualar el puntaje, p.En el caso de una distribución marginal uniforme sobre los valores. Sin embargo, no está claro si tales extensiones ayudan con distribuciones más realistas.55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R (R) R Ingresos 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 V (R) R eficiencia 0 0.5 11.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L (R) R Relevancia Figura 4: Ingresos, eficiencia y relevancia para diferentes puntajes de reserva R, con una correlación de Spearman de 0.4 y Q = 1. Las estimaciones se promedian más de 1000 muestras. Agradecimientos Agradecemos a Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris Luvogt, Jan Pedersen, Michael Schwarz, Tong Zhang y otros miembros de Yahoo! Investigación y Yahoo! Marketing de búsqueda.9. Referencias [1] G. Aggarwal, A. Goel y R. Motwani. Subastas veraces para palabras clave de búsqueda de precios. En Actas de la 7ª Conferencia ACM sobre Comercio Electrónico, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer y V. Petricek. Ofertas de equilibrio en subastas de enlaces patrocinados: teoría y evidencia. Documento de trabajo, noviembre de 2006. [3] B. Edelman, M. Ostrovsky y M. Schwarz. Publicidad en Internet y la segunda subasta de precios generalizada: venta de miles de millones de dólares en palabras clave. American Economic Review, de próxima publicación.[4] J. Feng, H. K. Bhargava y D. M. Pennock. Implementación de la búsqueda patrocinada en motores de búsqueda web: evaluación computacional de mecanismos alternativos. Informa al diario sobre informática, de próxima publicación.[5] G. Iyengar y A. Kumar. Caracterización de subastas de palabras clave óptimas. En Actas del segundo taller sobre subastas de búsqueda patrocinadas, Ann Arbor, MI, 2006. [6] D. Knuth. El arte de la programación de computadoras, volumen 3. Addison-Wesley, 1997. [7] V. Krishna. Teoría de la subasta. Academic Press, 2002. [8] S. Lahaie. Un análisis de diseños de subasta de ranuras alternativas para la búsqueda patrocinada. En Actas de la 7ª Conferencia ACM sobre Comercio Electrónico, Ann Arbor, MI, 2006. [9] R. B. Myerson. Diseño de subasta óptimo. Matemáticas de Investigación de Operaciones, 6 (1), febrero de 1981. [10] R. B. Nelsen. Una introducción a las cópulas. Springer, 2006. [11] H. R. Varian. Subastas de posición. Revista Internacional de Organización Industrial, de próxima publicación.56",
    "original_sentences": [
        "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
        "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
        "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
        "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
        "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
        "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
        "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
        "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
        "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
        "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
        "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
        "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
        "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
        "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
        "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
        "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
        "Overture Services, formerly GoTo.com and now owned by Yahoo!",
        "Inc., is credited with pioneering sponsored search advertising.",
        "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
        "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
        "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
        "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
        "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
        "Clicks relate only stochastically to impressions.",
        "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
        "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
        "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
        "We consider rank1 These are industry terms.",
        "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
        "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
        "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
        "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
        "The key parameter is the correlation between advertiser value and click-through rate.",
        "If this correlation is strongly positive, then smaller q are revenue-optimal.",
        "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
        "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
        "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
        "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
        "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
        "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
        "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
        "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
        "In Section 7 we describe our simulations and interpret their results.",
        "Related work.",
        "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
        "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
        "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
        "Varian also provides some empirical analysis.",
        "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
        "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
        "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
        "We make use of this connection when formulating the optimal auction design problem in our setting.",
        "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
        "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
        "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
        "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
        "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
        "In this work we make a deeper study of this conjecture. 2.",
        "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
        "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
        "Bidder s has value vs for each click.",
        "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
        "A weight ws is associated with agent s, and agents bid for position.",
        "If agent s bids bs, his corresponding score is wsbs.",
        "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
        "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
        "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
        "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
        "This is a full-information concept.",
        "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
        "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
        "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
        "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
        "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
        "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
        "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
        "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
        "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
        "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
        "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
        "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
        "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
        "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
        "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
        "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
        "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
        "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
        "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
        "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
        "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
        "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
        "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
        "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
        "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
        "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
        "The setup is as follows.",
        "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
        "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
        "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
        "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
        "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
        "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
        "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
        "The derivation then continues just as in the case of a singleitem auction [7, 9].",
        "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
        "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
        "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
        "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
        "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
        "Lemma 1.",
        "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
        "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
        "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
        "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
        "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
        "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
        "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
        "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
        "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
        "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
        "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
        "Now suppose there is perfect positive correlation between value and relevance.",
        "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
        "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
        "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
        "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
        "We do this in Section 7. 6.",
        "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
        "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
        "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
        "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
        "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
        "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
        "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
        "We therefore adopt efficiency as a measure of advertiser satisfaction.",
        "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
        "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
        "Proposition 1.",
        "Total relevance is non-decreasing in q.",
        "Proof.",
        "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
        "Let > 0.",
        "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
        "Assume that is large enough to make the rankings distinct.",
        "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
        "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
        "So the assumption of full support is violated, which is necessary for revenue equivalence.",
        "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
        "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
        "Proposition 2.",
        "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
        "Proof.",
        "Let q ≥ 1 and let > 0.",
        "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
        "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
        "This follows by the same reasoning as in the previous proof.",
        "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
        "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
        "Hence after swapping agents s and t, total value has not increased.",
        "The case for q ≤ 1 is similar.",
        "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
        "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
        "These results motivate the following approach.",
        "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
        "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
        "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
        "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
        "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
        "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
        "We obtained click and impression data for the advertisers bidding on the keyword.",
        "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
        "We found that, indeed, position effects are monotonically decreasing with lower rank.",
        "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
        "We obtained bids of advertisers for the keyword.",
        "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
        "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
        "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
        "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
        "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
        "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
        "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
        "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
        "The choice is very sensitive to the level of correlation.",
        "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
        "At zero correlation, they give about the same expected revenue in this instance.",
        "Figure 2 also shows that in principle, the optimal q may be negative.",
        "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
        "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
        "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
        "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
        "Simulation results with this correlation are in Figure 3.",
        "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
        "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
        "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
        "It can be designed so that the variables are correlated.",
        "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
        "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
        "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
        "Estimated standard errors are less than 1% of the values shown.",
        "We also looked into the effect of introducing a reserve score.",
        "Results are shown in Figure 4.",
        "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
        "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
        "However, it results in a 13% efficiency loss and a 26% relevance loss.",
        "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
        "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
        "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
        "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
        "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
        "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
        "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
        "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
        "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
        "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
        "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
        "There are several ways to push this research further.",
        "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
        "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
        "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
        "In this instance reserve pricing should be more competitive, but this is still an open question.",
        "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
        "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
        "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
        "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
        "Larger classes of ranking rules could be relevant.",
        "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
        "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
        "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
        "Estimates are averaged over 1000 samples.",
        "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
        "Research and Yahoo!",
        "Search Marketing. 9.",
        "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
        "Truthful auctions for pricing search keywords.",
        "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
        "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
        "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
        "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
        "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
        "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
        "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
        "Characterizing optimal keyword auctions.",
        "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
        "The Art of Computer Programming, volume 3.",
        "Addison-Wesley, 1997. [7] V. Krishna.",
        "Auction Theory.",
        "Academic Press, 2002. [8] S. Lahaie.",
        "An analysis of alternative slot auction designs for sponsored search.",
        "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
        "Optimal auction design.",
        "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
        "An Introduction to Copulas.",
        "Springer, 2006. [11] H. R. Varian.",
        "Position auctions.",
        "International Journal of Industrial Organization, forthcoming. 56"
    ],
    "error_count": 0,
    "keys": {
        "revenue": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "<br>revenue</br> Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily <br>revenue</br>-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a <br>revenue</br>-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in <br>revenue</br> in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-<br>revenue</br>, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-<br>revenue</br> is not necessarily <br>revenue</br>-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-<br>revenue</br> rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior <br>revenue</br> in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are <br>revenue</br>-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the <br>revenue</br>-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve <br>revenue</br>, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the <br>revenue</br> of keyword auctions in incomplete information settings with the <br>revenue</br> in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the <br>revenue</br> performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-<br>revenue</br> always (weakly) dominates rank-by-bid in terms of <br>revenue</br>, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more <br>revenue</br> when values and click-through rates are positively correlated, whereas rank-by-<br>revenue</br> should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing <br>revenue</br> in this equilibrium, we are optimizing a lower bound on the <br>revenue</br> in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium <br>revenue</br> of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible <br>revenue</br> in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the <br>revenue</br> formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium <br>revenue</br> will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect <br>revenue</br>.",
                "For instance, rankby-<br>revenue</br> will yield the same <br>revenue</br> as rank-by-bid if we set credits to cs = es. 5.",
                "<br>revenue</br> We are interested in setting the weights w to achieve optimal expected <br>revenue</br>.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The <br>revenue</br> to the auctioneer is then the <br>revenue</br> generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect <br>revenue</br> in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize <br>revenue</br> (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected <br>revenue</br> over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-<br>revenue</br> (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium <br>revenue</br>: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase <br>revenue</br>.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-<br>revenue</br>, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more <br>revenue</br> in equilibrium than q = 1.5 5 It may appear that this contradicts the <br>revenue</br>-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the <br>revenue</br> curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the <br>revenue</br>-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for <br>revenue</br> equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current <br>revenue</br>, this may come at the price of future <br>revenue</br> because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future <br>revenue</br> will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The <br>revenue</br> curve can then be plotted within the allowable range of q to find the <br>revenue</br>-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the <br>revenue</br> effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-<br>revenue</br>, rank-by-bid is best for positive correlation whereas rank-by-<br>revenue</br> is best for negative correlation.",
                "At zero correlation, they give about the same expected <br>revenue</br> in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more <br>revenue</br> than rank-by-<br>revenue</br>.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more <br>revenue</br> than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q <br>revenue</br> 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: <br>revenue</br>, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q <br>revenue</br> 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: <br>revenue</br>, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in <br>revenue</br> from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the <br>revenue</br> properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve <br>revenue</br>.",
                "In the simulations, the <br>revenue</br> improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the <br>revenue</br> curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-<br>revenue</br> where there is negative correlation, could be fine to a first approximation and already improve <br>revenue</br>.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum <br>revenue</br> in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum <br>revenue</br> is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r <br>revenue</br> 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: <br>revenue</br>, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Análisis de \"ingresos\" de una familia de reglas de clasificación para subastas de palabras clave s´ebastien lahaie ∗ Escuela de ingeniería y ciencias aplicadas Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!ganancia",
                "Encontramos que, en general, ninguno de estos es necesariamente \"ingresos\", óptimo en equilibrio, y que la elección de la regla de clasificación puede guiarse considerando la correlación entre los valores de los licitadores y las tasas de clics.ganancia",
                "Proponemos un enfoque simple para determinar una regla de clasificación óptima de \"ingresos\" dentro de nuestra familia, teniendo en cuenta los efectos sobre la satisfacción del anunciante y la experiencia del usuario.ganancia",
                "La búsqueda patrocinada es una de las formas de publicidad de más rápido crecimiento, más efectivas y más rentables, generando aproximadamente $ 7 mil millones en \"ingresos\" en 2005 después de casi duplicar cada año durante los cinco años anteriores.ganancia",
                "Nos referimos a estas reglas como rango por día y rango por \"ingresos\", respectivamente.1 Analizamos una familia de reglas de clasificación que contiene el Yahoo!y los modelos de Google como casos especiales.ganancia",
                "Sin embargo, veremos que RankBy- \"ingresos\" no es necesariamente \"ingresos\", optimizado.50 reglas en las que los postores se clasifican en el orden decreciente de puntaje EQ B, donde E denota una tasa de clics de los anunciantes (normalizado para la posición) y b su oferta.ganancia",
                "Observe que Q = 0 corresponde a la regla de rango de cajón de Yahoo! Y Q = 1 corresponde a la regla de rango de \"ingresos\" de Google.ganancia",
                "Mostramos a través de la simulación que aunque Q = 1 produce la asignación eficiente, la configuración de Q considerablemente menos de 1 puede producir \"ingresos\" superiores en equilibrio bajo ciertas condiciones.ganancia",
                "Si esta correlación es fuertemente positiva, entonces los Q más pequeños son \"ingresos\" óptimos.ganancia",
                "Proponemos que los motores de búsqueda establezcan umbrales de pérdida aceptable en la satisfacción del anunciante y la experiencia del usuario, luego elijan la Q óptima de \"ingresos\" consistente con estas restricciones.ganancia",
                "Luego proporcionamos una visión teórica de cómo la sintonización Q puede mejorar los \"ingresos\", y por qué la correlación entre los valores de los licitantes y las tasas de clics es relevante.ganancia",
                "Ese documento también establece una conexión entre los \"ingresos\" de las subastas de palabras clave en la configuración de información incompleta con los \"ingresos\" en equilibrio simétrico.ganancia",
                "Fueron los primeros en darse cuenta de que la correlación entre los valores del postor y las tasas de clics debería ser un parámetro clave que afecte el rendimiento de \"ingresos\" de varios mecanismos de clasificación.ganancia",
                "Según sus simulaciones, el rango por \"ingresos\" siempre (débilmente) domina el rango por oferta en términos de \"ingresos\", mientras que nuestros resultados sugieren que el rango por trasero puede hacerlo mucho mejor para las correlaciones negativas.ganancia",
                "Lahaie [8] da un ejemplo que sugiere que el rango por trasero debería producir más \"ingresos\" cuando los valores y las tasas de clics se correlacionan positivamente, mientras que el rango por \"ingresos\" debería mejorar cuando la correlación es negativa.ganancia",
                "Esta es una selección apropiada para nuestros propósitos: al optimizar los \"ingresos\" en este equilibrio, estamos optimizando un límite inferior en los \"ingresos\" en cualquier equilibrio simétrico.ganancia",
                "Multiplicar cada una de las desigualdades (4) por los ES/WS correspondientes para obtener pagos totales, y sumando sobre todas las posiciones, obtenemos un \"ingreso\" de equilibrio total de KX S = 1 KX T = S WT+1 WS (XT - -XT+1) VT+1.(5) Para resumir, los \"ingresos\" mínimos posibles en el equilibrio simétrico se pueden calcular de la siguiente manera, dados los pares de valor de relevancia de los agentes (ES, VS): primero clasifique los agentes en el orden decreciente de los WSV y luego evalúe (5).ganancia",
                "En este caso, la recursión produce XSWS+1BS+1 = K (R) −1 x T = S (XT - XT+1) WT+1VT+1+XK (R) R y la fórmula \"Ingresos\" se adapta de manera similar.2 Si redefinimos los WSV como VS y WSB para ser BS, recuperamos la configuración de los varianos y su análisis original no cambia.4. Ingresos",
                "Por lo tanto, el \"ingresos\" de equilibrio será como si hubiéramos usado pesos w en lugar de w.Las ofertas serán versiones escaladas de las ofertas que surgen con los pesos w (y sin créditos), donde cada oferta se escala por el factor 1/cs correspondiente.ganancia",
                "Esta técnica permite usar créditos en lugar de cambios explícitos en los pesos para afectar los \"ingresos\".ganancia",
                "Por ejemplo, RankBy- \"Ingresos\" generará los mismos \"ingresos\" que Rank-bid-Bid si establecemos créditos en CS = es.5. Ingresos",
                "\"Ingresos\" estamos interesados en establecer los pesos W para lograr \"ingresos\" esperados óptimos.ganancia",
                "El \"ingreso\" del subastador es entonces el \"ingresos\" generados en equilibrio simétrico bajo el esquema de ponderación w.Esto supone que el subastador es lo suficientemente paciente como para no preocuparse por los ingresos hasta que las ofertas se hayan estabilizado.ganancia",
                "Tomamos la expectativa de este pago, 3 Hal Varian nos sugirió que los créditos de licitación podrían usarse para afectar los \"ingresos\" en las subastas de palabras clave, lo que nos llevó a analizar esta conexión.4 El análisis no se generaliza a los pesos que dependen de las ofertas.ganancia",
                "Según este análisis, debemos clasificar a los postores por puntaje virtual ESψ (ES, VS) para optimizar los \"ingresos\" (y excluir a los postores con puntaje virtual negativo).ganancia",
                "En ausencia de esta condición de regularidad, el problema de optimización parece bastante difícil porque es muy general: necesitamos maximizar los \"ingresos\" esperados en el espacio de todas las funciones g.Para simplificar las cosas, ahora restringimos nuestra atención a la familia de pesos ws = eq s para q ∈ (−∞, +∞).ganancia",
                "Tenga en cuenta que cubre el rango por trasero (q = 0) y el rango por \"ingresos\" (q = 1) como casos especiales.ganancia",
                "Para ver cómo la sintonización Q puede mejorar las cosas, considere nuevamente el \"ingreso\" de equilibrio: r (q) = kx s = 1 kx t = s „et+1 es« q es (xt - xt+1) vt+1.(7) Si los postores se clasifican en un orden decreciente de relevancia, entonces et es ≤ 1 para t> s y disminuir Q ligeramente sin afectar la asignación aumentará los \"ingresos\".ganancia",
                "En este caso, el rango por candidato siempre conducirá a la misma asignación que el rango por \"ingresos\", y los postores siempre se clasificarán en un orden decreciente de relevancia.ganancia",
                "Luego se deduce de (7) que Q = 0 producirá más \"ingresos\" en equilibrio que Q = 1.5 5 puede parecer que esto contradice el teorema de equivalencia de \"ingresos\" [7, 9], porque los mecanismos que siempre conducen a losLa misma asignación en equilibrio debería producir los mismos ingresos.ganancia",
                "Sin embargo, tenga en cuenta que con una correlación perfecta, hay si hay una buena estimación de F disponible, se pueden usar simulaciones de Monte-Carlo para estimar la curva de \"ingresos\" en función de Q, y se puede ubicar lo óptimo.ganancia",
                "Eficiencia y relevancia En principio, el parámetro óptimo de \"ingresos\" Q puede estar en cualquier lugar de (−∞, ∞).ganancia",
                "Por lo tanto, se viola la suposición de apoyo total, que es necesario para la equivalencia de \"ingresos\".ganancia",
                "Aunque Tuning Q puede optimizar los \"ingresos\" actuales, esto puede tener el precio de los \"ingresos\" futuros porque los anunciantes y los usuarios pueden perderse, ya que su satisfacción disminuye.ganancia",
                "Para garantizar los futuros \"ingresos\" no se lastimará demasiado, el subastador puede imponer límites a la pérdida porcentual de eficiencia y relevancia que está dispuesto a tolerar, con Q = 1 como una línea de base natural.ganancia",
                "La curva de \"ingresos\" se puede trazar dentro del rango permitido de Q para encontrar la configuración óptima de \"ingresos\".7. Ingresos",
                "Utilizamos una cópula gaussiana para crear dependencia entre el valor y la relevancia.7 Dadas las distribuciones marginales para el valor y la relevancia junto con esta cópula, simulamos el efecto de \"ingresos\" de variar Q para diferentes niveles de correlación de Spearman, con 12 espacios y 13 postores.ganancia",
                "Si elegir solo entre RankBy-Bid y Rank-by \"ingresos\", Rank-by-Bid es mejor para la correlación positiva, mientras que el rango por \"ingresos\" es mejor para la correlación negativa.ganancia",
                "En la correlación cero, dan los mismos \"ingresos\" esperados en este caso.ganancia",
                "En este caso, el rango por trasero es de hecho óptimo, lo que produce un 25% más de \"ingresos\" que el rango por \"ingresos\".ganancia",
                "Imaginando un límite de, por ejemplo, 5% en la pérdida de eficiencia y relevancia desde la línea de base en Q = 1, la configuración óptima es Q = 0.6, produciendo un 11% más de \"ingresos\" que la línea de base.6 Ver Varian [11] para una definición de desviación absoluta media.7 Una cópula es una función que toma distribuciones marginales y ofrece una distribución conjunta con estos marginales.ganancia",
                "Solo los valores relativos son significativos.54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R (Q) Q \"Ingresos\" 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 00.5 1 1.5 2 V (Q) Q Eficiencia 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L (Q) Q Relevancia Figura 2: \"Ingresos\", eficiencia yRelevancia para los diferentes parámetros Q bajo la correlación de Spearman variable (clave a la derecha).ganancia",
                "Los errores estándar estimados son inferiores al 1% de los valores mostrados.-1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R (Q) Q \"Ingresos\" 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5-1 -0.5 0 0.5 1 1.5 2 V (Q) Q Eficiencia 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L (Q) Q Relevancia Figura 3: \"Ingresos\",Eficiencia y relevancia para diferentes parámetros Q con la correlación de Spearman de 0.4.ganancia",
                "La configuración óptima es r = 0.2, que proporciona solo un aumento del 8% en \"ingresos\" de r = 0. ingresos",
                "Conclusiones En este trabajo analizamos las propiedades de \"ingresos\" de una familia de reglas de clasificación que contiene los Yahoo!y los modelos de Google como casos especiales.ganancia",
                "A pesar de la simplicidad del cambio de reglas, las simulaciones revelaron que la sintonización adecuada de Q puede mejorar significativamente los \"ingresos\".ganancia",
                "En las simulaciones, las mejoras de \"ingresos\" fueron mayores de lo que se podía obtener utilizando precios de reserva.ganancia",
                "Con las estimaciones apropiadas para las distribuciones de valor y relevancia, y el conocimiento de su correlación, la curva de \"ingresos\" se puede trazar dentro de este rango para localizar el óptimo.ganancia",
                "Si es así, simplemente usar el rango-bíbido donde hay una correlación positiva, y el rango por \"ingresos\" donde hay una correlación negativa, podría estar bien para una primera aproximación y ya mejorar los \"ingresos\".ganancia",
                "En principio, los \"ingresos\" mínimos en el equilibrio de Nash se pueden encontrar mediante programación lineal.ganancia",
                "Todavía no existe una forma eficiente de enumerar todas las asignaciones de Nash posibles, por lo que actualmente es factible encontrar el \"ingreso\" mínimo.ganancia",
                "Sin embargo, no está claro si tales extensiones ayudan con distribuciones más realistas.55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R (R) R \"Ingresos\" 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V (R) R Eficiencia 00.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L (R) R Relevancia Figura 4: \"Ingresos\", eficiencia y relevancia para diferentes puntajes de reserva R, con correlación de Spearman de 0.4 y Q = 1. Ingresos"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "keyword auction": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own <br>keyword auction</br> marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal <br>keyword auction</br> design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal <br>keyword auction</br> design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a <br>keyword auction</br>, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Microsofts MSN, anteriormente un afiliado de Obertura, ahora opera su propio mercado de \"subasta de palabras clave\".subasta de palabras clave",
                "En la Sección 5, damos una formulación general del problema de diseño óptimo de diseño de \"subasta de palabras clave\" como un problema de optimización, de manera análoga a la configuración de subasta de un solo elemento.subasta de palabras clave",
                "Iyengar y Kumar [5] estudian el problema de diseño óptimo de \"subasta de palabras clave\" en una configuración de información incompleta, y también hacen la conexión con el equilibrio simétrico.subasta de palabras clave",
                "La motivación para esta elección es que en una \"subasta de palabras clave\", los postores pueden ajustar continuamente sus ofertas con el tiempo y, por lo tanto, obtener estimaciones de sus ganancias en varias posiciones.subasta de palabras clave"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "revenue-optimal ranking": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a <br>revenue-optimal ranking</br> rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Proponemos un enfoque simple para determinar una regla de \"clasificación óptima de ingresos\" dentro de nuestra familia, teniendo en cuenta los efectos en la satisfacción del anunciante y la experiencia del usuario.ranking óptimo"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "ranking rule": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of <br>ranking rule</br> can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal <br>ranking rule</br> within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the <br>ranking rule</br> explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the <br>ranking rule</br> also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Encontramos que, en general, ninguno de estos es necesariamente óptimo de equilibrio de los ingresos, y que la elección de la \"regla de clasificación\" puede guiarse considerando la correlación entre los valores de los licitadores y las tasas de clics.regla de clasificación",
                "Proponemos un enfoque simple para determinar una \"regla de clasificación\" óptima de ingresos dentro de nuestra familia, teniendo en cuenta los efectos en la satisfacción del anunciante y la experiencia del usuario.regla de clasificación",
                "En la Sección 4 notamos que dar créditos de licitación de los agentes puede tener el mismo efecto que ajustar la \"regla de clasificación\" explícitamente.regla de clasificación",
                "Sin embargo, ajustar la \"regla de clasificación\" también tiene consecuencias para la satisfacción del anunciante y la experiencia del usuario, y tenerlos en cuenta reduce el rango de q permitido.regla de clasificación"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "search engine": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web <br>search engine</br> today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The <br>search engine</br> evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the <br>search engine</br> cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "El éxito de las oberturas llevó a varias compañías a adoptar modelos comerciales similares, más prominentemente Google, el principal \"motor de búsqueda\" web hoy.buscador",
                "El \"motor de búsqueda\" evalúa las ofertas de los anunciantes y asigna las posiciones en la página en consecuencia.buscador",
                "Observe que, aunque las ofertas se expresan como pagos por clic, el \"motor de búsqueda\" no puede asignar directamente los clics, sino que asigna impresiones o ubicaciones en la pantalla.buscador"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "advertisement": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell <br>advertisement</br>s by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, <br>advertisement</br>s that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the <br>advertisement</br>s expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Introducción Los principales motores de búsqueda como Google, Yahoo!, Y MSN venden \"publicidad\" s subastando el espacio en las páginas de resultados de búsqueda de palabras clave.anuncio",
                "En general, el \"anuncio\" que aparece en una posición más alta en la página atrae más atención y más clics de los usuarios.anuncio",
                "En el caso de Googles, el valor por impresión se calcula multiplicando la oferta de los anunciantes (porClick) por la tasa de clics esperada de \"anuncios\", donde esta expectativa puede considerar una serie de factores no especificados que incluyen una tasa de clics histórico, posición en la página, Identidad del anunciante, identidad del usuario y el contexto de otros elementos en la página.anuncio"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "sponsored search": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, <br>sponsored search</br> advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering <br>sponsored search</br> advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "<br>sponsored search</br> is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing <br>sponsored search</br> in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on <br>sponsored search</br> Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for <br>sponsored search</br>.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Por convención, los anunciantes de \"búsqueda patrocinada\" generalmente ofertan y pagan por clic, lo que significa que solo pagan cuando un usuario hace clic en su anuncio y no pagan si su anuncio se muestra pero no se hace clic.búsqueda patrocinada",
                "Inc., se le atribuye la publicidad pionera de \"búsqueda patrocinada\".búsqueda patrocinada",
                "\"Búsqueda patrocinada\" es una de las formas de publicidad de más rápido crecimiento, más efectivas y más rentables, generando aproximadamente $ 7 mil millones en ingresos en 2005 después de casi duplicar cada año durante los cinco años anteriores.búsqueda patrocinada",
                "Implementación de \"búsqueda patrocinada\" en motores de búsqueda web: evaluación computacional de mecanismos alternativos.búsqueda patrocinada",
                "En Actas del segundo taller sobre subastas de \"búsqueda patrocinada\", Ann Arbor, MI, 2006. [6] D. Knuth.búsqueda patrocinada",
                "Un análisis de diseños de subasta de ranura alternativa para \"búsqueda patrocinada\".búsqueda patrocinada"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "rank-by-bid": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as <br>rank-by-bid</br> and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s <br>rank-by-bid</br> rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates <br>rank-by-bid</br> in terms of revenue, whereas our results suggest that <br>rank-by-bid</br> may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests <br>rank-by-bid</br> should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as <br>rank-by-bid</br> if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers <br>rank-by-bid</br> (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, <br>rank-by-bid</br> will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, <br>rank-by-bid</br> is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance <br>rank-by-bid</br> is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Nos referimos a estas reglas como \"rango por trasero\" y rango por ingresos, respectivamente.1 Analizamos una familia de reglas de clasificación que contiene el Yahoo!y los modelos de Google como casos especiales.rango por día",
                "Observe que Q = 0 corresponde a la regla \"Rango por trasero\" de Yahoo! S y Q = 1 corresponde a la regla de rango de ingresos de Google.rango por día",
                "Según sus simulaciones, el rango por ingresos siempre (débilmente) domina el \"rango por disputa\" en términos de ingresos, mientras que nuestros resultados sugieren que el \"rango por oferta\" puede hacerlo mucho mejor para las correlaciones negativas.rango por día",
                "Lahaie [8] da un ejemplo que sugiere que \"rango por hasta la tarde\" debería producir más ingresos cuando los valores y las tasas de clics se correlacionan positivamente, mientras que el rango por ingresos debería mejorar cuando la correlación es negativa.rango por día",
                "Por ejemplo, RankBy-Provinue generará los mismos ingresos que \"Rank-bid-Bid\" si establecemos créditos en CS = es.5. Rango por trasero",
                "Tenga en cuenta que cubre \"rango por trasero\" (q = 0) y rango por venas (q = 1) como casos especiales.rango por día",
                "En este caso, \"Rank-bid-Bid\" siempre conducirá a la misma asignación que el rango por ingresos, y los postores siempre se clasificarán en orden decreciente de relevancia.rango por día",
                "Si elegir solo entre RankBy-Bid y Rank-by-Venue, \"Rank-by-Bid\" es mejor para la correlación positiva, mientras que el rango por ingresos es mejor para la correlación negativa.rango por día",
                "En este caso, el \"rango por trasero\" es de hecho óptimo, lo que produce un 25% más de ingresos que el rango por ingresos.rango por día"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "rank-by-revenue": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and <br>rank-by-revenue</br>, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles <br>rank-by-revenue</br> rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, <br>rank-by-revenue</br> always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas <br>rank-by-revenue</br> should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and <br>rank-by-revenue</br> (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as <br>rank-by-revenue</br>, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and <br>rank-by-revenue</br>, rank-by-bid is best for positive correlation whereas <br>rank-by-revenue</br> is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than <br>rank-by-revenue</br>.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and <br>rank-by-revenue</br> where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Nos referimos a estas reglas como rango por día y \"rango por venganza\", respectivamente.1 Analizamos una familia de reglas de clasificación que contiene el Yahoo!y los modelos de Google como casos especiales.rango por ingresos",
                "Observe que Q = 0 corresponde a la regla de rango de cajón de Yahoo! Y Q = 1 corresponde a la regla de \"rango por veneno\" de Google.rango por ingresos",
                "Según sus simulaciones, el \"rango por ingresos\" siempre (débilmente) domina el rango por oferta en términos de ingresos, mientras que nuestros resultados sugieren que el rango por trasero puede hacerlo mucho mejor para las correlaciones negativas.rango por ingresos",
                "Lahaie [8] da un ejemplo que sugiere que el rango por trasero debería generar más ingresos cuando los valores y las tasas de clics se correlacionan positivamente, mientras que el \"rango por ingresos\" debería mejorar cuando la correlación es negativa.rango por ingresos",
                "Tenga en cuenta que cubre el rango por trasero (q = 0) y \"rango por veneno\" (q = 1) como casos especiales.rango por ingresos",
                "En este caso, el rango por trasero siempre conducirá a la misma asignación que \"rango por ingresos\", y los postores siempre se clasificarán en un orden decreciente de relevancia.rango por ingresos",
                "Si elegir solo entre Rankby-Bid y \"Rank-by-Ven-venue\", Rank-by-Bid es mejor para la correlación positiva, mientras que \"Rank-by-Exvenue\" es mejor para la correlación negativa.rango por ingresos",
                "En este caso, el rango por candidato es de hecho óptimo, lo que produce un 25% más de ingresos que \"rango por ingresos\".rango por ingresos",
                "Si es así, simplemente usar el rango-bíbido donde hay una correlación positiva, y \"rango por ingresos\" donde hay una correlación negativa, podría estar bien para una primera aproximación y ya mejorar los ingresos.rango por ingresos"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "profit": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most <br>profit</br>able forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their <br>profit</br>s in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total <br>profit</br>s to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers <br>profit</br>s, any decrease in efficiency in our setting corresponds to a decrease in bidder <br>profit</br>s.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "La búsqueda patrocinada es una de las formas de publicidad capaces de más rápido crecimiento, más efectivo y la mayoría de las \"ganancias\", generando aproximadamente $ 7 mil millones en ingresos en 2005 después de casi duplicar cada año durante los cinco años anteriores.ganancia",
                "La motivación para esta elección es que en una subasta de palabras clave, los postores pueden ajustar continuamente sus ofertas con el tiempo y, por lo tanto, obtener estimaciones de sus \"ganancias\" en varias posiciones.ganancia",
                "Como vemos, el valor total puede reinterpretarse como \"ganancias\" totales para los postores y subastadores combinados.ganancia",
                "Dado que solo consideramos las desviaciones de la máxima eficiencia que aumentan los \"beneficios\" de los subastadores, cualquier disminución en la eficiencia en nuestro entorno corresponde a una disminución en las \"ganancias\" del postor.ganancia"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "advertising revenue": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "pricing search keyword": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for <br>pricing search keyword</br>s.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Subastas veraces para la \"palabra clave de búsqueda de precios\" s.Palabra clave de búsqueda de precios"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "optimal auction design problem": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the <br>optimal auction design problem</br> in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [
                "Hacemos uso de esta conexión al formular el \"problema de diseño de subasta óptimo\" en nuestro entorno.Problema de diseño de subasta óptimo"
            ],
            "translated_text": "",
            "candidates": [],
            "error": []
        },
        "sponsor search": {
            "translated_key": "",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Revenue Analysis of a Family of Ranking Rules for Keyword Auctions S´ebastien Lahaie ∗ School of Engineering and Applied Sciences Harvard University, Cambridge, MA 02138 slahaie@eecs.harvard.edu David M. Pennock Yahoo!",
                "Research New York, NY 10011 pennockd@yahoo-inc.com ABSTRACT Keyword auctions lie at the core of the business models of todays leading search engines.",
                "Advertisers bid for placement alongside search results, and are charged for clicks on their ads.",
                "Advertisers are typically ranked according to a score that takes into account their bids and potential clickthrough rates.",
                "We consider a family of ranking rules that contains those typically used to model Yahoo! and Googles auction designs as special cases.",
                "We find that in general neither of these is necessarily revenue-optimal in equilibrium, and that the choice of ranking rule can be guided by considering the correlation between bidders values and click-through rates.",
                "We propose a simple approach to determine a revenue-optimal ranking rule within our family, taking into account effects on advertiser satisfaction and user experience.",
                "We illustrate the approach using Monte-Carlo simulations based on distributions fitted to Yahoo! bid and click-through rate data for a high-volume keyword.",
                "Categories and Subject Descriptors J.4 [Computer Applications]: Social and Behavioral Sciences-Economics General Terms Economics, Theory 1.",
                "INTRODUCTION Major search engines like Google, Yahoo!, and MSN sell advertisements by auctioning off space on keyword search results pages.",
                "For example, when a user searches the web for iPod, the highest paying advertisers (for example, Apple or Best Buy) for that keyword may appear in a separate sponsored section of the page above or to the right of the algorithmic results.",
                "The sponsored results are displayed in a format similar to algorithmic results: as a list of items each containing a title, a text description, and a hyperlink to a web page.",
                "Generally, advertisements that appear in a higher position on the page garner more attention and more clicks from users.",
                "Thus, all else being equal, advertisers prefer higher positions to lower positions.",
                "Advertisers bid for placement on the page in an auctionstyle format where the larger their bid the more likely their listing will appear above other ads on the page.",
                "By convention, sponsored search advertisers generally bid and pay per click, meaning that they pay only when a user clicks on their ad, and do not pay if their ad is displayed but not clicked.",
                "Overture Services, formerly GoTo.com and now owned by Yahoo!",
                "Inc., is credited with pioneering sponsored search advertising.",
                "Overtures success prompted a number of companies to adopt similar business models, most prominently Google, the leading web search engine today.",
                "Microsofts MSN, previously an affiliate of Overture, now operates its own keyword auction marketplace.",
                "Sponsored search is one of the fastest growing, most effective, and most profitable forms of advertising, generating roughly $7 billion in revenue in 2005 after nearly doubling every year for the previous five years.",
                "The search engine evaluates the advertisers bids and allocates the positions on the page accordingly.",
                "Notice that, although bids are expressed as payments per click, the search engine cannot directly allocate clicks, but rather allocates impressions, or placements on the screen.",
                "Clicks relate only stochastically to impressions.",
                "Until recently, Yahoo! ranked bidders in decreasing order of advertisers stated values per click, while Google ranks in decreasing order of advertisers stated values per impression.",
                "In Googles case, value per impression is computed by multiplying the advertisers (perclick) bid by the advertisements expected click-through rate, where this expectation may consider a number of unspecified factors including historical click-through rate, position on the page, advertiser identity, user identity, and the context of other items on the page.",
                "We refer to these rules as rank-by-bid and rank-by-revenue, respectively.1 We analyze a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "We consider rank1 These are industry terms.",
                "We will see, however, that rankby-revenue is not necessarily revenue-optimal. 50 ing rules where bidders are ranked in decreasing order of score eq b, where e denotes an advertisers click-through rate (normalized for position) and b his bid.",
                "Notice that q = 0 corresponds to Yahoo!s rank-by-bid rule and q = 1 corresponds to Googles rank-by-revenue rule.",
                "Our premise is that bidders are playing a symmetric equilibrium, as defined by Edelman, Ostrovsky, and Schwarz [3] and Varian [11].",
                "We show through simulation that although q = 1 yields the efficient allocation, settings of q considerably less than 1 can yield superior revenue in equilibrium under certain conditions.",
                "The key parameter is the correlation between advertiser value and click-through rate.",
                "If this correlation is strongly positive, then smaller q are revenue-optimal.",
                "Our simulations are based on distributions fitted to data from Yahoo! keyword auctions.",
                "We propose that search engines set thresholds of acceptable loss in advertiser satisfaction and user experience, then choose the revenue-optimal q consistent with these constraints.",
                "We also compare the potential gains from tuning q with the gains from setting reserve prices, and find that the former may be much more significant.",
                "In Section 2 we give a formal model of keyword auctions, and establish its equilibrium properties in Section 3.",
                "In Section 4 we note that giving agents bidding credits can have the same effect as tuning the ranking rule explicitly.",
                "In Section 5 we give a general formulation of the optimal keyword auction design problem as an optimization problem, in a manner analogous to the single-item auction setting.",
                "We then provide some theoretical insight into how tuning q can improve revenue, and why the correlation between bidders values and click-through rates is relevant.",
                "In Section 6 we consider the effect of q on advertiser satisfaction and user experience.",
                "In Section 7 we describe our simulations and interpret their results.",
                "Related work.",
                "As mentioned the papers of Edelman et al. [3] and Varian [11] lay the groundwork for our study.",
                "Both papers independently define an appealing refinement of Nash equilibrium for keyword auctions and analyze its equilibrium properties.",
                "They called this refinement locally envy-free equilibrium and symmetric equilibrium, respectively.",
                "Varian also provides some empirical analysis.",
                "The general model of keyword auctions used here, where bidders are ranked according to a weight times their bid, was introduced by Aggarwal, Goel, and Motwani [1].",
                "That paper also makes a connection between the revenue of keyword auctions in incomplete information settings with the revenue in symmetric equilibrium.",
                "Iyengar and Kumar [5] study the optimal keyword auction design problem in a setting of incomplete information, and also make the connection to symmetric equilibrium.",
                "We make use of this connection when formulating the optimal auction design problem in our setting.",
                "The work most closely related to ours is that of Feng, Bhargava, and Pennock [4].",
                "They were the first to realize that the correlation between bidder values and click-through rates should be a key parameter affecting the revenue performance of various ranking mechanisms.",
                "For simplicity, they assume bidders bid their true values, so their model is very different from ours and consequently so are their findings.",
                "According to their simulations, rank-by-revenue always (weakly) dominates rank-by-bid in terms of revenue, whereas our results suggest that rank-by-bid may do much better for negative correlations.",
                "Lahaie [8] gives an example that suggests rank-by-bid should yield more revenue when values and click-through rates are positively correlated, whereas rank-by-revenue should do better when the correlation is negative.",
                "In this work we make a deeper study of this conjecture. 2.",
                "MODEL There are K positions to be allocated among N bidders, where N > K. We assume that the (expected) click-through rate of bidder s in position t is of the form esxt, i.e. separable into an advertiser effect es ∈ [0, 1] and position effect xt ∈ [0, 1].",
                "We assume that x1 > x2 > . . . > xK > 0 and let xt = 0 for t > K. We also refer to es as the relevance of bidder s. It is useful to interpret xt as the probability that an ad in position t will be noticed, and es as the probability that it will be clicked on if noticed.",
                "Bidder s has value vs for each click.",
                "Bidders have quasilinear utility, so that the utility to bidder s of obtaining position t at a price of p per click is esxt(vs − p).",
                "A weight ws is associated with agent s, and agents bid for position.",
                "If agent s bids bs, his corresponding score is wsbs.",
                "Agents are ranked by score, so that the agent with highest score is ranked first, and so on.",
                "We assume throughout that agents are numbered such that agent s obtains position s. An agent pays per click the lowest bid necessary to retain his position, so that the agent in slot s pays ws+1 ws bs+1.",
                "The auctioneer may introduce a reserve score of r, so that an agents ad appears only if his score is at least r. For agent s, this translates into a reserve price (minimum bid) of r/ws. 3.",
                "EQUILIBRIUM We consider the pure-strategy Nash equilibria of the auction game.",
                "This is a full-information concept.",
                "The motivation for this choice is that in a keyword auction, bidders are allowed to continuously adjust their bids over time, and hence obtain estimates of their profits in various positions.",
                "As a result it is reasonable to assume that if bids stabilize, bidders should be playing best-responses to each others bids [2, 3, 11].",
                "Formally, in a Nash equilibrium of this game the following inequalities hold. esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « ∀t > s (1) esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt ws bt « ∀t < s (2) Inequalities (1) and (2) state that bidder s does not prefer a lower or higher position to his own, respectively.",
                "It can be hard to derive any theoretical insight into the properties of these Nash equilibria-multiple allocations of positions to bidders can potentially arise in equilibrium [2].",
                "Edelman, Ostrovsky, and Schwarz [3] introduced a refinement of Nash equilibrium called locally envy-free equilibrium that is more tractable to analyze; Varian [11] independently proposed this solution concept and called it symmetric equilibrium.",
                "In a symmetric equilibrium, inequality (1) holds for all s, t rather than just for t > s. So for all s and all t = s, we have esxs „ vs − ws+1 ws bs+1 « ≥ esxt „ vs − wt+1 ws bt+1 « , 51 or equivalently xs(wsvs − ws+1bs+1) ≥ xt(wsvs − wt+1bt+1). (3) Edelman et al. [3] note that this equilibrium arises if agents are raising their bids to increase the payments of those above them, a practice which is believed to be common in actual keyword auctions.",
                "Varian [11] provides some empirical evidence that Google bid data agrees well with the hypothesis that bidders are playing a symmetric equilibrium.",
                "Varian does a thorough analysis of the properties of symmetric equilibrium, assuming ws = es = 1 for all bidders.",
                "It is straightforward to adapt his analysis to the case where bidders are assigned arbitrary weights and have separable click-through rates.2 As a result we find that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "To be clear, although the auctioneer only has access to the bids bs and not the values vs, in symmetric equilibrium the bids are such that ranking according to wsbs is equivalent to ranking according to wsvs.",
                "The smallest possible bid profile that can arise in symmetric equilibrium is given by the recursion xsws+1bs+1 = (xs − xs+1)ws+1vs+1 + xs+1ws+2bs+2.",
                "In this work we assume that bidders are playing the smallest symmetric equilibrium.",
                "This is an appropriate selection for our purposes: by optimizing revenue in this equilibrium, we are optimizing a lower bound on the revenue in any symmetric equilibrium.",
                "Unraveling the recursion yields xsws+1bs+1 = KX t=s (xt − xt+1)wt+1vt+1. (4) Agent ss total expected payment is es/ws times the quantity on the left-hand side of (4).",
                "The base case of the recursion occurs for s = K, where we find that the first excluded bidder bids his true value, as in the original analysis.",
                "Multiplying each of the inequalities (4) by the corresponding es/ws to obtain total payments, and summing over all positions, we obtain a total equilibrium revenue of KX s=1 KX t=s wt+1 ws es(xt − xt+1)vt+1. (5) To summarize, the minimum possible revenue in symmetric equilibrium can be computed as follows, given the agents relevance-value pairs (es, vs): first rank the agents in decreasing order of wsvs, and then evaluate (5).",
                "With a reserve score of r, it follows from inequality (3) that no bidder with wsvs < r would want to participate in the auction.",
                "Let K(r) be the number of bidders with wsvs ≥ r, and assume it is at most K. We can impose a reserve score of r by introducing a bidder with value r and weight 1, and making him the first excluded bidder (who in symmetric equilibrium bids truthfully).",
                "In this case the recursion yields xsws+1bs+1 = K(r)−1 X t=s (xt − xt+1)wt+1vt+1 + xK(r)r and the revenue formula is adapted similarly. 2 If we redefine wsvs to be vs and wsbs to be bs, we recover Varians setup and his original analysis goes through unchanged. 4.",
                "BIDDING CREDITS An indirect way to influence the allocation is to introduce bidding credits.3 Suppose bidder s is only required to pay a fraction cs ∈ [0, 1] of the price he faces, or equivalently a (1 − cs) fraction of his clicks are received for free.",
                "Then in a symmetric equilibrium, we have esxs „ vs − ws+1 ws csbs+1 « ≥ esxt „ vs − wt+1 ws csbt+1 « or equivalently xs „ ws cs vs − ws+1bs+1 « ≥ xt „ ws cs vs − wt+1bt+1 « .",
                "If we define ws = ws cs and bs = csbs, we recover inequality (3).",
                "Hence the equilibrium revenue will be as if we had used weights w rather than w. The bids will be scaled versions of the bids that arise with weights w (and no credits), where each bid is scaled by the corresponding factor 1/cs.",
                "This technique allows one to use credits instead of explicit changes in the weights to affect revenue.",
                "For instance, rankby-revenue will yield the same revenue as rank-by-bid if we set credits to cs = es. 5.",
                "REVENUE We are interested in setting the weights w to achieve optimal expected revenue.",
                "The setup is as follows.",
                "The auctioneer chooses a function g so that the weighting scheme is ws ≡ g(es).",
                "We do not consider weights that also depend on the agents bids because this would invalidate the equilibrium analysis of the previous section.4 A pool of N bidders is then obtained by i.i.d. draws of value-relevance pairs from a common probability density f(es, vs).",
                "We assume the density is continuous and has full support on [0, 1]×[0, ∞).",
                "The revenue to the auctioneer is then the revenue generated in symmetric equilibrium under weighting scheme w. This assumes the auctioneer is patient enough not to care about revenue until bids have stabilized.",
                "The problem of finding an optimal weighting scheme can be formulated as an optimization problem very similar to the one derived by Myerson [9] for the single-item auction case (with incomplete information).",
                "Let Qsk(e, v; w) = 1 if agent s obtains slot k in equilibrium under weighting scheme w, where e = (e1, . . . , eN ) and v = (v1, . . . , vN ), and let it be 0 otherwise.",
                "Note that the total payment of agent s in equilibrium is esxs ws+1 ws bs+1 = KX t=s es(xt − xt+1) wt+1 ws vt+1 = esxsvs − Z vs 0 KX k=1 esxkQsk(es, e−s, y, v−s; w) dy.",
                "The derivation then continues just as in the case of a singleitem auction [7, 9].",
                "We take the expectation of this payment, 3 Hal Varian suggested to us that bidding credits could be used to affect revenue in keyword auctions, which prompted us to look into this connection. 4 The analysis does not generalize to weights that depend on bids.",
                "It is unclear whether an equilibrium would exist at all with such weights. 52 and sum over all agents to obtain the objective Z ∞ 0 Z ∞ 0 NX s=1 KX k=1 esxkψ(es, vs)Qsk(e, v; w) # f(e, v) dv de, where ψ is the virtual valuation ψ(es, vs) = vs − 1 − F(vs|es) f(vs|es) .",
                "According to this analysis, we should rank bidders by virtual score esψ(es, vs) to optimize revenue (and exclude any bidders with negative virtual score).",
                "However, unlike in the incomplete information setting, here we are constrained to ranking rules that correspond to a certain weighting scheme ws ≡ g(es).",
                "We remark that the virtual score cannot be reproduced exactly via a weighting scheme.",
                "Lemma 1.",
                "There is no weighting scheme g such that the virtual score equals the score, for any density f. Proof.",
                "Assume there is a g such that eψ(e, v) = g(e)v. (The subscript s is suppressed for clarity.)",
                "This is equivalent to d dv log(1 − F(v|e)) = h(e)/v, (6) where h(e) = (g(e)/e−1)−1 .",
                "Let ¯v be such that F(¯v|e) < 1; under the assumption of full support, there is always such a ¯v.",
                "Integrating (6) with respect to v from 0 to ¯v, we find that the left-hand side converges whereas the right-hand side diverges, a contradiction.",
                "Of course, to rank bidders by virtual score, we only need g(es)vs = h(esψ(es, vs)) for some monotonically increasing transformation h. (A necessary condition for this is that ψ(es, vs) be increasing in vs for all es.)",
                "Absent this regularity condition, the optimization problem seems quite difficult because it is so general: we need to maximize expected revenue over the space of all functions g. To simplify matters, we now restrict our attention to the family of weights ws = eq s for q ∈ (−∞, +∞).",
                "It should be much simpler to find the optimum within this family, since it is just one-dimensional.",
                "Note that it covers rank-by-bid (q = 0) and rank-by-revenue (q = 1) as special cases.",
                "To see how tuning q can improve matters, consider again the equilibrium revenue: R(q) = KX s=1 KX t=s „ et+1 es «q es(xt − xt+1)vt+1. (7) If the bidders are ranked in decreasing order of relevance, then et es ≤ 1 for t > s and decreasing q slightly without affecting the allocation will increase revenue.",
                "Similarly, if bidders are ranked in increasing order of relevance, increasing q slightly will yield an improvement.",
                "Now suppose there is perfect positive correlation between value and relevance.",
                "In this case, rank-by-bid will always lead to the same allocation as rank-by-revenue, and bidders will always be ranked in decreasing order of relevance.",
                "It then follows from (7) that q = 0 will yield more revenue in equilibrium than q = 1.5 5 It may appear that this contradicts the revenue-equivalence theorem [7, 9], because mechanisms that always lead to the same allocation in equilibrium should yield the same revenue.",
                "Note though that with perfect correlation, there are If a good estimate of f is available, Monte-Carlo simulations can be used to estimate the revenue curve as a function of q, and the optimum can be located.",
                "Simulations can also be used to quantify the effect of correlation on the location of the optimum.",
                "We do this in Section 7. 6.",
                "EFFICIENCY AND RELEVANCE In principle the revenue-optimal parameter q may lie anywhere in (−∞, ∞).",
                "However, tuning the ranking rule also has consequences for advertiser satisfaction and user experience, and taking these into account reduces the range of allowable q.",
                "The total relevance of the equilibrium allocation is L(q) = KX s=1 esxs, i.e. the aggregate click-through rate.",
                "Presumably users find the ad display more interesting and less of a nuisance if they are more inclined to click on the ads, so we adopt total relevance as a measure of user experience.",
                "Let ps = ws+1 ws bs+1 be the price per click faced by bidder s. The total value (efficiency) generated by the auction in equilibrium is V (q) = KX s=1 esxsvs = KX s=1 esxs(vs − ps) + KX s=1 esxsps.",
                "As we see total value can be reinterpreted as total profits to the bidders and auctioneer combined.",
                "Since we only consider deviations from maximum efficiency that increase the auctioneers profits, any decrease in efficiency in our setting corresponds to a decrease in bidder profits.",
                "We therefore adopt efficiency as a measure of advertiser satisfaction.",
                "We would expect total relevance to increase with q, since more weight is placed on each bidders individual relevance.",
                "We would expect efficiency to be maximized at q = 1, since in this case a bidders weight is exactly his relevance.",
                "Proposition 1.",
                "Total relevance is non-decreasing in q.",
                "Proof.",
                "Recall that in symmetric equilibrium, bidders are ranked in order of decreasing wsvs.",
                "Let > 0.",
                "Perform an exchange sort to obtain the ranking that arises with q + starting from the ranking that arises with q (for a description of exchange sort and its properties, see Knuth [6] pp. 106110).",
                "Assume that is large enough to make the rankings distinct.",
                "Agents s and t, where s is initially ranked lower than t, are swapped in the process if and only if the following conditions hold: eq svs ≤ eq t vt eq+ s vs > eq+ t vt which together imply that es > et and hence es > et as > 0.",
                "At some point in the sort, agent s occupies some slot α, β such that vs = αes + β.",
                "So the assumption of full support is violated, which is necessary for revenue equivalence.",
                "Recall that a density has full support over a given domain if every point in the domain has positive density. 53 k while agent t occupies slot k − 1.",
                "After the swap, total relevance will have changed by the amount esxk−1 + etxk − etxk−1 − esxk = (es − et)(xk−1 − xk) > 0 As relevance strictly increases with each swap in the sort, total relevance is strictly greater when using q + rather than q.",
                "Proposition 2.",
                "Total value is non-decreasing in q for q ≤ 1 and non-increasing in q for q ≥ 1.",
                "Proof.",
                "Let q ≥ 1 and let > 0.",
                "Perform an exchange sort to obtain the second ranking from the first as in the previous proof.",
                "If agents s and t are swapped, where s was initially ranked lower than t, then es > et.",
                "This follows by the same reasoning as in the previous proof.",
                "Now e1−q s ≤ e1−q t as 1 − q ≤ 0.",
                "This together with eq svs ≤ eq t vt implies that esvs ≤ etvt.",
                "Hence after swapping agents s and t, total value has not increased.",
                "The case for q ≤ 1 is similar.",
                "Since the trends described in Propositions 1 and 2 hold pointwise (i.e. for any set of bidders), they also hold in expectation.",
                "Proposition 2 confirms that efficiency is indeed maximized at q = 1.",
                "These results motivate the following approach.",
                "Although tuning q can optimize current revenue, this may come at the price of future revenue because advertisers and users may be lost, seeing as their satisfaction decreases.",
                "To guarantee future revenue will not be hurt too much, the auctioneer can impose bounds on the percent efficiency and relevance loss he is willing to tolerate, with q = 1 being a natural baseline.",
                "By Proposition 2, a lower bound on efficiency will yield upper and lower bounds on the search space for q.",
                "By Proposition 1, a lower bound on relevance will yield another lower bound on q.",
                "The revenue curve can then be plotted within the allowable range of q to find the revenue-optimal setting. 7.",
                "SIMULATIONS To add a measure of reality to our simulations, we fit distributions for value and relevance to Yahoo! bid and clickthrough rate data for a certain keyword that draws over a million searches per month. (We do not reveal the identity of the keyword to respect the privacy of the advertisers.)",
                "We obtained click and impression data for the advertisers bidding on the keyword.",
                "From this we estimated advertiser and position effects using a maximum-likelihood criterion.",
                "We found that, indeed, position effects are monotonically decreasing with lower rank.",
                "We then fit a beta distribution to the advertiser effects resulting in parameters a = 2.71 and b = 25.43.",
                "We obtained bids of advertisers for the keyword.",
                "Using Varians [11] technique, we derived bounds on the bidders actual values given these bids.",
                "By this technique, upper and lower bounds are obtained on bidder values given the bids according to inequality (3).",
                "If the interval for a given value is empty, i.e. its upper bound lies below its lower bound, then we compute the smallest perturbation to the bids necessary to make the interval non-empty, which involves solving a quadratic program.",
                "We found that the mean absolute deviation required to fit bids to symmetric equilibrium was 0 1 2 3 4 5 6 7 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 Value Density 0 0.05 0.1 0.15 0.2 0.25 0 2 4 6 8 10 Relevance Density Figure 1: Empirical marginal distributions of value and relevance. always at most 0.08, and usually significantly less, over different days in a period of two weeks.6 We fit a lognormal distribution to the lower bounds on the bidders values, resulting in parameters μ = 0.35 and σ = 0.71.",
                "The empirical distributions of value and relevance together with the fitted lognormal and beta curves are given in Figure 1.",
                "It appears that mixtures of beta and lognormal distributions might be better fits, but since these distributions are used mainly for illustration purposes, we err on the side of simplicity.",
                "We used a Gaussian copula to create dependence between value and relevance.7 Given the marginal distributions for value and relevance together with this copula, we simulated the revenue effect of varying q for different levels of Spearman correlation, with 12 slots and 13 bidders.",
                "The results are shown in Figure 2.8 It is apparent from the figure that the optimal choice of q moves to the right as correlation decreases; this agrees with our intuition from Section 5.",
                "The choice is very sensitive to the level of correlation.",
                "If choosing only between rankby-bid and rank-by-revenue, rank-by-bid is best for positive correlation whereas rank-by-revenue is best for negative correlation.",
                "At zero correlation, they give about the same expected revenue in this instance.",
                "Figure 2 also shows that in principle, the optimal q may be negative.",
                "It may also occur beyond 1 for different distributions, but we do not know if these would be realistic.",
                "The trends in efficiency and relevance are as described in the results from Section 6. (Any small deviation from these trends is due to the randomness inherent in the simulations.)",
                "The curves level off as q → +∞ because eventually agents are ranked purely according to relevance, and similarly as q → −∞.",
                "A typical Spearman correlation between value and relevance for the keyword was about 0.4-for different days in a week the correlation lay within [0.36, 0.55].",
                "Simulation results with this correlation are in Figure 3.",
                "In this instance rank-by-bid is in fact optimal, yielding 25% more revenue than rank-by-revenue.",
                "However, at q = 0 efficiency and relevance are 9% and 17% lower than at q = 1, respectively.",
                "Imposing a bound of, say, 5% on efficiency and relevance loss from the baseline at q = 1, the optimal setting is q = 0.6, yielding 11% more revenue than the baseline. 6 See Varian [11] for a definition of mean absolute deviation. 7 A copula is a function that takes marginal distributions and gives a joint distribution with these marginals.",
                "It can be designed so that the variables are correlated.",
                "See for example Nelsen [10]. 8 The y-axes in Figures 2-4 have been normalized because the simulations are based on proprietary data.",
                "Only relative values are meaningful. 54 0 1 2 3 4 5 6 7 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 0 1 2 3 4 5 6 7 8 9 10 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.6 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 2: Revenue, efficiency, and relevance for different parameters q under varying Spearman correlation (key at right).",
                "Estimated standard errors are less than 1% of the values shown. -1 -0.5 0 0.5 1 1 1.5 2 2.5 3 3.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 R(q) q Revenue 2 2.5 3 3.5 4 4.5 5 5.5 6 6.5 7 7.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 V(q) q Efficiency 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 -2 -1.5 -1 -0.5 0 0.5 1 1.5 2 L(q) q Relevance Figure 3: Revenue, efficiency, and relevance for different parameters q with Spearman correlation of 0.4.",
                "Estimated standard errors are less than 1% of the values shown.",
                "We also looked into the effect of introducing a reserve score.",
                "Results are shown in Figure 4.",
                "Naturally, both efficiency and relevance suffer with an increasing reserve score.",
                "The optimal setting is r = 0.2, which gives only an 8% increase in revenue from r = 0.",
                "However, it results in a 13% efficiency loss and a 26% relevance loss.",
                "Tuning weights seems to be a much more desirable approach than introducing a reserve score in this instance.",
                "The reason why efficiency and relevance suffer more with a reserve score is that this approach will often exclude bidders entirely, whereas this never occurs when tuning weights.",
                "The two approaches are not mutually exclusive, however, and some combination of the two might prove better than either alone, although we did not investigate this possibility. 8.",
                "CONCLUSIONS In this work we looked into the revenue properties of a family of ranking rules that contains the Yahoo! and Google models as special cases.",
                "In practice, it should be very simple to move between rules within the family: this simply involves changing the exponent q applied to advertiser effects.",
                "We also showed that, in principle, the same effect could be obtained by using bidding credits.",
                "Despite the simplicity of the rule change, simulations revealed that properly tuning q can significantly improve revenue.",
                "In the simulations, the revenue improvements were greater than what could be obtained using reserve prices.",
                "On the other hand, we showed that advertiser satisfaction and user experience could suffer if q is made too small.",
                "We proposed that the auctioneer set bounds on the decrease in advertiser and user satisfaction he is willing to tolerate, which would imply bounds on the range of allowable q.",
                "With appropriate estimates for the distributions of value and relevance, and knowledge of their correlation, the revenue curve can then be plotted within this range to locate the optimum.",
                "There are several ways to push this research further.",
                "It would be interesting to do this analysis for a variety of keywords, to see if the optimal setting of q is always so sensitive to the level of correlation.",
                "If it is, then simply using rank-bybid where there is positive correlation, and rank-by-revenue where there is negative correlation, could be fine to a first approximation and already improve revenue.",
                "It would also be interesting to compare the effects of tuning q versus reserve pricing for keywords that have few bidders.",
                "In this instance reserve pricing should be more competitive, but this is still an open question.",
                "In principle the minimum revenue in Nash equilibrium can be found by linear programming.",
                "However, many allocations can arise in Nash equilibrium, and a linear program needs to be solved for each of these.",
                "There is as yet no efficient way to enumerate all possible Nash allocations, so finding the minimum revenue is currently infeasible.",
                "If this problem could be solved, we could run simulations for Nash equilibrium instead of symmetric equilibrium, to see if our insights are robust to the choice of solution concept.",
                "Larger classes of ranking rules could be relevant.",
                "For instance, it is possible to introduce discounts ds and rank according to wsbs − ds; the equilibrium analysis generalizes to this case as well.",
                "With this larger class the virtual score can equal the score, e.g. in the case of a uniform marginal distribution over values.",
                "It is unclear, though, whether such extensions help with more realistic distributions. 55 0 0.5 1 1.5 2 2.5 3 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 R(r) r Revenue 0 1 2 3 4 5 6 7 8 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 V(r) r Efficiency 0 0.5 1 1.5 2 2.5 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 L(r) r Relevance Figure 4: Revenue, efficiency, and relevance for different reserve scores r, with Spearman correlation of 0.4 and q = 1.",
                "Estimates are averaged over 1000 samples.",
                "Acknowledgements We thank Pavel Berkhin, Chad Carson, Yiling Chen, Ashvin Kannan, Darshan Kantak, Chris LuVogt, Jan Pedersen, Michael Schwarz, Tong Zhang, and other members of Yahoo!",
                "Research and Yahoo!",
                "Search Marketing. 9.",
                "REFERENCES [1] G. Aggarwal, A. Goel, and R. Motwani.",
                "Truthful auctions for pricing search keywords.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [2] T. B¨orgers, I. Cox, M. Pesendorfer, and V. Petricek.",
                "Equilibrium bids in auctions of sponsored links: Theory and evidence.",
                "Working paper, November 2006. [3] B. Edelman, M. Ostrovsky, and M. Schwarz.",
                "Internet advertising and the Generalized Second Price auction: Selling billions of dollars worth of keywords.",
                "American Economic Review, forthcoming. [4] J. Feng, H. K. Bhargava, and D. M. Pennock.",
                "Implementing sponsored search in Web search engines: Computational evaluation of alternative mechanisms.",
                "INFORMS Journal on Computing, forthcoming. [5] G. Iyengar and A. Kumar.",
                "Characterizing optimal keyword auctions.",
                "In Proceedings of the 2nd Workshop on Sponsored Search Auctions, Ann Arbor, MI, 2006. [6] D. Knuth.",
                "The Art of Computer Programming, volume 3.",
                "Addison-Wesley, 1997. [7] V. Krishna.",
                "Auction Theory.",
                "Academic Press, 2002. [8] S. Lahaie.",
                "An analysis of alternative slot auction designs for sponsored search.",
                "In Proceedings of the 7th ACM Conference on Electronic Commerce, Ann Arbor, MI, 2006. [9] R. B. Myerson.",
                "Optimal auction design.",
                "Mathematics of Operations Research, 6(1), February 1981. [10] R. B. Nelsen.",
                "An Introduction to Copulas.",
                "Springer, 2006. [11] H. R. Varian.",
                "Position auctions.",
                "International Journal of Industrial Organization, forthcoming. 56"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": []
        }
    }
}